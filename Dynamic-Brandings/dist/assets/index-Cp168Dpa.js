function HD(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uw={exports:{}},$h={},dw={exports:{}},nr={};var CI;function Bq(){if(CI)return nr;CI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function _(ne){return ne===null||typeof ne!="object"?null:(ne=x&&ne[x]||ne["@@iterator"],typeof ne=="function"?ne:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,E={};function A(ne,ue,be){this.props=ne,this.context=ue,this.refs=E,this.updater=be||T}A.prototype.isReactComponent={},A.prototype.setState=function(ne,ue){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,ue,"setState")},A.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function R(){}R.prototype=A.prototype;function P(ne,ue,be){this.props=ne,this.context=ue,this.refs=E,this.updater=be||T}var I=P.prototype=new R;I.constructor=P,O(I,A.prototype),I.isPureReactComponent=!0;var D=Array.isArray,L=Object.prototype.hasOwnProperty,F={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function H(ne,ue,be){var Pe,rt={},Ie=null,Re=null;if(ue!=null)for(Pe in ue.ref!==void 0&&(Re=ue.ref),ue.key!==void 0&&(Ie=""+ue.key),ue)L.call(ue,Pe)&&!U.hasOwnProperty(Pe)&&(rt[Pe]=ue[Pe]);var Be=arguments.length-2;if(Be===1)rt.children=be;else if(1<Be){for(var Te=Array(Be),$e=0;$e<Be;$e++)Te[$e]=arguments[$e+2];rt.children=Te}if(ne&&ne.defaultProps)for(Pe in Be=ne.defaultProps,Be)rt[Pe]===void 0&&(rt[Pe]=Be[Pe]);return{$$typeof:t,type:ne,key:Ie,ref:Re,props:rt,_owner:F.current}}function W(ne,ue){return{$$typeof:t,type:ne.type,key:ue,ref:ne.ref,props:ne.props,_owner:ne._owner}}function ce(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function K(ne){var ue={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(be){return ue[be]})}var z=/\/+/g;function Z(ne,ue){return typeof ne=="object"&&ne!==null&&ne.key!=null?K(""+ne.key):ue.toString(36)}function Q(ne,ue,be,Pe,rt){var Ie=typeof ne;(Ie==="undefined"||Ie==="boolean")&&(ne=null);var Re=!1;if(ne===null)Re=!0;else switch(Ie){case"string":case"number":Re=!0;break;case"object":switch(ne.$$typeof){case t:case e:Re=!0}}if(Re)return Re=ne,rt=rt(Re),ne=Pe===""?"."+Z(Re,0):Pe,D(rt)?(be="",ne!=null&&(be=ne.replace(z,"$&/")+"/"),Q(rt,ue,be,"",function($e){return $e})):rt!=null&&(ce(rt)&&(rt=W(rt,be+(!rt.key||Re&&Re.key===rt.key?"":(""+rt.key).replace(z,"$&/")+"/")+ne)),ue.push(rt)),1;if(Re=0,Pe=Pe===""?".":Pe+":",D(ne))for(var Be=0;Be<ne.length;Be++){Ie=ne[Be];var Te=Pe+Z(Ie,Be);Re+=Q(Ie,ue,be,Te,rt)}else if(Te=_(ne),typeof Te=="function")for(ne=Te.call(ne),Be=0;!(Ie=ne.next()).done;)Ie=Ie.value,Te=Pe+Z(Ie,Be++),Re+=Q(Ie,ue,be,Te,rt);else if(Ie==="object")throw ue=String(ne),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Re}function Y(ne,ue,be){if(ne==null)return ne;var Pe=[],rt=0;return Q(ne,Pe,"","",function(Ie){return ue.call(be,Ie,rt++)}),Pe}function J(ne){if(ne._status===-1){var ue=ne._result;ue=ue(),ue.then(function(be){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=be)},function(be){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=be)}),ne._status===-1&&(ne._status=0,ne._result=ue)}if(ne._status===1)return ne._result.default;throw ne._result}var re={current:null},ie={transition:null},se={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:ie,ReactCurrentOwner:F};function me(){throw Error("act(...) is not supported in production builds of React.")}return nr.Children={map:Y,forEach:function(ne,ue,be){Y(ne,function(){ue.apply(this,arguments)},be)},count:function(ne){var ue=0;return Y(ne,function(){ue++}),ue},toArray:function(ne){return Y(ne,function(ue){return ue})||[]},only:function(ne){if(!ce(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},nr.Component=A,nr.Fragment=r,nr.Profiler=i,nr.PureComponent=P,nr.StrictMode=n,nr.Suspense=d,nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,nr.act=me,nr.cloneElement=function(ne,ue,be){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var Pe=O({},ne.props),rt=ne.key,Ie=ne.ref,Re=ne._owner;if(ue!=null){if(ue.ref!==void 0&&(Ie=ue.ref,Re=F.current),ue.key!==void 0&&(rt=""+ue.key),ne.type&&ne.type.defaultProps)var Be=ne.type.defaultProps;for(Te in ue)L.call(ue,Te)&&!U.hasOwnProperty(Te)&&(Pe[Te]=ue[Te]===void 0&&Be!==void 0?Be[Te]:ue[Te])}var Te=arguments.length-2;if(Te===1)Pe.children=be;else if(1<Te){Be=Array(Te);for(var $e=0;$e<Te;$e++)Be[$e]=arguments[$e+2];Pe.children=Be}return{$$typeof:t,type:ne.type,key:rt,ref:Ie,props:Pe,_owner:Re}},nr.createContext=function(ne){return ne={$$typeof:o,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:s,_context:ne},ne.Consumer=ne},nr.createElement=H,nr.createFactory=function(ne){var ue=H.bind(null,ne);return ue.type=ne,ue},nr.createRef=function(){return{current:null}},nr.forwardRef=function(ne){return{$$typeof:u,render:ne}},nr.isValidElement=ce,nr.lazy=function(ne){return{$$typeof:g,_payload:{_status:-1,_result:ne},_init:J}},nr.memo=function(ne,ue){return{$$typeof:f,type:ne,compare:ue===void 0?null:ue}},nr.startTransition=function(ne){var ue=ie.transition;ie.transition={};try{ne()}finally{ie.transition=ue}},nr.unstable_act=me,nr.useCallback=function(ne,ue){return re.current.useCallback(ne,ue)},nr.useContext=function(ne){return re.current.useContext(ne)},nr.useDebugValue=function(){},nr.useDeferredValue=function(ne){return re.current.useDeferredValue(ne)},nr.useEffect=function(ne,ue){return re.current.useEffect(ne,ue)},nr.useId=function(){return re.current.useId()},nr.useImperativeHandle=function(ne,ue,be){return re.current.useImperativeHandle(ne,ue,be)},nr.useInsertionEffect=function(ne,ue){return re.current.useInsertionEffect(ne,ue)},nr.useLayoutEffect=function(ne,ue){return re.current.useLayoutEffect(ne,ue)},nr.useMemo=function(ne,ue){return re.current.useMemo(ne,ue)},nr.useReducer=function(ne,ue,be){return re.current.useReducer(ne,ue,be)},nr.useRef=function(ne){return re.current.useRef(ne)},nr.useState=function(ne){return re.current.useState(ne)},nr.useSyncExternalStore=function(ne,ue,be){return re.current.useSyncExternalStore(ne,ue,be)},nr.useTransition=function(){return re.current.useTransition()},nr.version="18.3.1",nr}var TI;function E1(){return TI||(TI=1,dw.exports=Bq()),dw.exports}var OI;function Fq(){if(OI)return $h;OI=1;var t=E1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,f){var g,x={},_=null,T=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)n.call(d,g)&&!s.hasOwnProperty(g)&&(x[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)x[g]===void 0&&(x[g]=d[g]);return{$$typeof:e,type:u,key:_,ref:T,props:x,_owner:i.current}}return $h.Fragment=r,$h.jsx=o,$h.jsxs=o,$h}var NI;function Uq(){return NI||(NI=1,uw.exports=Fq()),uw.exports}var m=Uq(),c0={},fw={exports:{}},ls={},hw={exports:{}},pw={};var II;function $q(){return II||(II=1,(function(t){function e(ie,se){var me=ie.length;ie.push(se);e:for(;0<me;){var ne=me-1>>>1,ue=ie[ne];if(0<i(ue,se))ie[ne]=se,ie[me]=ue,me=ne;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var se=ie[0],me=ie.pop();if(me!==se){ie[0]=me;e:for(var ne=0,ue=ie.length,be=ue>>>1;ne<be;){var Pe=2*(ne+1)-1,rt=ie[Pe],Ie=Pe+1,Re=ie[Ie];if(0>i(rt,me))Ie<ue&&0>i(Re,rt)?(ie[ne]=Re,ie[Ie]=me,ne=Ie):(ie[ne]=rt,ie[Pe]=me,ne=Pe);else if(Ie<ue&&0>i(Re,me))ie[ne]=Re,ie[Ie]=me,ne=Ie;else break e}}return se}function i(ie,se){var me=ie.sortIndex-se.sortIndex;return me!==0?me:ie.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],g=1,x=null,_=3,T=!1,O=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ie){for(var se=r(f);se!==null;){if(se.callback===null)n(f);else if(se.startTime<=ie)n(f),se.sortIndex=se.expirationTime,e(d,se);else break;se=r(f)}}function D(ie){if(E=!1,I(ie),!O)if(r(d)!==null)O=!0,J(L);else{var se=r(f);se!==null&&re(D,se.startTime-ie)}}function L(ie,se){O=!1,E&&(E=!1,R(H),H=-1),T=!0;var me=_;try{for(I(se),x=r(d);x!==null&&(!(x.expirationTime>se)||ie&&!K());){var ne=x.callback;if(typeof ne=="function"){x.callback=null,_=x.priorityLevel;var ue=ne(x.expirationTime<=se);se=t.unstable_now(),typeof ue=="function"?x.callback=ue:x===r(d)&&n(d),I(se)}else n(d);x=r(d)}if(x!==null)var be=!0;else{var Pe=r(f);Pe!==null&&re(D,Pe.startTime-se),be=!1}return be}finally{x=null,_=me,T=!1}}var F=!1,U=null,H=-1,W=5,ce=-1;function K(){return!(t.unstable_now()-ce<W)}function z(){if(U!==null){var ie=t.unstable_now();ce=ie;var se=!0;try{se=U(!0,ie)}finally{se?Z():(F=!1,U=null)}}else F=!1}var Z;if(typeof P=="function")Z=function(){P(z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=z,Z=function(){Y.postMessage(null)}}else Z=function(){A(z,0)};function J(ie){U=ie,F||(F=!0,Z())}function re(ie,se){H=A(function(){ie(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){O||T||(O=!0,J(L))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(ie){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var me=_;_=se;try{return ie()}finally{_=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,se){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var me=_;_=ie;try{return se()}finally{_=me}},t.unstable_scheduleCallback=function(ie,se,me){var ne=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ne+me:ne):me=ne,ie){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=me+ue,ie={id:g++,callback:se,priorityLevel:ie,startTime:me,expirationTime:ue,sortIndex:-1},me>ne?(ie.sortIndex=me,e(f,ie),r(d)===null&&ie===r(f)&&(E?(R(H),H=-1):E=!0,re(D,me-ne))):(ie.sortIndex=ue,e(d,ie),O||T||(O=!0,J(L))),ie},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(ie){var se=_;return function(){var me=_;_=se;try{return ie.apply(this,arguments)}finally{_=me}}}})(pw)),pw}var PI;function Vq(){return PI||(PI=1,hw.exports=$q()),hw.exports}var RI;function qq(){if(RI)return ls;RI=1;var t=E1(),e=Vq();function r(l){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+l,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+l+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,p){o(l,p),o(l+"Capture",p)}function o(l,p){for(i[l]=p,l=0;l<p.length;l++)n.add(p[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function _(l){return d.call(x,l)?!0:d.call(g,l)?!1:f.test(l)?x[l]=!0:(g[l]=!0,!1)}function T(l,p,b,C){if(b!==null&&b.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return C?!1:b!==null?!b.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function O(l,p,b,C){if(p===null||typeof p>"u"||T(l,p,b,C))return!0;if(C)return!1;if(b!==null)switch(b.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function E(l,p,b,C,k,B,G){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=C,this.attributeNamespace=k,this.mustUseProperty=b,this.propertyName=l,this.type=p,this.sanitizeURL=B,this.removeEmptyString=G}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){A[l]=new E(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var p=l[0];A[p]=new E(p,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){A[l]=new E(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){A[l]=new E(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){A[l]=new E(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){A[l]=new E(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){A[l]=new E(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){A[l]=new E(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){A[l]=new E(l,5,!1,l.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function P(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var p=l.replace(R,P);A[p]=new E(p,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var p=l.replace(R,P);A[p]=new E(p,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var p=l.replace(R,P);A[p]=new E(p,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){A[l]=new E(l,1,!1,l.toLowerCase(),null,!1,!1)}),A.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){A[l]=new E(l,1,!1,l.toLowerCase(),null,!0,!0)});function I(l,p,b,C){var k=A.hasOwnProperty(p)?A[p]:null;(k!==null?k.type!==0:C||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(O(p,b,k,C)&&(b=null),C||k===null?_(p)&&(b===null?l.removeAttribute(p):l.setAttribute(p,""+b)):k.mustUseProperty?l[k.propertyName]=b===null?k.type===3?!1:"":b:(p=k.attributeName,C=k.attributeNamespace,b===null?l.removeAttribute(p):(k=k.type,b=k===3||k===4&&b===!0?"":""+b,C?l.setAttributeNS(C,p,b):l.setAttribute(p,b))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),K=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),ie=Symbol.iterator;function se(l){return l===null||typeof l!="object"?null:(l=ie&&l[ie]||l["@@iterator"],typeof l=="function"?l:null)}var me=Object.assign,ne;function ue(l){if(ne===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);ne=p&&p[1]||""}return`
`+ne+l}var be=!1;function Pe(l,p){if(!l||be)return"";be=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ee){var C=Ee}Reflect.construct(l,[],p)}else{try{p.call()}catch(Ee){C=Ee}l.call(p.prototype)}else{try{throw Error()}catch(Ee){C=Ee}l()}}catch(Ee){if(Ee&&C&&typeof Ee.stack=="string"){for(var k=Ee.stack.split(`
`),B=C.stack.split(`
`),G=k.length-1,ae=B.length-1;1<=G&&0<=ae&&k[G]!==B[ae];)ae--;for(;1<=G&&0<=ae;G--,ae--)if(k[G]!==B[ae]){if(G!==1||ae!==1)do if(G--,ae--,0>ae||k[G]!==B[ae]){var fe=`
`+k[G].replace(" at new "," at ");return l.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",l.displayName)),fe}while(1<=G&&0<=ae);break}}}finally{be=!1,Error.prepareStackTrace=b}return(l=l?l.displayName||l.name:"")?ue(l):""}function rt(l){switch(l.tag){case 5:return ue(l.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return l=Pe(l.type,!1),l;case 11:return l=Pe(l.type.render,!1),l;case 1:return l=Pe(l.type,!0),l;default:return""}}function Ie(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case U:return"Fragment";case F:return"Portal";case W:return"Profiler";case H:return"StrictMode";case Z:return"Suspense";case Q:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case K:return(l.displayName||"Context")+".Consumer";case ce:return(l._context.displayName||"Context")+".Provider";case z:var p=l.render;return l=l.displayName,l||(l=p.displayName||p.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Y:return p=l.displayName||null,p!==null?p:Ie(l.type)||"Memo";case J:p=l._payload,l=l._init;try{return Ie(l(p))}catch{}}return null}function Re(l){var p=l.type;switch(l.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=p.render,l=l.displayName||l.name||"",p.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(p);case 8:return p===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Be(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Te(l){var p=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function $e(l){var p=Te(l)?"checked":"value",b=Object.getOwnPropertyDescriptor(l.constructor.prototype,p),C=""+l[p];if(!l.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,B=b.set;return Object.defineProperty(l,p,{configurable:!0,get:function(){return k.call(this)},set:function(G){C=""+G,B.call(this,G)}}),Object.defineProperty(l,p,{enumerable:b.enumerable}),{getValue:function(){return C},setValue:function(G){C=""+G},stopTracking:function(){l._valueTracker=null,delete l[p]}}}}function Ve(l){l._valueTracker||(l._valueTracker=$e(l))}function Ce(l){if(!l)return!1;var p=l._valueTracker;if(!p)return!0;var b=p.getValue(),C="";return l&&(C=Te(l)?l.checked?"true":"false":l.value),l=C,l!==b?(p.setValue(l),!0):!1}function et(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function _t(l,p){var b=p.checked;return me({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??l._wrapperState.initialChecked})}function Ne(l,p){var b=p.defaultValue==null?"":p.defaultValue,C=p.checked!=null?p.checked:p.defaultChecked;b=Be(p.value!=null?p.value:b),l._wrapperState={initialChecked:C,initialValue:b,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Ke(l,p){p=p.checked,p!=null&&I(l,"checked",p,!1)}function ot(l,p){Ke(l,p);var b=Be(p.value),C=p.type;if(b!=null)C==="number"?(b===0&&l.value===""||l.value!=b)&&(l.value=""+b):l.value!==""+b&&(l.value=""+b);else if(C==="submit"||C==="reset"){l.removeAttribute("value");return}p.hasOwnProperty("value")?dt(l,p.type,b):p.hasOwnProperty("defaultValue")&&dt(l,p.type,Be(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(l.defaultChecked=!!p.defaultChecked)}function Ze(l,p,b){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var C=p.type;if(!(C!=="submit"&&C!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+l._wrapperState.initialValue,b||p===l.value||(l.value=p),l.defaultValue=p}b=l.name,b!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,b!==""&&(l.name=b)}function dt(l,p,b){(p!=="number"||et(l.ownerDocument)!==l)&&(b==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+b&&(l.defaultValue=""+b))}var Bt=Array.isArray;function Fe(l,p,b,C){if(l=l.options,p){p={};for(var k=0;k<b.length;k++)p["$"+b[k]]=!0;for(b=0;b<l.length;b++)k=p.hasOwnProperty("$"+l[b].value),l[b].selected!==k&&(l[b].selected=k),k&&C&&(l[b].defaultSelected=!0)}else{for(b=""+Be(b),p=null,k=0;k<l.length;k++){if(l[k].value===b){l[k].selected=!0,C&&(l[k].defaultSelected=!0);return}p!==null||l[k].disabled||(p=l[k])}p!==null&&(p.selected=!0)}}function le(l,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},p,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function xe(l,p){var b=p.value;if(b==null){if(b=p.children,p=p.defaultValue,b!=null){if(p!=null)throw Error(r(92));if(Bt(b)){if(1<b.length)throw Error(r(93));b=b[0]}p=b}p==null&&(p=""),b=p}l._wrapperState={initialValue:Be(b)}}function Ae(l,p){var b=Be(p.value),C=Be(p.defaultValue);b!=null&&(b=""+b,b!==l.value&&(l.value=b),p.defaultValue==null&&l.defaultValue!==b&&(l.defaultValue=b)),C!=null&&(l.defaultValue=""+C)}function tt(l){var p=l.textContent;p===l._wrapperState.initialValue&&p!==""&&p!==null&&(l.value=p)}function Ge(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(l,p){return l==null||l==="http://www.w3.org/1999/xhtml"?Ge(p):l==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var nt,Nt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,b,C,k){MSApp.execUnsafeLocalFunction(function(){return l(p,b,C,k)})}:l})(function(l,p){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=p;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=nt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;p.firstChild;)l.appendChild(p.firstChild)}});function Cr(l,p){if(p){var b=l.firstChild;if(b&&b===l.lastChild&&b.nodeType===3){b.nodeValue=p;return}}l.textContent=p}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eh=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(l){eh.forEach(function(p){p=p+l.charAt(0).toUpperCase()+l.substring(1),kr[p]=kr[l]})});function Mr(l,p,b){return p==null||typeof p=="boolean"||p===""?"":b||typeof p!="number"||p===0||kr.hasOwnProperty(l)&&kr[l]?(""+p).trim():p+"px"}function Ye(l,p){l=l.style;for(var b in p)if(p.hasOwnProperty(b)){var C=b.indexOf("--")===0,k=Mr(b,p[b],C);b==="float"&&(b="cssFloat"),C?l.setProperty(b,k):l[b]=k}}var cn=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(l,p){if(p){if(cn[l]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Ir(l,p){if(l.indexOf("-")===-1)return typeof p.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bs=null;function cc(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Pu=null,rr=null,es=null;function th(l){if(l=Ch(l)){if(typeof Pu!="function")throw Error(r(280));var p=l.stateNode;p&&(p=Eg(p),Pu(l.stateNode,l.type,p))}}function rh(l){rr?es?es.push(l):es=[l]:rr=l}function ts(){if(rr){var l=rr,p=es;if(es=rr=null,th(l),p)for(l=0;l<p.length;l++)th(p[l])}}function Ru(l,p){return l(p)}function $n(){}var $a=!1;function uc(l,p,b){if($a)return l(p,b);$a=!0;try{return Ru(l,p,b)}finally{$a=!1,(rr!==null||es!==null)&&($n(),ts())}}function Ni(l,p){var b=l.stateNode;if(b===null)return null;var C=Eg(b);if(C===null)return null;b=C[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(l=l.type,C=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!C;break e;default:l=!1}if(l)return null;if(b&&typeof b!="function")throw Error(r(231,p,typeof b));return b}var nh=!1;if(u)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){nh=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{nh=!1}function ih(l,p,b,C,k,B,G,ae,fe){var Ee=Array.prototype.slice.call(arguments,3);try{p.apply(b,Ee)}catch(Le){this.onError(Le)}}var kn=!1,Fs=null,gi=!1,lt=null,al={onError:function(l){kn=!0,Fs=l}};function sh(l,p,b,C,k,B,G,ae,fe){kn=!1,Fs=null,ih.apply(al,arguments)}function Ii(l,p,b,C,k,B,G,ae,fe){if(sh.apply(this,arguments),kn){if(kn){var Ee=Fs;kn=!1,Fs=null}else throw Error(r(198));gi||(gi=!0,lt=Ee)}}function rs(l){var p=l,b=l;if(l.alternate)for(;p.return;)p=p.return;else{l=p;do p=l,(p.flags&4098)!==0&&(b=p.return),l=p.return;while(l)}return p.tag===3?b:null}function dc(l){if(l.tag===13){var p=l.memoizedState;if(p===null&&(l=l.alternate,l!==null&&(p=l.memoizedState)),p!==null)return p.dehydrated}return null}function fc(l){if(rs(l)!==l)throw Error(r(188))}function Us(l){var p=l.alternate;if(!p){if(p=rs(l),p===null)throw Error(r(188));return p!==l?null:l}for(var b=l,C=p;;){var k=b.return;if(k===null)break;var B=k.alternate;if(B===null){if(C=k.return,C!==null){b=C;continue}break}if(k.child===B.child){for(B=k.child;B;){if(B===b)return fc(k),l;if(B===C)return fc(k),p;B=B.sibling}throw Error(r(188))}if(b.return!==C.return)b=k,C=B;else{for(var G=!1,ae=k.child;ae;){if(ae===b){G=!0,b=k,C=B;break}if(ae===C){G=!0,C=k,b=B;break}ae=ae.sibling}if(!G){for(ae=B.child;ae;){if(ae===b){G=!0,b=B,C=k;break}if(ae===C){G=!0,C=B,b=k;break}ae=ae.sibling}if(!G)throw Error(r(189))}}if(b.alternate!==C)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?l:p}function ng(l){return l=Us(l),l!==null?ig(l):null}function ig(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var p=ig(l);if(p!==null)return p;l=l.sibling}return null}var hs=e.unstable_scheduleCallback,ii=e.unstable_cancelCallback,Fr=e.unstable_shouldYield,sg=e.unstable_requestPaint,wr=e.unstable_now,ah=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,ag=e.unstable_UserBlockingPriority,Dr=e.unstable_NormalPriority,ol=e.unstable_LowPriority,og=e.unstable_IdlePriority,ur=null,Gt=null;function sr(l){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ur,l,void 0,(l.current.flags&128)===128)}catch{}}var Vi=Math.clz32?Math.clz32:Cn,oh=Math.log,lh=Math.LN2;function Cn(l){return l>>>=0,l===0?32:31-(oh(l)/lh|0)|0}var ps=64,ju=4194304;function Lr(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ms(l,p){var b=l.pendingLanes;if(b===0)return 0;var C=0,k=l.suspendedLanes,B=l.pingedLanes,G=b&268435455;if(G!==0){var ae=G&~k;ae!==0?C=Lr(ae):(B&=G,B!==0&&(C=Lr(B)))}else G=b&~k,G!==0?C=Lr(G):B!==0&&(C=Lr(B));if(C===0)return 0;if(p!==0&&p!==C&&(p&k)===0&&(k=C&-C,B=p&-p,k>=B||k===16&&(B&4194240)!==0))return p;if((C&4)!==0&&(C|=b&16),p=l.entangledLanes,p!==0)for(l=l.entanglements,p&=C;0<p;)b=31-Vi(p),k=1<<b,C|=l[b],p&=~k;return C}function zv(l,p){switch(l){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(l,p){for(var b=l.suspendedLanes,C=l.pingedLanes,k=l.expirationTimes,B=l.pendingLanes;0<B;){var G=31-Vi(B),ae=1<<G,fe=k[G];fe===-1?((ae&b)===0||(ae&C)!==0)&&(k[G]=zv(ae,p)):fe<=p&&(l.expiredLanes|=ae),B&=~ae}}function br(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Vn(){var l=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),l}function ye(l){for(var p=[],b=0;31>b;b++)p.push(l);return p}function ee(l,p,b){l.pendingLanes|=p,p!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,p=31-Vi(p),l[p]=b}function wt(l,p){var b=l.pendingLanes&~p;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=p,l.mutableReadLanes&=p,l.entangledLanes&=p,p=l.entanglements;var C=l.eventTimes;for(l=l.expirationTimes;0<b;){var k=31-Vi(b),B=1<<k;p[k]=0,C[k]=-1,l[k]=-1,b&=~B}}function vn(l,p){var b=l.entangledLanes|=p;for(l=l.entanglements;b;){var C=31-Vi(b),k=1<<C;k&p|l[C]&p&&(l[C]|=p),b&=~k}}var Kt=0;function lg(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var ku,Pi,Et,Ur,ch,uh=!1,cl=[],gs=null,$s=null,Va=null,en=new Map,oa=new Map,yi=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cg(l,p){switch(l){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":en.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(p.pointerId)}}function $t(l,p,b,C,k,B){return l===null||l.nativeEvent!==B?(l={blockedOn:p,domEventName:b,eventSystemFlags:C,nativeEvent:B,targetContainers:[k]},p!==null&&(p=Ch(p),p!==null&&Pi(p)),l):(l.eventSystemFlags|=C,p=l.targetContainers,k!==null&&p.indexOf(k)===-1&&p.push(k),l)}function qn(l,p,b,C,k){switch(p){case"focusin":return gs=$t(gs,l,p,b,C,k),!0;case"dragenter":return $s=$t($s,l,p,b,C,k),!0;case"mouseover":return Va=$t(Va,l,p,b,C,k),!0;case"pointerover":var B=k.pointerId;return en.set(B,$t(en.get(B)||null,l,p,b,C,k)),!0;case"gotpointercapture":return B=k.pointerId,oa.set(B,$t(oa.get(B)||null,l,p,b,C,k)),!0}return!1}function ug(l){var p=_c(l.target);if(p!==null){var b=rs(p);if(b!==null){if(p=b.tag,p===13){if(p=dc(b),p!==null){l.blockedOn=p,ch(l.priority,function(){Et(b)});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){l.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ul(l){if(l.blockedOn!==null)return!1;for(var p=l.targetContainers;0<p.length;){var b=Mu(l.domEventName,l.eventSystemFlags,p[0],l.nativeEvent);if(b===null){b=l.nativeEvent;var C=new b.constructor(b.type,b);Bs=C,b.target.dispatchEvent(C),Bs=null}else return p=Ch(b),p!==null&&Pi(p),l.blockedOn=b,!1;p.shift()}return!0}function dh(l,p,b){ul(l)&&b.delete(p)}function mo(){uh=!1,gs!==null&&ul(gs)&&(gs=null),$s!==null&&ul($s)&&($s=null),Va!==null&&ul(Va)&&(Va=null),en.forEach(dh),oa.forEach(dh)}function hc(l,p){l.blockedOn===p&&(l.blockedOn=null,uh||(uh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mo)))}function la(l){function p(k){return hc(k,l)}if(0<cl.length){hc(cl[0],l);for(var b=1;b<cl.length;b++){var C=cl[b];C.blockedOn===l&&(C.blockedOn=null)}}for(gs!==null&&hc(gs,l),$s!==null&&hc($s,l),Va!==null&&hc(Va,l),en.forEach(p),oa.forEach(p),b=0;b<yi.length;b++)C=yi[b],C.blockedOn===l&&(C.blockedOn=null);for(;0<yi.length&&(b=yi[0],b.blockedOn===null);)ug(b),b.blockedOn===null&&yi.shift()}var Vs=D.ReactCurrentBatchConfig,qa=!0;function dg(l,p,b,C){var k=Kt,B=Vs.transition;Vs.transition=null;try{Kt=1,go(l,p,b,C)}finally{Kt=k,Vs.transition=B}}function pc(l,p,b,C){var k=Kt,B=Vs.transition;Vs.transition=null;try{Kt=4,go(l,p,b,C)}finally{Kt=k,Vs.transition=B}}function go(l,p,b,C){if(qa){var k=Mu(l,p,b,C);if(k===null)ex(l,p,C,zn,b),cg(l,C);else if(qn(k,l,p,b,C))C.stopPropagation();else if(cg(l,C),p&4&&-1<It.indexOf(l)){for(;k!==null;){var B=Ch(k);if(B!==null&&ku(B),B=Mu(l,p,b,C),B===null&&ex(l,p,C,zn,b),B===k)break;k=B}k!==null&&C.stopPropagation()}else ex(l,p,C,null,b)}}var zn=null;function Mu(l,p,b,C){if(zn=null,l=cc(C),l=_c(l),l!==null)if(p=rs(l),p===null)l=null;else if(b=p.tag,b===13){if(l=dc(p),l!==null)return l;l=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;l=null}else p!==l&&(l=null);return zn=l,null}function fh(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ah()){case je:return 1;case ag:return 4;case Dr:case ol:return 16;case og:return 536870912;default:return 16}default:return 16}}var ca=null,hh=null,Du=null;function fg(){if(Du)return Du;var l,p=hh,b=p.length,C,k="value"in ca?ca.value:ca.textContent,B=k.length;for(l=0;l<b&&p[l]===k[l];l++);var G=b-l;for(C=1;C<=G&&p[b-C]===k[B-C];C++);return Du=k.slice(l,1<C?1-C:void 0)}function hr(l){var p=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&p===13&&(l=13)):l=p,l===10&&(l=13),32<=l||l===13?l:0}function mc(){return!0}function gc(){return!1}function xn(l){function p(b,C,k,B,G){this._reactName=b,this._targetInst=k,this.type=C,this.nativeEvent=B,this.target=G,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(b=l[ae],this[ae]=b?b(B):B[ae]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?mc:gc,this.isPropagationStopped=gc,this}return me(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),p}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Se=xn(dl),qt=me({},dl,{view:0,detail:0}),Wn=xn(qt),fl,Lu,yc,Bu=me({},qt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==yc&&(yc&&l.type==="mousemove"?(fl=l.screenX-yc.screenX,Lu=l.screenY-yc.screenY):Lu=fl=0,yc=l),fl)},movementY:function(l){return"movementY"in l?l.movementY:Lu}}),hg=xn(Bu),ph=me({},Bu,{dataTransfer:0}),Tn=xn(ph),mh=me({},qt,{relatedTarget:0}),$r=xn(mh),Fu=me({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=xn(Fu),Tr=me({},dl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ct=xn(Tr),Wv=me({},dl,{data:0}),Pr=xn(Wv),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qs(l){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(l):(l=Hv[l])?!!p[l]:!1}function vc(){return qs}var pg=me({},qt,{key:function(l){if(l.key){var p=vo[l.key]||l.key;if(p!=="Unidentified")return p}return l.type==="keypress"?(l=hr(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?hl[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(l){return l.type==="keypress"?hr(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?hr(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),gh=xn(pg),mg=me({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=xn(mg),Gv=me({},qt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),pl=xn(Gv),vh=me({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kv=xn(vh),xc=me({},Bu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Xv=xn(xc),za=[9,13,27,32],ml=u&&"CompositionEvent"in window,si=null;u&&"documentMode"in document&&(si=document.documentMode);var gg=u&&"TextEvent"in window&&!si,ys=u&&(!ml||si&&8<si&&11>=si),yg=" ",Uu=!1;function vg(l,p){switch(l){case"keyup":return za.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var vi=!1;function Yv(l,p){switch(l){case"compositionend":return xh(p);case"keypress":return p.which!==32?null:(Uu=!0,yg);case"textInput":return l=p.data,l===yg&&Uu?null:l;default:return null}}function wh(l,p){if(vi)return l==="compositionend"||!ml&&vg(l,p)?(l=fg(),Du=hh=ca=null,vi=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return ys&&p.locale!=="ko"?null:p.data;default:return null}}var wc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(l){var p=l&&l.nodeName&&l.nodeName.toLowerCase();return p==="input"?!!wc[l.type]:p==="textarea"}function bc(l,p,b,C){rh(C),p=bg(p,"onChange"),0<p.length&&(b=new Se("onChange","change",null,b,C),l.push({event:b,listeners:p}))}var V=null,a=null;function c(l){VO(l,0)}function h(l){var p=qu(l);if(Ce(p))return l}function y(l,p){if(l==="change")return p}var v=!1;if(u){var w;if(u){var S="oninput"in document;if(!S){var N=document.createElement("div");N.setAttribute("oninput","return;"),S=typeof N.oninput=="function"}w=S}else w=!1;v=w&&(!document.documentMode||9<document.documentMode)}function j(){V&&(V.detachEvent("onpropertychange",$),a=V=null)}function $(l){if(l.propertyName==="value"&&h(a)){var p=[];bc(p,a,l,cc(l)),uc(c,p)}}function q(l,p,b){l==="focusin"?(j(),V=p,a=b,V.attachEvent("onpropertychange",$)):l==="focusout"&&j()}function X(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return h(a)}function te(l,p){if(l==="click")return h(p)}function de(l,p){if(l==="input"||l==="change")return h(p)}function he(l,p){return l===p&&(l!==0||1/l===1/p)||l!==l&&p!==p}var ge=typeof Object.is=="function"?Object.is:he;function _e(l,p){if(ge(l,p))return!0;if(typeof l!="object"||l===null||typeof p!="object"||p===null)return!1;var b=Object.keys(l),C=Object.keys(p);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var k=b[C];if(!d.call(p,k)||!ge(l[k],p[k]))return!1}return!0}function qe(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function He(l,p){var b=qe(l);l=0;for(var C;b;){if(b.nodeType===3){if(C=l+b.textContent.length,l<=p&&C>=p)return{node:b,offset:p-l};l=C}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=qe(b)}}function De(l,p){return l&&p?l===p?!0:l&&l.nodeType===3?!1:p&&p.nodeType===3?De(l,p.parentNode):"contains"in l?l.contains(p):l.compareDocumentPosition?!!(l.compareDocumentPosition(p)&16):!1:!1}function tr(){for(var l=window,p=et();p instanceof l.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)l=p.contentWindow;else break;p=et(l.document)}return p}function Vt(l){var p=l&&l.nodeName&&l.nodeName.toLowerCase();return p&&(p==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||p==="textarea"||l.contentEditable==="true")}function Ri(l){var p=tr(),b=l.focusedElem,C=l.selectionRange;if(p!==b&&b&&b.ownerDocument&&De(b.ownerDocument.documentElement,b)){if(C!==null&&Vt(b)){if(p=C.start,l=C.end,l===void 0&&(l=p),"selectionStart"in b)b.selectionStart=p,b.selectionEnd=Math.min(l,b.value.length);else if(l=(p=b.ownerDocument||document)&&p.defaultView||window,l.getSelection){l=l.getSelection();var k=b.textContent.length,B=Math.min(C.start,k);C=C.end===void 0?B:Math.min(C.end,k),!l.extend&&B>C&&(k=C,C=B,B=k),k=He(b,B);var G=He(b,C);k&&G&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==G.node||l.focusOffset!==G.offset)&&(p=p.createRange(),p.setStart(k.node,k.offset),l.removeAllRanges(),B>C?(l.addRange(p),l.extend(G.node,G.offset)):(p.setEnd(G.node,G.offset),l.addRange(p)))}}for(p=[],l=b;l=l.parentNode;)l.nodeType===1&&p.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<p.length;b++)l=p[b],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var vs=u&&"documentMode"in document&&11>=document.documentMode,On=null,xr=null,un=null,xi=!1;function xo(l,p,b){var C=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;xi||On==null||On!==et(C)||(C=On,"selectionStart"in C&&Vt(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),un&&_e(un,C)||(un=C,C=bg(xr,"onSelect"),0<C.length&&(p=new Se("onSelect","select",null,p,b),l.push({event:p,listeners:C}),p.target=On)))}function ua(l,p){var b={};return b[l.toLowerCase()]=p.toLowerCase(),b["Webkit"+l]="webkit"+p,b["Moz"+l]="moz"+p,b}var gl={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionend:ua("Transition","TransitionEnd")},bh={},kO={};u&&(kO=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function xg(l){if(bh[l])return bh[l];if(!gl[l])return l;var p=gl[l],b;for(b in p)if(p.hasOwnProperty(b)&&b in kO)return bh[l]=p[b];return l}var MO=xg("animationend"),DO=xg("animationiteration"),LO=xg("animationstart"),BO=xg("transitionend"),FO=new Map,UO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(l,p){FO.set(l,p),s(p,[l])}for(var Zv=0;Zv<UO.length;Zv++){var Qv=UO[Zv],GV=Qv.toLowerCase(),KV=Qv[0].toUpperCase()+Qv.slice(1);yl(GV,"on"+KV)}yl(MO,"onAnimationEnd"),yl(DO,"onAnimationIteration"),yl(LO,"onAnimationStart"),yl("dblclick","onDoubleClick"),yl("focusin","onFocus"),yl("focusout","onBlur"),yl(BO,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XV=new Set("cancel close invalid load scroll toggle".split(" ").concat(_h));function $O(l,p,b){var C=l.type||"unknown-event";l.currentTarget=b,Ii(C,p,void 0,l),l.currentTarget=null}function VO(l,p){p=(p&4)!==0;for(var b=0;b<l.length;b++){var C=l[b],k=C.event;C=C.listeners;e:{var B=void 0;if(p)for(var G=C.length-1;0<=G;G--){var ae=C[G],fe=ae.instance,Ee=ae.currentTarget;if(ae=ae.listener,fe!==B&&k.isPropagationStopped())break e;$O(k,ae,Ee),B=fe}else for(G=0;G<C.length;G++){if(ae=C[G],fe=ae.instance,Ee=ae.currentTarget,ae=ae.listener,fe!==B&&k.isPropagationStopped())break e;$O(k,ae,Ee),B=fe}}}if(gi)throw l=lt,gi=!1,lt=null,l}function Gr(l,p){var b=p[ax];b===void 0&&(b=p[ax]=new Set);var C=l+"__bubble";b.has(C)||(qO(p,l,2,!1),b.add(C))}function Jv(l,p,b){var C=0;p&&(C|=4),qO(b,l,C,p)}var wg="_reactListening"+Math.random().toString(36).slice(2);function Sh(l){if(!l[wg]){l[wg]=!0,n.forEach(function(b){b!=="selectionchange"&&(XV.has(b)||Jv(b,!1,l),Jv(b,!0,l))});var p=l.nodeType===9?l:l.ownerDocument;p===null||p[wg]||(p[wg]=!0,Jv("selectionchange",!1,p))}}function qO(l,p,b,C){switch(fh(p)){case 1:var k=dg;break;case 4:k=pc;break;default:k=go}b=k.bind(null,p,b,l),k=void 0,!nh||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(k=!0),C?k!==void 0?l.addEventListener(p,b,{capture:!0,passive:k}):l.addEventListener(p,b,!0):k!==void 0?l.addEventListener(p,b,{passive:k}):l.addEventListener(p,b,!1)}function ex(l,p,b,C,k){var B=C;if((p&1)===0&&(p&2)===0&&C!==null)e:for(;;){if(C===null)return;var G=C.tag;if(G===3||G===4){var ae=C.stateNode.containerInfo;if(ae===k||ae.nodeType===8&&ae.parentNode===k)break;if(G===4)for(G=C.return;G!==null;){var fe=G.tag;if((fe===3||fe===4)&&(fe=G.stateNode.containerInfo,fe===k||fe.nodeType===8&&fe.parentNode===k))return;G=G.return}for(;ae!==null;){if(G=_c(ae),G===null)return;if(fe=G.tag,fe===5||fe===6){C=B=G;continue e}ae=ae.parentNode}}C=C.return}uc(function(){var Ee=B,Le=cc(b),Ue=[];e:{var ke=FO.get(l);if(ke!==void 0){var ct=Se,mt=l;switch(l){case"keypress":if(hr(b)===0)break e;case"keydown":case"keyup":ct=gh;break;case"focusin":mt="focus",ct=$r;break;case"focusout":mt="blur",ct=$r;break;case"beforeblur":case"afterblur":ct=$r;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=pl;break;case MO:case DO:case LO:ct=yo;break;case BO:ct=Kv;break;case"scroll":ct=Wn;break;case"wheel":ct=Xv;break;case"copy":case"cut":case"paste":ct=Ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=yh}var gt=(p&4)!==0,Nn=!gt&&l==="scroll",ve=gt?ke!==null?ke+"Capture":null:ke;gt=[];for(var pe=Ee,we;pe!==null;){we=pe;var Xe=we.stateNode;if(we.tag===5&&Xe!==null&&(we=Xe,ve!==null&&(Xe=Ni(pe,ve),Xe!=null&&gt.push(Eh(pe,Xe,we)))),Nn)break;pe=pe.return}0<gt.length&&(ke=new ct(ke,mt,null,b,Le),Ue.push({event:ke,listeners:gt}))}}if((p&7)===0){e:{if(ke=l==="mouseover"||l==="pointerover",ct=l==="mouseout"||l==="pointerout",ke&&b!==Bs&&(mt=b.relatedTarget||b.fromElement)&&(_c(mt)||mt[wo]))break e;if((ct||ke)&&(ke=Le.window===Le?Le:(ke=Le.ownerDocument)?ke.defaultView||ke.parentWindow:window,ct?(mt=b.relatedTarget||b.toElement,ct=Ee,mt=mt?_c(mt):null,mt!==null&&(Nn=rs(mt),mt!==Nn||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(ct=null,mt=Ee),ct!==mt)){if(gt=hg,Xe="onMouseLeave",ve="onMouseEnter",pe="mouse",(l==="pointerout"||l==="pointerover")&&(gt=yh,Xe="onPointerLeave",ve="onPointerEnter",pe="pointer"),Nn=ct==null?ke:qu(ct),we=mt==null?ke:qu(mt),ke=new gt(Xe,pe+"leave",ct,b,Le),ke.target=Nn,ke.relatedTarget=we,Xe=null,_c(Le)===Ee&&(gt=new gt(ve,pe+"enter",mt,b,Le),gt.target=we,gt.relatedTarget=Nn,Xe=gt),Nn=Xe,ct&&mt)t:{for(gt=ct,ve=mt,pe=0,we=gt;we;we=$u(we))pe++;for(we=0,Xe=ve;Xe;Xe=$u(Xe))we++;for(;0<pe-we;)gt=$u(gt),pe--;for(;0<we-pe;)ve=$u(ve),we--;for(;pe--;){if(gt===ve||ve!==null&&gt===ve.alternate)break t;gt=$u(gt),ve=$u(ve)}gt=null}else gt=null;ct!==null&&zO(Ue,ke,ct,gt,!1),mt!==null&&Nn!==null&&zO(Ue,Nn,mt,gt,!0)}}e:{if(ke=Ee?qu(Ee):window,ct=ke.nodeName&&ke.nodeName.toLowerCase(),ct==="select"||ct==="input"&&ke.type==="file")var vt=y;else if(cr(ke))if(v)vt=de;else{vt=X;var Tt=q}else(ct=ke.nodeName)&&ct.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(vt=te);if(vt&&(vt=vt(l,Ee))){bc(Ue,vt,b,Le);break e}Tt&&Tt(l,ke,Ee),l==="focusout"&&(Tt=ke._wrapperState)&&Tt.controlled&&ke.type==="number"&&dt(ke,"number",ke.value)}switch(Tt=Ee?qu(Ee):window,l){case"focusin":(cr(Tt)||Tt.contentEditable==="true")&&(On=Tt,xr=Ee,un=null);break;case"focusout":un=xr=On=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,xo(Ue,b,Le);break;case"selectionchange":if(vs)break;case"keydown":case"keyup":xo(Ue,b,Le)}var Ot;if(ml)e:{switch(l){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else vi?vg(l,b)&&(Ft="onCompositionEnd"):l==="keydown"&&b.keyCode===229&&(Ft="onCompositionStart");Ft&&(ys&&b.locale!=="ko"&&(vi||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&vi&&(Ot=fg()):(ca=Le,hh="value"in ca?ca.value:ca.textContent,vi=!0)),Tt=bg(Ee,Ft),0<Tt.length&&(Ft=new Pr(Ft,l,null,b,Le),Ue.push({event:Ft,listeners:Tt}),Ot?Ft.data=Ot:(Ot=xh(b),Ot!==null&&(Ft.data=Ot)))),(Ot=gg?Yv(l,b):wh(l,b))&&(Ee=bg(Ee,"onBeforeInput"),0<Ee.length&&(Le=new Pr("onBeforeInput","beforeinput",null,b,Le),Ue.push({event:Le,listeners:Ee}),Le.data=Ot))}VO(Ue,p)})}function Eh(l,p,b){return{instance:l,listener:p,currentTarget:b}}function bg(l,p){for(var b=p+"Capture",C=[];l!==null;){var k=l,B=k.stateNode;k.tag===5&&B!==null&&(k=B,B=Ni(l,b),B!=null&&C.unshift(Eh(l,B,k)),B=Ni(l,p),B!=null&&C.push(Eh(l,B,k))),l=l.return}return C}function $u(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function zO(l,p,b,C,k){for(var B=p._reactName,G=[];b!==null&&b!==C;){var ae=b,fe=ae.alternate,Ee=ae.stateNode;if(fe!==null&&fe===C)break;ae.tag===5&&Ee!==null&&(ae=Ee,k?(fe=Ni(b,B),fe!=null&&G.unshift(Eh(b,fe,ae))):k||(fe=Ni(b,B),fe!=null&&G.push(Eh(b,fe,ae)))),b=b.return}G.length!==0&&l.push({event:p,listeners:G})}var YV=/\r\n?/g,ZV=/\u0000|\uFFFD/g;function WO(l){return(typeof l=="string"?l:""+l).replace(YV,`
`).replace(ZV,"")}function _g(l,p,b){if(p=WO(p),WO(l)!==p&&b)throw Error(r(425))}function Sg(){}var tx=null,rx=null;function nx(l,p){return l==="textarea"||l==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ix=typeof setTimeout=="function"?setTimeout:void 0,QV=typeof clearTimeout=="function"?clearTimeout:void 0,HO=typeof Promise=="function"?Promise:void 0,JV=typeof queueMicrotask=="function"?queueMicrotask:typeof HO<"u"?function(l){return HO.resolve(null).then(l).catch(eq)}:ix;function eq(l){setTimeout(function(){throw l})}function sx(l,p){var b=p,C=0;do{var k=b.nextSibling;if(l.removeChild(b),k&&k.nodeType===8)if(b=k.data,b==="/$"){if(C===0){l.removeChild(k),la(p);return}C--}else b!=="$"&&b!=="$?"&&b!=="$!"||C++;b=k}while(b);la(p)}function vl(l){for(;l!=null;l=l.nextSibling){var p=l.nodeType;if(p===1||p===3)break;if(p===8){if(p=l.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return l}function GO(l){l=l.previousSibling;for(var p=0;l;){if(l.nodeType===8){var b=l.data;if(b==="$"||b==="$!"||b==="$?"){if(p===0)return l;p--}else b==="/$"&&p++}l=l.previousSibling}return null}var Vu=Math.random().toString(36).slice(2),Wa="__reactFiber$"+Vu,Ah="__reactProps$"+Vu,wo="__reactContainer$"+Vu,ax="__reactEvents$"+Vu,tq="__reactListeners$"+Vu,rq="__reactHandles$"+Vu;function _c(l){var p=l[Wa];if(p)return p;for(var b=l.parentNode;b;){if(p=b[wo]||b[Wa]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(l=GO(l);l!==null;){if(b=l[Wa])return b;l=GO(l)}return p}l=b,b=l.parentNode}return null}function Ch(l){return l=l[Wa]||l[wo],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function qu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Eg(l){return l[Ah]||null}var ox=[],zu=-1;function xl(l){return{current:l}}function Kr(l){0>zu||(l.current=ox[zu],ox[zu]=null,zu--)}function Vr(l,p){zu++,ox[zu]=l.current,l.current=p}var wl={},ji=xl(wl),ns=xl(!1),Sc=wl;function Wu(l,p){var b=l.type.contextTypes;if(!b)return wl;var C=l.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===p)return C.__reactInternalMemoizedMaskedChildContext;var k={},B;for(B in b)k[B]=p[B];return C&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=p,l.__reactInternalMemoizedMaskedChildContext=k),k}function is(l){return l=l.childContextTypes,l!=null}function Ag(){Kr(ns),Kr(ji)}function KO(l,p,b){if(ji.current!==wl)throw Error(r(168));Vr(ji,p),Vr(ns,b)}function XO(l,p,b){var C=l.stateNode;if(p=p.childContextTypes,typeof C.getChildContext!="function")return b;C=C.getChildContext();for(var k in C)if(!(k in p))throw Error(r(108,Re(l)||"Unknown",k));return me({},b,C)}function Cg(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||wl,Sc=ji.current,Vr(ji,l),Vr(ns,ns.current),!0}function YO(l,p,b){var C=l.stateNode;if(!C)throw Error(r(169));b?(l=XO(l,p,Sc),C.__reactInternalMemoizedMergedChildContext=l,Kr(ns),Kr(ji),Vr(ji,l)):Kr(ns),Vr(ns,b)}var bo=null,Tg=!1,lx=!1;function ZO(l){bo===null?bo=[l]:bo.push(l)}function nq(l){Tg=!0,ZO(l)}function bl(){if(!lx&&bo!==null){lx=!0;var l=0,p=Kt;try{var b=bo;for(Kt=1;l<b.length;l++){var C=b[l];do C=C(!0);while(C!==null)}bo=null,Tg=!1}catch(k){throw bo!==null&&(bo=bo.slice(l+1)),hs(je,bl),k}finally{Kt=p,lx=!1}}return null}var Hu=[],Gu=0,Og=null,Ng=0,zs=[],Ws=0,Ec=null,_o=1,So="";function Ac(l,p){Hu[Gu++]=Ng,Hu[Gu++]=Og,Og=l,Ng=p}function QO(l,p,b){zs[Ws++]=_o,zs[Ws++]=So,zs[Ws++]=Ec,Ec=l;var C=_o;l=So;var k=32-Vi(C)-1;C&=~(1<<k),b+=1;var B=32-Vi(p)+k;if(30<B){var G=k-k%5;B=(C&(1<<G)-1).toString(32),C>>=G,k-=G,_o=1<<32-Vi(p)+k|b<<k|C,So=B+l}else _o=1<<B|b<<k|C,So=l}function cx(l){l.return!==null&&(Ac(l,1),QO(l,1,0))}function ux(l){for(;l===Og;)Og=Hu[--Gu],Hu[Gu]=null,Ng=Hu[--Gu],Hu[Gu]=null;for(;l===Ec;)Ec=zs[--Ws],zs[Ws]=null,So=zs[--Ws],zs[Ws]=null,_o=zs[--Ws],zs[Ws]=null}var xs=null,ws=null,tn=!1,da=null;function JO(l,p){var b=Xs(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=l,p=l.deletions,p===null?(l.deletions=[b],l.flags|=16):p.push(b)}function eN(l,p){switch(l.tag){case 5:var b=l.type;return p=p.nodeType!==1||b.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(l.stateNode=p,xs=l,ws=vl(p.firstChild),!0):!1;case 6:return p=l.pendingProps===""||p.nodeType!==3?null:p,p!==null?(l.stateNode=p,xs=l,ws=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(b=Ec!==null?{id:_o,overflow:So}:null,l.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=Xs(18,null,null,0),b.stateNode=p,b.return=l,l.child=b,xs=l,ws=null,!0):!1;default:return!1}}function dx(l){return(l.mode&1)!==0&&(l.flags&128)===0}function fx(l){if(tn){var p=ws;if(p){var b=p;if(!eN(l,p)){if(dx(l))throw Error(r(418));p=vl(b.nextSibling);var C=xs;p&&eN(l,p)?JO(C,b):(l.flags=l.flags&-4097|2,tn=!1,xs=l)}}else{if(dx(l))throw Error(r(418));l.flags=l.flags&-4097|2,tn=!1,xs=l}}}function tN(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;xs=l}function Ig(l){if(l!==xs)return!1;if(!tn)return tN(l),tn=!0,!1;var p;if((p=l.tag!==3)&&!(p=l.tag!==5)&&(p=l.type,p=p!=="head"&&p!=="body"&&!nx(l.type,l.memoizedProps)),p&&(p=ws)){if(dx(l))throw rN(),Error(r(418));for(;p;)JO(l,p),p=vl(p.nextSibling)}if(tN(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,p=0;l;){if(l.nodeType===8){var b=l.data;if(b==="/$"){if(p===0){ws=vl(l.nextSibling);break e}p--}else b!=="$"&&b!=="$!"&&b!=="$?"||p++}l=l.nextSibling}ws=null}}else ws=xs?vl(l.stateNode.nextSibling):null;return!0}function rN(){for(var l=ws;l;)l=vl(l.nextSibling)}function Ku(){ws=xs=null,tn=!1}function hx(l){da===null?da=[l]:da.push(l)}var iq=D.ReactCurrentBatchConfig;function Th(l,p,b){if(l=b.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(r(309));var C=b.stateNode}if(!C)throw Error(r(147,l));var k=C,B=""+l;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===B?p.ref:(p=function(G){var ae=k.refs;G===null?delete ae[B]:ae[B]=G},p._stringRef=B,p)}if(typeof l!="string")throw Error(r(284));if(!b._owner)throw Error(r(290,l))}return l}function Pg(l,p){throw l=Object.prototype.toString.call(p),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":l))}function nN(l){var p=l._init;return p(l._payload)}function iN(l){function p(ve,pe){if(l){var we=ve.deletions;we===null?(ve.deletions=[pe],ve.flags|=16):we.push(pe)}}function b(ve,pe){if(!l)return null;for(;pe!==null;)p(ve,pe),pe=pe.sibling;return null}function C(ve,pe){for(ve=new Map;pe!==null;)pe.key!==null?ve.set(pe.key,pe):ve.set(pe.index,pe),pe=pe.sibling;return ve}function k(ve,pe){return ve=Nl(ve,pe),ve.index=0,ve.sibling=null,ve}function B(ve,pe,we){return ve.index=we,l?(we=ve.alternate,we!==null?(we=we.index,we<pe?(ve.flags|=2,pe):we):(ve.flags|=2,pe)):(ve.flags|=1048576,pe)}function G(ve){return l&&ve.alternate===null&&(ve.flags|=2),ve}function ae(ve,pe,we,Xe){return pe===null||pe.tag!==6?(pe=iw(we,ve.mode,Xe),pe.return=ve,pe):(pe=k(pe,we),pe.return=ve,pe)}function fe(ve,pe,we,Xe){var vt=we.type;return vt===U?Le(ve,pe,we.props.children,Xe,we.key):pe!==null&&(pe.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===J&&nN(vt)===pe.type)?(Xe=k(pe,we.props),Xe.ref=Th(ve,pe,we),Xe.return=ve,Xe):(Xe=t0(we.type,we.key,we.props,null,ve.mode,Xe),Xe.ref=Th(ve,pe,we),Xe.return=ve,Xe)}function Ee(ve,pe,we,Xe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==we.containerInfo||pe.stateNode.implementation!==we.implementation?(pe=sw(we,ve.mode,Xe),pe.return=ve,pe):(pe=k(pe,we.children||[]),pe.return=ve,pe)}function Le(ve,pe,we,Xe,vt){return pe===null||pe.tag!==7?(pe=jc(we,ve.mode,Xe,vt),pe.return=ve,pe):(pe=k(pe,we),pe.return=ve,pe)}function Ue(ve,pe,we){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=iw(""+pe,ve.mode,we),pe.return=ve,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case L:return we=t0(pe.type,pe.key,pe.props,null,ve.mode,we),we.ref=Th(ve,null,pe),we.return=ve,we;case F:return pe=sw(pe,ve.mode,we),pe.return=ve,pe;case J:var Xe=pe._init;return Ue(ve,Xe(pe._payload),we)}if(Bt(pe)||se(pe))return pe=jc(pe,ve.mode,we,null),pe.return=ve,pe;Pg(ve,pe)}return null}function ke(ve,pe,we,Xe){var vt=pe!==null?pe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return vt!==null?null:ae(ve,pe,""+we,Xe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case L:return we.key===vt?fe(ve,pe,we,Xe):null;case F:return we.key===vt?Ee(ve,pe,we,Xe):null;case J:return vt=we._init,ke(ve,pe,vt(we._payload),Xe)}if(Bt(we)||se(we))return vt!==null?null:Le(ve,pe,we,Xe,null);Pg(ve,we)}return null}function ct(ve,pe,we,Xe,vt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return ve=ve.get(we)||null,ae(pe,ve,""+Xe,vt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case L:return ve=ve.get(Xe.key===null?we:Xe.key)||null,fe(pe,ve,Xe,vt);case F:return ve=ve.get(Xe.key===null?we:Xe.key)||null,Ee(pe,ve,Xe,vt);case J:var Tt=Xe._init;return ct(ve,pe,we,Tt(Xe._payload),vt)}if(Bt(Xe)||se(Xe))return ve=ve.get(we)||null,Le(pe,ve,Xe,vt,null);Pg(pe,Xe)}return null}function mt(ve,pe,we,Xe){for(var vt=null,Tt=null,Ot=pe,Ft=pe=0,li=null;Ot!==null&&Ft<we.length;Ft++){Ot.index>Ft?(li=Ot,Ot=null):li=Ot.sibling;var yr=ke(ve,Ot,we[Ft],Xe);if(yr===null){Ot===null&&(Ot=li);break}l&&Ot&&yr.alternate===null&&p(ve,Ot),pe=B(yr,pe,Ft),Tt===null?vt=yr:Tt.sibling=yr,Tt=yr,Ot=li}if(Ft===we.length)return b(ve,Ot),tn&&Ac(ve,Ft),vt;if(Ot===null){for(;Ft<we.length;Ft++)Ot=Ue(ve,we[Ft],Xe),Ot!==null&&(pe=B(Ot,pe,Ft),Tt===null?vt=Ot:Tt.sibling=Ot,Tt=Ot);return tn&&Ac(ve,Ft),vt}for(Ot=C(ve,Ot);Ft<we.length;Ft++)li=ct(Ot,ve,Ft,we[Ft],Xe),li!==null&&(l&&li.alternate!==null&&Ot.delete(li.key===null?Ft:li.key),pe=B(li,pe,Ft),Tt===null?vt=li:Tt.sibling=li,Tt=li);return l&&Ot.forEach(function(Il){return p(ve,Il)}),tn&&Ac(ve,Ft),vt}function gt(ve,pe,we,Xe){var vt=se(we);if(typeof vt!="function")throw Error(r(150));if(we=vt.call(we),we==null)throw Error(r(151));for(var Tt=vt=null,Ot=pe,Ft=pe=0,li=null,yr=we.next();Ot!==null&&!yr.done;Ft++,yr=we.next()){Ot.index>Ft?(li=Ot,Ot=null):li=Ot.sibling;var Il=ke(ve,Ot,yr.value,Xe);if(Il===null){Ot===null&&(Ot=li);break}l&&Ot&&Il.alternate===null&&p(ve,Ot),pe=B(Il,pe,Ft),Tt===null?vt=Il:Tt.sibling=Il,Tt=Il,Ot=li}if(yr.done)return b(ve,Ot),tn&&Ac(ve,Ft),vt;if(Ot===null){for(;!yr.done;Ft++,yr=we.next())yr=Ue(ve,yr.value,Xe),yr!==null&&(pe=B(yr,pe,Ft),Tt===null?vt=yr:Tt.sibling=yr,Tt=yr);return tn&&Ac(ve,Ft),vt}for(Ot=C(ve,Ot);!yr.done;Ft++,yr=we.next())yr=ct(Ot,ve,Ft,yr.value,Xe),yr!==null&&(l&&yr.alternate!==null&&Ot.delete(yr.key===null?Ft:yr.key),pe=B(yr,pe,Ft),Tt===null?vt=yr:Tt.sibling=yr,Tt=yr);return l&&Ot.forEach(function(Lq){return p(ve,Lq)}),tn&&Ac(ve,Ft),vt}function Nn(ve,pe,we,Xe){if(typeof we=="object"&&we!==null&&we.type===U&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case L:e:{for(var vt=we.key,Tt=pe;Tt!==null;){if(Tt.key===vt){if(vt=we.type,vt===U){if(Tt.tag===7){b(ve,Tt.sibling),pe=k(Tt,we.props.children),pe.return=ve,ve=pe;break e}}else if(Tt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===J&&nN(vt)===Tt.type){b(ve,Tt.sibling),pe=k(Tt,we.props),pe.ref=Th(ve,Tt,we),pe.return=ve,ve=pe;break e}b(ve,Tt);break}else p(ve,Tt);Tt=Tt.sibling}we.type===U?(pe=jc(we.props.children,ve.mode,Xe,we.key),pe.return=ve,ve=pe):(Xe=t0(we.type,we.key,we.props,null,ve.mode,Xe),Xe.ref=Th(ve,pe,we),Xe.return=ve,ve=Xe)}return G(ve);case F:e:{for(Tt=we.key;pe!==null;){if(pe.key===Tt)if(pe.tag===4&&pe.stateNode.containerInfo===we.containerInfo&&pe.stateNode.implementation===we.implementation){b(ve,pe.sibling),pe=k(pe,we.children||[]),pe.return=ve,ve=pe;break e}else{b(ve,pe);break}else p(ve,pe);pe=pe.sibling}pe=sw(we,ve.mode,Xe),pe.return=ve,ve=pe}return G(ve);case J:return Tt=we._init,Nn(ve,pe,Tt(we._payload),Xe)}if(Bt(we))return mt(ve,pe,we,Xe);if(se(we))return gt(ve,pe,we,Xe);Pg(ve,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,pe!==null&&pe.tag===6?(b(ve,pe.sibling),pe=k(pe,we),pe.return=ve,ve=pe):(b(ve,pe),pe=iw(we,ve.mode,Xe),pe.return=ve,ve=pe),G(ve)):b(ve,pe)}return Nn}var Xu=iN(!0),sN=iN(!1),Rg=xl(null),jg=null,Yu=null,px=null;function mx(){px=Yu=jg=null}function gx(l){var p=Rg.current;Kr(Rg),l._currentValue=p}function yx(l,p,b){for(;l!==null;){var C=l.alternate;if((l.childLanes&p)!==p?(l.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),l===b)break;l=l.return}}function Zu(l,p){jg=l,px=Yu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&p)!==0&&(ss=!0),l.firstContext=null)}function Hs(l){var p=l._currentValue;if(px!==l)if(l={context:l,memoizedValue:p,next:null},Yu===null){if(jg===null)throw Error(r(308));Yu=l,jg.dependencies={lanes:0,firstContext:l}}else Yu=Yu.next=l;return p}var Cc=null;function vx(l){Cc===null?Cc=[l]:Cc.push(l)}function aN(l,p,b,C){var k=p.interleaved;return k===null?(b.next=b,vx(p)):(b.next=k.next,k.next=b),p.interleaved=b,Eo(l,C)}function Eo(l,p){l.lanes|=p;var b=l.alternate;for(b!==null&&(b.lanes|=p),b=l,l=l.return;l!==null;)l.childLanes|=p,b=l.alternate,b!==null&&(b.childLanes|=p),b=l,l=l.return;return b.tag===3?b.stateNode:null}var _l=!1;function xx(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oN(l,p){l=l.updateQueue,p.updateQueue===l&&(p.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ao(l,p){return{eventTime:l,lane:p,tag:0,payload:null,callback:null,next:null}}function Sl(l,p,b){var C=l.updateQueue;if(C===null)return null;if(C=C.shared,(pr&2)!==0){var k=C.pending;return k===null?p.next=p:(p.next=k.next,k.next=p),C.pending=p,Eo(l,b)}return k=C.interleaved,k===null?(p.next=p,vx(C)):(p.next=k.next,k.next=p),C.interleaved=p,Eo(l,b)}function kg(l,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var C=p.lanes;C&=l.pendingLanes,b|=C,p.lanes=b,vn(l,b)}}function lN(l,p){var b=l.updateQueue,C=l.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var k=null,B=null;if(b=b.firstBaseUpdate,b!==null){do{var G={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};B===null?k=B=G:B=B.next=G,b=b.next}while(b!==null);B===null?k=B=p:B=B.next=p}else k=B=p;b={baseState:C.baseState,firstBaseUpdate:k,lastBaseUpdate:B,shared:C.shared,effects:C.effects},l.updateQueue=b;return}l=b.lastBaseUpdate,l===null?b.firstBaseUpdate=p:l.next=p,b.lastBaseUpdate=p}function Mg(l,p,b,C){var k=l.updateQueue;_l=!1;var B=k.firstBaseUpdate,G=k.lastBaseUpdate,ae=k.shared.pending;if(ae!==null){k.shared.pending=null;var fe=ae,Ee=fe.next;fe.next=null,G===null?B=Ee:G.next=Ee,G=fe;var Le=l.alternate;Le!==null&&(Le=Le.updateQueue,ae=Le.lastBaseUpdate,ae!==G&&(ae===null?Le.firstBaseUpdate=Ee:ae.next=Ee,Le.lastBaseUpdate=fe))}if(B!==null){var Ue=k.baseState;G=0,Le=Ee=fe=null,ae=B;do{var ke=ae.lane,ct=ae.eventTime;if((C&ke)===ke){Le!==null&&(Le=Le.next={eventTime:ct,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var mt=l,gt=ae;switch(ke=p,ct=b,gt.tag){case 1:if(mt=gt.payload,typeof mt=="function"){Ue=mt.call(ct,Ue,ke);break e}Ue=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=gt.payload,ke=typeof mt=="function"?mt.call(ct,Ue,ke):mt,ke==null)break e;Ue=me({},Ue,ke);break e;case 2:_l=!0}}ae.callback!==null&&ae.lane!==0&&(l.flags|=64,ke=k.effects,ke===null?k.effects=[ae]:ke.push(ae))}else ct={eventTime:ct,lane:ke,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Le===null?(Ee=Le=ct,fe=Ue):Le=Le.next=ct,G|=ke;if(ae=ae.next,ae===null){if(ae=k.shared.pending,ae===null)break;ke=ae,ae=ke.next,ke.next=null,k.lastBaseUpdate=ke,k.shared.pending=null}}while(!0);if(Le===null&&(fe=Ue),k.baseState=fe,k.firstBaseUpdate=Ee,k.lastBaseUpdate=Le,p=k.shared.interleaved,p!==null){k=p;do G|=k.lane,k=k.next;while(k!==p)}else B===null&&(k.shared.lanes=0);Nc|=G,l.lanes=G,l.memoizedState=Ue}}function cN(l,p,b){if(l=p.effects,p.effects=null,l!==null)for(p=0;p<l.length;p++){var C=l[p],k=C.callback;if(k!==null){if(C.callback=null,C=b,typeof k!="function")throw Error(r(191,k));k.call(C)}}}var Oh={},Ha=xl(Oh),Nh=xl(Oh),Ih=xl(Oh);function Tc(l){if(l===Oh)throw Error(r(174));return l}function wx(l,p){switch(Vr(Ih,p),Vr(Nh,l),Vr(Ha,Oh),l=p.nodeType,l){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:We(null,"");break;default:l=l===8?p.parentNode:p,p=l.namespaceURI||null,l=l.tagName,p=We(p,l)}Kr(Ha),Vr(Ha,p)}function Qu(){Kr(Ha),Kr(Nh),Kr(Ih)}function uN(l){Tc(Ih.current);var p=Tc(Ha.current),b=We(p,l.type);p!==b&&(Vr(Nh,l),Vr(Ha,b))}function bx(l){Nh.current===l&&(Kr(Ha),Kr(Nh))}var dn=xl(0);function Dg(l){for(var p=l;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var _x=[];function Sx(){for(var l=0;l<_x.length;l++)_x[l]._workInProgressVersionPrimary=null;_x.length=0}var Lg=D.ReactCurrentDispatcher,Ex=D.ReactCurrentBatchConfig,Oc=0,fn=null,Hn=null,ai=null,Bg=!1,Ph=!1,Rh=0,sq=0;function ki(){throw Error(r(321))}function Ax(l,p){if(p===null)return!1;for(var b=0;b<p.length&&b<l.length;b++)if(!ge(l[b],p[b]))return!1;return!0}function Cx(l,p,b,C,k,B){if(Oc=B,fn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Lg.current=l===null||l.memoizedState===null?cq:uq,l=b(C,k),Ph){B=0;do{if(Ph=!1,Rh=0,25<=B)throw Error(r(301));B+=1,ai=Hn=null,p.updateQueue=null,Lg.current=dq,l=b(C,k)}while(Ph)}if(Lg.current=$g,p=Hn!==null&&Hn.next!==null,Oc=0,ai=Hn=fn=null,Bg=!1,p)throw Error(r(300));return l}function Tx(){var l=Rh!==0;return Rh=0,l}function Ga(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?fn.memoizedState=ai=l:ai=ai.next=l,ai}function Gs(){if(Hn===null){var l=fn.alternate;l=l!==null?l.memoizedState:null}else l=Hn.next;var p=ai===null?fn.memoizedState:ai.next;if(p!==null)ai=p,Hn=l;else{if(l===null)throw Error(r(310));Hn=l,l={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},ai===null?fn.memoizedState=ai=l:ai=ai.next=l}return ai}function jh(l,p){return typeof p=="function"?p(l):p}function Ox(l){var p=Gs(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=l;var C=Hn,k=C.baseQueue,B=b.pending;if(B!==null){if(k!==null){var G=k.next;k.next=B.next,B.next=G}C.baseQueue=k=B,b.pending=null}if(k!==null){B=k.next,C=C.baseState;var ae=G=null,fe=null,Ee=B;do{var Le=Ee.lane;if((Oc&Le)===Le)fe!==null&&(fe=fe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),C=Ee.hasEagerState?Ee.eagerState:l(C,Ee.action);else{var Ue={lane:Le,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};fe===null?(ae=fe=Ue,G=C):fe=fe.next=Ue,fn.lanes|=Le,Nc|=Le}Ee=Ee.next}while(Ee!==null&&Ee!==B);fe===null?G=C:fe.next=ae,ge(C,p.memoizedState)||(ss=!0),p.memoizedState=C,p.baseState=G,p.baseQueue=fe,b.lastRenderedState=C}if(l=b.interleaved,l!==null){k=l;do B=k.lane,fn.lanes|=B,Nc|=B,k=k.next;while(k!==l)}else k===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function Nx(l){var p=Gs(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=l;var C=b.dispatch,k=b.pending,B=p.memoizedState;if(k!==null){b.pending=null;var G=k=k.next;do B=l(B,G.action),G=G.next;while(G!==k);ge(B,p.memoizedState)||(ss=!0),p.memoizedState=B,p.baseQueue===null&&(p.baseState=B),b.lastRenderedState=B}return[B,C]}function dN(){}function fN(l,p){var b=fn,C=Gs(),k=p(),B=!ge(C.memoizedState,k);if(B&&(C.memoizedState=k,ss=!0),C=C.queue,Ix(mN.bind(null,b,C,l),[l]),C.getSnapshot!==p||B||ai!==null&&ai.memoizedState.tag&1){if(b.flags|=2048,kh(9,pN.bind(null,b,C,k,p),void 0,null),oi===null)throw Error(r(349));(Oc&30)!==0||hN(b,p,k)}return k}function hN(l,p,b){l.flags|=16384,l={getSnapshot:p,value:b},p=fn.updateQueue,p===null?(p={lastEffect:null,stores:null},fn.updateQueue=p,p.stores=[l]):(b=p.stores,b===null?p.stores=[l]:b.push(l))}function pN(l,p,b,C){p.value=b,p.getSnapshot=C,gN(p)&&yN(l)}function mN(l,p,b){return b(function(){gN(p)&&yN(l)})}function gN(l){var p=l.getSnapshot;l=l.value;try{var b=p();return!ge(l,b)}catch{return!0}}function yN(l){var p=Eo(l,1);p!==null&&ma(p,l,1,-1)}function vN(l){var p=Ga();return typeof l=="function"&&(l=l()),p.memoizedState=p.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:l},p.queue=l,l=l.dispatch=lq.bind(null,fn,l),[p.memoizedState,l]}function kh(l,p,b,C){return l={tag:l,create:p,destroy:b,deps:C,next:null},p=fn.updateQueue,p===null?(p={lastEffect:null,stores:null},fn.updateQueue=p,p.lastEffect=l.next=l):(b=p.lastEffect,b===null?p.lastEffect=l.next=l:(C=b.next,b.next=l,l.next=C,p.lastEffect=l)),l}function xN(){return Gs().memoizedState}function Fg(l,p,b,C){var k=Ga();fn.flags|=l,k.memoizedState=kh(1|p,b,void 0,C===void 0?null:C)}function Ug(l,p,b,C){var k=Gs();C=C===void 0?null:C;var B=void 0;if(Hn!==null){var G=Hn.memoizedState;if(B=G.destroy,C!==null&&Ax(C,G.deps)){k.memoizedState=kh(p,b,B,C);return}}fn.flags|=l,k.memoizedState=kh(1|p,b,B,C)}function wN(l,p){return Fg(8390656,8,l,p)}function Ix(l,p){return Ug(2048,8,l,p)}function bN(l,p){return Ug(4,2,l,p)}function _N(l,p){return Ug(4,4,l,p)}function SN(l,p){if(typeof p=="function")return l=l(),p(l),function(){p(null)};if(p!=null)return l=l(),p.current=l,function(){p.current=null}}function EN(l,p,b){return b=b!=null?b.concat([l]):null,Ug(4,4,SN.bind(null,p,l),b)}function Px(){}function AN(l,p){var b=Gs();p=p===void 0?null:p;var C=b.memoizedState;return C!==null&&p!==null&&Ax(p,C[1])?C[0]:(b.memoizedState=[l,p],l)}function CN(l,p){var b=Gs();p=p===void 0?null:p;var C=b.memoizedState;return C!==null&&p!==null&&Ax(p,C[1])?C[0]:(l=l(),b.memoizedState=[l,p],l)}function TN(l,p,b){return(Oc&21)===0?(l.baseState&&(l.baseState=!1,ss=!0),l.memoizedState=b):(ge(b,p)||(b=Vn(),fn.lanes|=b,Nc|=b,l.baseState=!0),p)}function aq(l,p){var b=Kt;Kt=b!==0&&4>b?b:4,l(!0);var C=Ex.transition;Ex.transition={};try{l(!1),p()}finally{Kt=b,Ex.transition=C}}function ON(){return Gs().memoizedState}function oq(l,p,b){var C=Tl(l);if(b={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null},NN(l))IN(p,b);else if(b=aN(l,p,b,C),b!==null){var k=zi();ma(b,l,C,k),PN(b,p,C)}}function lq(l,p,b){var C=Tl(l),k={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null};if(NN(l))IN(p,k);else{var B=l.alternate;if(l.lanes===0&&(B===null||B.lanes===0)&&(B=p.lastRenderedReducer,B!==null))try{var G=p.lastRenderedState,ae=B(G,b);if(k.hasEagerState=!0,k.eagerState=ae,ge(ae,G)){var fe=p.interleaved;fe===null?(k.next=k,vx(p)):(k.next=fe.next,fe.next=k),p.interleaved=k;return}}catch{}b=aN(l,p,k,C),b!==null&&(k=zi(),ma(b,l,C,k),PN(b,p,C))}}function NN(l){var p=l.alternate;return l===fn||p!==null&&p===fn}function IN(l,p){Ph=Bg=!0;var b=l.pending;b===null?p.next=p:(p.next=b.next,b.next=p),l.pending=p}function PN(l,p,b){if((b&4194240)!==0){var C=p.lanes;C&=l.pendingLanes,b|=C,p.lanes=b,vn(l,b)}}var $g={readContext:Hs,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},cq={readContext:Hs,useCallback:function(l,p){return Ga().memoizedState=[l,p===void 0?null:p],l},useContext:Hs,useEffect:wN,useImperativeHandle:function(l,p,b){return b=b!=null?b.concat([l]):null,Fg(4194308,4,SN.bind(null,p,l),b)},useLayoutEffect:function(l,p){return Fg(4194308,4,l,p)},useInsertionEffect:function(l,p){return Fg(4,2,l,p)},useMemo:function(l,p){var b=Ga();return p=p===void 0?null:p,l=l(),b.memoizedState=[l,p],l},useReducer:function(l,p,b){var C=Ga();return p=b!==void 0?b(p):p,C.memoizedState=C.baseState=p,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:p},C.queue=l,l=l.dispatch=oq.bind(null,fn,l),[C.memoizedState,l]},useRef:function(l){var p=Ga();return l={current:l},p.memoizedState=l},useState:vN,useDebugValue:Px,useDeferredValue:function(l){return Ga().memoizedState=l},useTransition:function(){var l=vN(!1),p=l[0];return l=aq.bind(null,l[1]),Ga().memoizedState=l,[p,l]},useMutableSource:function(){},useSyncExternalStore:function(l,p,b){var C=fn,k=Ga();if(tn){if(b===void 0)throw Error(r(407));b=b()}else{if(b=p(),oi===null)throw Error(r(349));(Oc&30)!==0||hN(C,p,b)}k.memoizedState=b;var B={value:b,getSnapshot:p};return k.queue=B,wN(mN.bind(null,C,B,l),[l]),C.flags|=2048,kh(9,pN.bind(null,C,B,b,p),void 0,null),b},useId:function(){var l=Ga(),p=oi.identifierPrefix;if(tn){var b=So,C=_o;b=(C&~(1<<32-Vi(C)-1)).toString(32)+b,p=":"+p+"R"+b,b=Rh++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=sq++,p=":"+p+"r"+b.toString(32)+":";return l.memoizedState=p},unstable_isNewReconciler:!1},uq={readContext:Hs,useCallback:AN,useContext:Hs,useEffect:Ix,useImperativeHandle:EN,useInsertionEffect:bN,useLayoutEffect:_N,useMemo:CN,useReducer:Ox,useRef:xN,useState:function(){return Ox(jh)},useDebugValue:Px,useDeferredValue:function(l){var p=Gs();return TN(p,Hn.memoizedState,l)},useTransition:function(){var l=Ox(jh)[0],p=Gs().memoizedState;return[l,p]},useMutableSource:dN,useSyncExternalStore:fN,useId:ON,unstable_isNewReconciler:!1},dq={readContext:Hs,useCallback:AN,useContext:Hs,useEffect:Ix,useImperativeHandle:EN,useInsertionEffect:bN,useLayoutEffect:_N,useMemo:CN,useReducer:Nx,useRef:xN,useState:function(){return Nx(jh)},useDebugValue:Px,useDeferredValue:function(l){var p=Gs();return Hn===null?p.memoizedState=l:TN(p,Hn.memoizedState,l)},useTransition:function(){var l=Nx(jh)[0],p=Gs().memoizedState;return[l,p]},useMutableSource:dN,useSyncExternalStore:fN,useId:ON,unstable_isNewReconciler:!1};function fa(l,p){if(l&&l.defaultProps){p=me({},p),l=l.defaultProps;for(var b in l)p[b]===void 0&&(p[b]=l[b]);return p}return p}function Rx(l,p,b,C){p=l.memoizedState,b=b(C,p),b=b==null?p:me({},p,b),l.memoizedState=b,l.lanes===0&&(l.updateQueue.baseState=b)}var Vg={isMounted:function(l){return(l=l._reactInternals)?rs(l)===l:!1},enqueueSetState:function(l,p,b){l=l._reactInternals;var C=zi(),k=Tl(l),B=Ao(C,k);B.payload=p,b!=null&&(B.callback=b),p=Sl(l,B,k),p!==null&&(ma(p,l,k,C),kg(p,l,k))},enqueueReplaceState:function(l,p,b){l=l._reactInternals;var C=zi(),k=Tl(l),B=Ao(C,k);B.tag=1,B.payload=p,b!=null&&(B.callback=b),p=Sl(l,B,k),p!==null&&(ma(p,l,k,C),kg(p,l,k))},enqueueForceUpdate:function(l,p){l=l._reactInternals;var b=zi(),C=Tl(l),k=Ao(b,C);k.tag=2,p!=null&&(k.callback=p),p=Sl(l,k,C),p!==null&&(ma(p,l,C,b),kg(p,l,C))}};function RN(l,p,b,C,k,B,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(C,B,G):p.prototype&&p.prototype.isPureReactComponent?!_e(b,C)||!_e(k,B):!0}function jN(l,p,b){var C=!1,k=wl,B=p.contextType;return typeof B=="object"&&B!==null?B=Hs(B):(k=is(p)?Sc:ji.current,C=p.contextTypes,B=(C=C!=null)?Wu(l,k):wl),p=new p(b,B),l.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Vg,l.stateNode=p,p._reactInternals=l,C&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=B),p}function kN(l,p,b,C){l=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,C),p.state!==l&&Vg.enqueueReplaceState(p,p.state,null)}function jx(l,p,b,C){var k=l.stateNode;k.props=b,k.state=l.memoizedState,k.refs={},xx(l);var B=p.contextType;typeof B=="object"&&B!==null?k.context=Hs(B):(B=is(p)?Sc:ji.current,k.context=Wu(l,B)),k.state=l.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(Rx(l,p,B,b),k.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(p=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),p!==k.state&&Vg.enqueueReplaceState(k,k.state,null),Mg(l,b,k,C),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function Ju(l,p){try{var b="",C=p;do b+=rt(C),C=C.return;while(C);var k=b}catch(B){k=`
Error generating stack: `+B.message+`
`+B.stack}return{value:l,source:p,stack:k,digest:null}}function kx(l,p,b){return{value:l,source:null,stack:b??null,digest:p??null}}function Mx(l,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var fq=typeof WeakMap=="function"?WeakMap:Map;function MN(l,p,b){b=Ao(-1,b),b.tag=3,b.payload={element:null};var C=p.value;return b.callback=function(){Xg||(Xg=!0,Yx=C),Mx(l,p)},b}function DN(l,p,b){b=Ao(-1,b),b.tag=3;var C=l.type.getDerivedStateFromError;if(typeof C=="function"){var k=p.value;b.payload=function(){return C(k)},b.callback=function(){Mx(l,p)}}var B=l.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(b.callback=function(){Mx(l,p),typeof C!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var G=p.stack;this.componentDidCatch(p.value,{componentStack:G!==null?G:""})}),b}function LN(l,p,b){var C=l.pingCache;if(C===null){C=l.pingCache=new fq;var k=new Set;C.set(p,k)}else k=C.get(p),k===void 0&&(k=new Set,C.set(p,k));k.has(b)||(k.add(b),l=Cq.bind(null,l,p,b),p.then(l,l))}function BN(l){do{var p;if((p=l.tag===13)&&(p=l.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return l;l=l.return}while(l!==null);return null}function FN(l,p,b,C,k){return(l.mode&1)===0?(l===p?l.flags|=65536:(l.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Ao(-1,1),p.tag=2,Sl(b,p,1))),b.lanes|=1),l):(l.flags|=65536,l.lanes=k,l)}var hq=D.ReactCurrentOwner,ss=!1;function qi(l,p,b,C){p.child=l===null?sN(p,null,b,C):Xu(p,l.child,b,C)}function UN(l,p,b,C,k){b=b.render;var B=p.ref;return Zu(p,k),C=Cx(l,p,b,C,B,k),b=Tx(),l!==null&&!ss?(p.updateQueue=l.updateQueue,p.flags&=-2053,l.lanes&=~k,Co(l,p,k)):(tn&&b&&cx(p),p.flags|=1,qi(l,p,C,k),p.child)}function $N(l,p,b,C,k){if(l===null){var B=b.type;return typeof B=="function"&&!nw(B)&&B.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=B,VN(l,p,B,C,k)):(l=t0(b.type,null,C,p,p.mode,k),l.ref=p.ref,l.return=p,p.child=l)}if(B=l.child,(l.lanes&k)===0){var G=B.memoizedProps;if(b=b.compare,b=b!==null?b:_e,b(G,C)&&l.ref===p.ref)return Co(l,p,k)}return p.flags|=1,l=Nl(B,C),l.ref=p.ref,l.return=p,p.child=l}function VN(l,p,b,C,k){if(l!==null){var B=l.memoizedProps;if(_e(B,C)&&l.ref===p.ref)if(ss=!1,p.pendingProps=C=B,(l.lanes&k)!==0)(l.flags&131072)!==0&&(ss=!0);else return p.lanes=l.lanes,Co(l,p,k)}return Dx(l,p,b,C,k)}function qN(l,p,b){var C=p.pendingProps,k=C.children,B=l!==null?l.memoizedState:null;if(C.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vr(td,bs),bs|=b;else{if((b&1073741824)===0)return l=B!==null?B.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:l,cachePool:null,transitions:null},p.updateQueue=null,Vr(td,bs),bs|=l,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=B!==null?B.baseLanes:b,Vr(td,bs),bs|=C}else B!==null?(C=B.baseLanes|b,p.memoizedState=null):C=b,Vr(td,bs),bs|=C;return qi(l,p,k,b),p.child}function zN(l,p){var b=p.ref;(l===null&&b!==null||l!==null&&l.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function Dx(l,p,b,C,k){var B=is(b)?Sc:ji.current;return B=Wu(p,B),Zu(p,k),b=Cx(l,p,b,C,B,k),C=Tx(),l!==null&&!ss?(p.updateQueue=l.updateQueue,p.flags&=-2053,l.lanes&=~k,Co(l,p,k)):(tn&&C&&cx(p),p.flags|=1,qi(l,p,b,k),p.child)}function WN(l,p,b,C,k){if(is(b)){var B=!0;Cg(p)}else B=!1;if(Zu(p,k),p.stateNode===null)zg(l,p),jN(p,b,C),jx(p,b,C,k),C=!0;else if(l===null){var G=p.stateNode,ae=p.memoizedProps;G.props=ae;var fe=G.context,Ee=b.contextType;typeof Ee=="object"&&Ee!==null?Ee=Hs(Ee):(Ee=is(b)?Sc:ji.current,Ee=Wu(p,Ee));var Le=b.getDerivedStateFromProps,Ue=typeof Le=="function"||typeof G.getSnapshotBeforeUpdate=="function";Ue||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==C||fe!==Ee)&&kN(p,G,C,Ee),_l=!1;var ke=p.memoizedState;G.state=ke,Mg(p,C,G,k),fe=p.memoizedState,ae!==C||ke!==fe||ns.current||_l?(typeof Le=="function"&&(Rx(p,b,Le,C),fe=p.memoizedState),(ae=_l||RN(p,b,ae,C,ke,fe,Ee))?(Ue||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(p.flags|=4194308)):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=fe),G.props=C,G.state=fe,G.context=Ee,C=ae):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{G=p.stateNode,oN(l,p),ae=p.memoizedProps,Ee=p.type===p.elementType?ae:fa(p.type,ae),G.props=Ee,Ue=p.pendingProps,ke=G.context,fe=b.contextType,typeof fe=="object"&&fe!==null?fe=Hs(fe):(fe=is(b)?Sc:ji.current,fe=Wu(p,fe));var ct=b.getDerivedStateFromProps;(Le=typeof ct=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==Ue||ke!==fe)&&kN(p,G,C,fe),_l=!1,ke=p.memoizedState,G.state=ke,Mg(p,C,G,k);var mt=p.memoizedState;ae!==Ue||ke!==mt||ns.current||_l?(typeof ct=="function"&&(Rx(p,b,ct,C),mt=p.memoizedState),(Ee=_l||RN(p,b,Ee,C,ke,mt,fe)||!1)?(Le||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(C,mt,fe),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(C,mt,fe)),typeof G.componentDidUpdate=="function"&&(p.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof G.componentDidUpdate!="function"||ae===l.memoizedProps&&ke===l.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&ke===l.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=mt),G.props=C,G.state=mt,G.context=fe,C=Ee):(typeof G.componentDidUpdate!="function"||ae===l.memoizedProps&&ke===l.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&ke===l.memoizedState||(p.flags|=1024),C=!1)}return Lx(l,p,b,C,B,k)}function Lx(l,p,b,C,k,B){zN(l,p);var G=(p.flags&128)!==0;if(!C&&!G)return k&&YO(p,b,!1),Co(l,p,B);C=p.stateNode,hq.current=p;var ae=G&&typeof b.getDerivedStateFromError!="function"?null:C.render();return p.flags|=1,l!==null&&G?(p.child=Xu(p,l.child,null,B),p.child=Xu(p,null,ae,B)):qi(l,p,ae,B),p.memoizedState=C.state,k&&YO(p,b,!0),p.child}function HN(l){var p=l.stateNode;p.pendingContext?KO(l,p.pendingContext,p.pendingContext!==p.context):p.context&&KO(l,p.context,!1),wx(l,p.containerInfo)}function GN(l,p,b,C,k){return Ku(),hx(k),p.flags|=256,qi(l,p,b,C),p.child}var Bx={dehydrated:null,treeContext:null,retryLane:0};function Fx(l){return{baseLanes:l,cachePool:null,transitions:null}}function KN(l,p,b){var C=p.pendingProps,k=dn.current,B=!1,G=(p.flags&128)!==0,ae;if((ae=G)||(ae=l!==null&&l.memoizedState===null?!1:(k&2)!==0),ae?(B=!0,p.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),Vr(dn,k&1),l===null)return fx(p),l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((p.mode&1)===0?p.lanes=1:l.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(G=C.children,l=C.fallback,B?(C=p.mode,B=p.child,G={mode:"hidden",children:G},(C&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=G):B=r0(G,C,0,null),l=jc(l,C,b,null),B.return=p,l.return=p,B.sibling=l,p.child=B,p.child.memoizedState=Fx(b),p.memoizedState=Bx,l):Ux(p,G));if(k=l.memoizedState,k!==null&&(ae=k.dehydrated,ae!==null))return pq(l,p,G,C,ae,k,b);if(B){B=C.fallback,G=p.mode,k=l.child,ae=k.sibling;var fe={mode:"hidden",children:C.children};return(G&1)===0&&p.child!==k?(C=p.child,C.childLanes=0,C.pendingProps=fe,p.deletions=null):(C=Nl(k,fe),C.subtreeFlags=k.subtreeFlags&14680064),ae!==null?B=Nl(ae,B):(B=jc(B,G,b,null),B.flags|=2),B.return=p,C.return=p,C.sibling=B,p.child=C,C=B,B=p.child,G=l.child.memoizedState,G=G===null?Fx(b):{baseLanes:G.baseLanes|b,cachePool:null,transitions:G.transitions},B.memoizedState=G,B.childLanes=l.childLanes&~b,p.memoizedState=Bx,C}return B=l.child,l=B.sibling,C=Nl(B,{mode:"visible",children:C.children}),(p.mode&1)===0&&(C.lanes=b),C.return=p,C.sibling=null,l!==null&&(b=p.deletions,b===null?(p.deletions=[l],p.flags|=16):b.push(l)),p.child=C,p.memoizedState=null,C}function Ux(l,p){return p=r0({mode:"visible",children:p},l.mode,0,null),p.return=l,l.child=p}function qg(l,p,b,C){return C!==null&&hx(C),Xu(p,l.child,null,b),l=Ux(p,p.pendingProps.children),l.flags|=2,p.memoizedState=null,l}function pq(l,p,b,C,k,B,G){if(b)return p.flags&256?(p.flags&=-257,C=kx(Error(r(422))),qg(l,p,G,C)):p.memoizedState!==null?(p.child=l.child,p.flags|=128,null):(B=C.fallback,k=p.mode,C=r0({mode:"visible",children:C.children},k,0,null),B=jc(B,k,G,null),B.flags|=2,C.return=p,B.return=p,C.sibling=B,p.child=C,(p.mode&1)!==0&&Xu(p,l.child,null,G),p.child.memoizedState=Fx(G),p.memoizedState=Bx,B);if((p.mode&1)===0)return qg(l,p,G,null);if(k.data==="$!"){if(C=k.nextSibling&&k.nextSibling.dataset,C)var ae=C.dgst;return C=ae,B=Error(r(419)),C=kx(B,C,void 0),qg(l,p,G,C)}if(ae=(G&l.childLanes)!==0,ss||ae){if(C=oi,C!==null){switch(G&-G){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(C.suspendedLanes|G))!==0?0:k,k!==0&&k!==B.retryLane&&(B.retryLane=k,Eo(l,k),ma(C,l,k,-1))}return rw(),C=kx(Error(r(421))),qg(l,p,G,C)}return k.data==="$?"?(p.flags|=128,p.child=l.child,p=Tq.bind(null,l),k._reactRetry=p,null):(l=B.treeContext,ws=vl(k.nextSibling),xs=p,tn=!0,da=null,l!==null&&(zs[Ws++]=_o,zs[Ws++]=So,zs[Ws++]=Ec,_o=l.id,So=l.overflow,Ec=p),p=Ux(p,C.children),p.flags|=4096,p)}function XN(l,p,b){l.lanes|=p;var C=l.alternate;C!==null&&(C.lanes|=p),yx(l.return,p,b)}function $x(l,p,b,C,k){var B=l.memoizedState;B===null?l.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:k}:(B.isBackwards=p,B.rendering=null,B.renderingStartTime=0,B.last=C,B.tail=b,B.tailMode=k)}function YN(l,p,b){var C=p.pendingProps,k=C.revealOrder,B=C.tail;if(qi(l,p,C.children,b),C=dn.current,(C&2)!==0)C=C&1|2,p.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=p.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&XN(l,b,p);else if(l.tag===19)XN(l,b,p);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===p)break e;for(;l.sibling===null;){if(l.return===null||l.return===p)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}C&=1}if(Vr(dn,C),(p.mode&1)===0)p.memoizedState=null;else switch(k){case"forwards":for(b=p.child,k=null;b!==null;)l=b.alternate,l!==null&&Dg(l)===null&&(k=b),b=b.sibling;b=k,b===null?(k=p.child,p.child=null):(k=b.sibling,b.sibling=null),$x(p,!1,k,b,B);break;case"backwards":for(b=null,k=p.child,p.child=null;k!==null;){if(l=k.alternate,l!==null&&Dg(l)===null){p.child=k;break}l=k.sibling,k.sibling=b,b=k,k=l}$x(p,!0,b,null,B);break;case"together":$x(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function zg(l,p){(p.mode&1)===0&&l!==null&&(l.alternate=null,p.alternate=null,p.flags|=2)}function Co(l,p,b){if(l!==null&&(p.dependencies=l.dependencies),Nc|=p.lanes,(b&p.childLanes)===0)return null;if(l!==null&&p.child!==l.child)throw Error(r(153));if(p.child!==null){for(l=p.child,b=Nl(l,l.pendingProps),p.child=b,b.return=p;l.sibling!==null;)l=l.sibling,b=b.sibling=Nl(l,l.pendingProps),b.return=p;b.sibling=null}return p.child}function mq(l,p,b){switch(p.tag){case 3:HN(p),Ku();break;case 5:uN(p);break;case 1:is(p.type)&&Cg(p);break;case 4:wx(p,p.stateNode.containerInfo);break;case 10:var C=p.type._context,k=p.memoizedProps.value;Vr(Rg,C._currentValue),C._currentValue=k;break;case 13:if(C=p.memoizedState,C!==null)return C.dehydrated!==null?(Vr(dn,dn.current&1),p.flags|=128,null):(b&p.child.childLanes)!==0?KN(l,p,b):(Vr(dn,dn.current&1),l=Co(l,p,b),l!==null?l.sibling:null);Vr(dn,dn.current&1);break;case 19:if(C=(b&p.childLanes)!==0,(l.flags&128)!==0){if(C)return YN(l,p,b);p.flags|=128}if(k=p.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Vr(dn,dn.current),C)break;return null;case 22:case 23:return p.lanes=0,qN(l,p,b)}return Co(l,p,b)}var ZN,Vx,QN,JN;ZN=function(l,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)l.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Vx=function(){},QN=function(l,p,b,C){var k=l.memoizedProps;if(k!==C){l=p.stateNode,Tc(Ha.current);var B=null;switch(b){case"input":k=_t(l,k),C=_t(l,C),B=[];break;case"select":k=me({},k,{value:void 0}),C=me({},C,{value:void 0}),B=[];break;case"textarea":k=le(l,k),C=le(l,C),B=[];break;default:typeof k.onClick!="function"&&typeof C.onClick=="function"&&(l.onclick=Sg)}dr(b,C);var G;b=null;for(Ee in k)if(!C.hasOwnProperty(Ee)&&k.hasOwnProperty(Ee)&&k[Ee]!=null)if(Ee==="style"){var ae=k[Ee];for(G in ae)ae.hasOwnProperty(G)&&(b||(b={}),b[G]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?B||(B=[]):(B=B||[]).push(Ee,null));for(Ee in C){var fe=C[Ee];if(ae=k?.[Ee],C.hasOwnProperty(Ee)&&fe!==ae&&(fe!=null||ae!=null))if(Ee==="style")if(ae){for(G in ae)!ae.hasOwnProperty(G)||fe&&fe.hasOwnProperty(G)||(b||(b={}),b[G]="");for(G in fe)fe.hasOwnProperty(G)&&ae[G]!==fe[G]&&(b||(b={}),b[G]=fe[G])}else b||(B||(B=[]),B.push(Ee,b)),b=fe;else Ee==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ae=ae?ae.__html:void 0,fe!=null&&ae!==fe&&(B=B||[]).push(Ee,fe)):Ee==="children"?typeof fe!="string"&&typeof fe!="number"||(B=B||[]).push(Ee,""+fe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(fe!=null&&Ee==="onScroll"&&Gr("scroll",l),B||ae===fe||(B=[])):(B=B||[]).push(Ee,fe))}b&&(B=B||[]).push("style",b);var Ee=B;(p.updateQueue=Ee)&&(p.flags|=4)}},JN=function(l,p,b,C){b!==C&&(p.flags|=4)};function Mh(l,p){if(!tn)switch(l.tailMode){case"hidden":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?l.tail=null:b.sibling=null;break;case"collapsed":b=l.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?p||l.tail===null?l.tail=null:l.tail.sibling=null:C.sibling=null}}function Mi(l){var p=l.alternate!==null&&l.alternate.child===l.child,b=0,C=0;if(p)for(var k=l.child;k!==null;)b|=k.lanes|k.childLanes,C|=k.subtreeFlags&14680064,C|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)b|=k.lanes|k.childLanes,C|=k.subtreeFlags,C|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=C,l.childLanes=b,p}function gq(l,p,b){var C=p.pendingProps;switch(ux(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(p),null;case 1:return is(p.type)&&Ag(),Mi(p),null;case 3:return C=p.stateNode,Qu(),Kr(ns),Kr(ji),Sx(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(l===null||l.child===null)&&(Ig(p)?p.flags|=4:l===null||l.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,da!==null&&(Jx(da),da=null))),Vx(l,p),Mi(p),null;case 5:bx(p);var k=Tc(Ih.current);if(b=p.type,l!==null&&p.stateNode!=null)QN(l,p,b,C,k),l.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!C){if(p.stateNode===null)throw Error(r(166));return Mi(p),null}if(l=Tc(Ha.current),Ig(p)){C=p.stateNode,b=p.type;var B=p.memoizedProps;switch(C[Wa]=p,C[Ah]=B,l=(p.mode&1)!==0,b){case"dialog":Gr("cancel",C),Gr("close",C);break;case"iframe":case"object":case"embed":Gr("load",C);break;case"video":case"audio":for(k=0;k<_h.length;k++)Gr(_h[k],C);break;case"source":Gr("error",C);break;case"img":case"image":case"link":Gr("error",C),Gr("load",C);break;case"details":Gr("toggle",C);break;case"input":Ne(C,B),Gr("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!B.multiple},Gr("invalid",C);break;case"textarea":xe(C,B),Gr("invalid",C)}dr(b,B),k=null;for(var G in B)if(B.hasOwnProperty(G)){var ae=B[G];G==="children"?typeof ae=="string"?C.textContent!==ae&&(B.suppressHydrationWarning!==!0&&_g(C.textContent,ae,l),k=["children",ae]):typeof ae=="number"&&C.textContent!==""+ae&&(B.suppressHydrationWarning!==!0&&_g(C.textContent,ae,l),k=["children",""+ae]):i.hasOwnProperty(G)&&ae!=null&&G==="onScroll"&&Gr("scroll",C)}switch(b){case"input":Ve(C),Ze(C,B,!0);break;case"textarea":Ve(C),tt(C);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(C.onclick=Sg)}C=k,p.updateQueue=C,C!==null&&(p.flags|=4)}else{G=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ge(b)),l==="http://www.w3.org/1999/xhtml"?b==="script"?(l=G.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof C.is=="string"?l=G.createElement(b,{is:C.is}):(l=G.createElement(b),b==="select"&&(G=l,C.multiple?G.multiple=!0:C.size&&(G.size=C.size))):l=G.createElementNS(l,b),l[Wa]=p,l[Ah]=C,ZN(l,p,!1,!1),p.stateNode=l;e:{switch(G=Ir(b,C),b){case"dialog":Gr("cancel",l),Gr("close",l),k=C;break;case"iframe":case"object":case"embed":Gr("load",l),k=C;break;case"video":case"audio":for(k=0;k<_h.length;k++)Gr(_h[k],l);k=C;break;case"source":Gr("error",l),k=C;break;case"img":case"image":case"link":Gr("error",l),Gr("load",l),k=C;break;case"details":Gr("toggle",l),k=C;break;case"input":Ne(l,C),k=_t(l,C),Gr("invalid",l);break;case"option":k=C;break;case"select":l._wrapperState={wasMultiple:!!C.multiple},k=me({},C,{value:void 0}),Gr("invalid",l);break;case"textarea":xe(l,C),k=le(l,C),Gr("invalid",l);break;default:k=C}dr(b,k),ae=k;for(B in ae)if(ae.hasOwnProperty(B)){var fe=ae[B];B==="style"?Ye(l,fe):B==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&Nt(l,fe)):B==="children"?typeof fe=="string"?(b!=="textarea"||fe!=="")&&Cr(l,fe):typeof fe=="number"&&Cr(l,""+fe):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?fe!=null&&B==="onScroll"&&Gr("scroll",l):fe!=null&&I(l,B,fe,G))}switch(b){case"input":Ve(l),Ze(l,C,!1);break;case"textarea":Ve(l),tt(l);break;case"option":C.value!=null&&l.setAttribute("value",""+Be(C.value));break;case"select":l.multiple=!!C.multiple,B=C.value,B!=null?Fe(l,!!C.multiple,B,!1):C.defaultValue!=null&&Fe(l,!!C.multiple,C.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=Sg)}switch(b){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Mi(p),null;case 6:if(l&&p.stateNode!=null)JN(l,p,l.memoizedProps,C);else{if(typeof C!="string"&&p.stateNode===null)throw Error(r(166));if(b=Tc(Ih.current),Tc(Ha.current),Ig(p)){if(C=p.stateNode,b=p.memoizedProps,C[Wa]=p,(B=C.nodeValue!==b)&&(l=xs,l!==null))switch(l.tag){case 3:_g(C.nodeValue,b,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&_g(C.nodeValue,b,(l.mode&1)!==0)}B&&(p.flags|=4)}else C=(b.nodeType===9?b:b.ownerDocument).createTextNode(C),C[Wa]=p,p.stateNode=C}return Mi(p),null;case 13:if(Kr(dn),C=p.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(tn&&ws!==null&&(p.mode&1)!==0&&(p.flags&128)===0)rN(),Ku(),p.flags|=98560,B=!1;else if(B=Ig(p),C!==null&&C.dehydrated!==null){if(l===null){if(!B)throw Error(r(318));if(B=p.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));B[Wa]=p}else Ku(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Mi(p),B=!1}else da!==null&&(Jx(da),da=null),B=!0;if(!B)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=b,p):(C=C!==null,C!==(l!==null&&l.memoizedState!==null)&&C&&(p.child.flags|=8192,(p.mode&1)!==0&&(l===null||(dn.current&1)!==0?Gn===0&&(Gn=3):rw())),p.updateQueue!==null&&(p.flags|=4),Mi(p),null);case 4:return Qu(),Vx(l,p),l===null&&Sh(p.stateNode.containerInfo),Mi(p),null;case 10:return gx(p.type._context),Mi(p),null;case 17:return is(p.type)&&Ag(),Mi(p),null;case 19:if(Kr(dn),B=p.memoizedState,B===null)return Mi(p),null;if(C=(p.flags&128)!==0,G=B.rendering,G===null)if(C)Mh(B,!1);else{if(Gn!==0||l!==null&&(l.flags&128)!==0)for(l=p.child;l!==null;){if(G=Dg(l),G!==null){for(p.flags|=128,Mh(B,!1),C=G.updateQueue,C!==null&&(p.updateQueue=C,p.flags|=4),p.subtreeFlags=0,C=b,b=p.child;b!==null;)B=b,l=C,B.flags&=14680066,G=B.alternate,G===null?(B.childLanes=0,B.lanes=l,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=G.childLanes,B.lanes=G.lanes,B.child=G.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=G.memoizedProps,B.memoizedState=G.memoizedState,B.updateQueue=G.updateQueue,B.type=G.type,l=G.dependencies,B.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),b=b.sibling;return Vr(dn,dn.current&1|2),p.child}l=l.sibling}B.tail!==null&&wr()>rd&&(p.flags|=128,C=!0,Mh(B,!1),p.lanes=4194304)}else{if(!C)if(l=Dg(G),l!==null){if(p.flags|=128,C=!0,b=l.updateQueue,b!==null&&(p.updateQueue=b,p.flags|=4),Mh(B,!0),B.tail===null&&B.tailMode==="hidden"&&!G.alternate&&!tn)return Mi(p),null}else 2*wr()-B.renderingStartTime>rd&&b!==1073741824&&(p.flags|=128,C=!0,Mh(B,!1),p.lanes=4194304);B.isBackwards?(G.sibling=p.child,p.child=G):(b=B.last,b!==null?b.sibling=G:p.child=G,B.last=G)}return B.tail!==null?(p=B.tail,B.rendering=p,B.tail=p.sibling,B.renderingStartTime=wr(),p.sibling=null,b=dn.current,Vr(dn,C?b&1|2:b&1),p):(Mi(p),null);case 22:case 23:return tw(),C=p.memoizedState!==null,l!==null&&l.memoizedState!==null!==C&&(p.flags|=8192),C&&(p.mode&1)!==0?(bs&1073741824)!==0&&(Mi(p),p.subtreeFlags&6&&(p.flags|=8192)):Mi(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function yq(l,p){switch(ux(p),p.tag){case 1:return is(p.type)&&Ag(),l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 3:return Qu(),Kr(ns),Kr(ji),Sx(),l=p.flags,(l&65536)!==0&&(l&128)===0?(p.flags=l&-65537|128,p):null;case 5:return bx(p),null;case 13:if(Kr(dn),l=p.memoizedState,l!==null&&l.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Ku()}return l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 19:return Kr(dn),null;case 4:return Qu(),null;case 10:return gx(p.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Wg=!1,Di=!1,vq=typeof WeakSet=="function"?WeakSet:Set,ht=null;function ed(l,p){var b=l.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(C){wn(l,p,C)}else b.current=null}function qx(l,p,b){try{b()}catch(C){wn(l,p,C)}}var eI=!1;function xq(l,p){if(tx=qa,l=tr(),Vt(l)){if("selectionStart"in l)var b={start:l.selectionStart,end:l.selectionEnd};else e:{b=(b=l.ownerDocument)&&b.defaultView||window;var C=b.getSelection&&b.getSelection();if(C&&C.rangeCount!==0){b=C.anchorNode;var k=C.anchorOffset,B=C.focusNode;C=C.focusOffset;try{b.nodeType,B.nodeType}catch{b=null;break e}var G=0,ae=-1,fe=-1,Ee=0,Le=0,Ue=l,ke=null;t:for(;;){for(var ct;Ue!==b||k!==0&&Ue.nodeType!==3||(ae=G+k),Ue!==B||C!==0&&Ue.nodeType!==3||(fe=G+C),Ue.nodeType===3&&(G+=Ue.nodeValue.length),(ct=Ue.firstChild)!==null;)ke=Ue,Ue=ct;for(;;){if(Ue===l)break t;if(ke===b&&++Ee===k&&(ae=G),ke===B&&++Le===C&&(fe=G),(ct=Ue.nextSibling)!==null)break;Ue=ke,ke=Ue.parentNode}Ue=ct}b=ae===-1||fe===-1?null:{start:ae,end:fe}}else b=null}b=b||{start:0,end:0}}else b=null;for(rx={focusedElem:l,selectionRange:b},qa=!1,ht=p;ht!==null;)if(p=ht,l=p.child,(p.subtreeFlags&1028)!==0&&l!==null)l.return=p,ht=l;else for(;ht!==null;){p=ht;try{var mt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var gt=mt.memoizedProps,Nn=mt.memoizedState,ve=p.stateNode,pe=ve.getSnapshotBeforeUpdate(p.elementType===p.type?gt:fa(p.type,gt),Nn);ve.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var we=p.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Xe){wn(p,p.return,Xe)}if(l=p.sibling,l!==null){l.return=p.return,ht=l;break}ht=p.return}return mt=eI,eI=!1,mt}function Dh(l,p,b){var C=p.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var k=C=C.next;do{if((k.tag&l)===l){var B=k.destroy;k.destroy=void 0,B!==void 0&&qx(p,b,B)}k=k.next}while(k!==C)}}function Hg(l,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&l)===l){var C=b.create;b.destroy=C()}b=b.next}while(b!==p)}}function zx(l){var p=l.ref;if(p!==null){var b=l.stateNode;l.tag,l=b,typeof p=="function"?p(l):p.current=l}}function tI(l){var p=l.alternate;p!==null&&(l.alternate=null,tI(p)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(p=l.stateNode,p!==null&&(delete p[Wa],delete p[Ah],delete p[ax],delete p[tq],delete p[rq])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function rI(l){return l.tag===5||l.tag===3||l.tag===4}function nI(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||rI(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Wx(l,p,b){var C=l.tag;if(C===5||C===6)l=l.stateNode,p?b.nodeType===8?b.parentNode.insertBefore(l,p):b.insertBefore(l,p):(b.nodeType===8?(p=b.parentNode,p.insertBefore(l,b)):(p=b,p.appendChild(l)),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=Sg));else if(C!==4&&(l=l.child,l!==null))for(Wx(l,p,b),l=l.sibling;l!==null;)Wx(l,p,b),l=l.sibling}function Hx(l,p,b){var C=l.tag;if(C===5||C===6)l=l.stateNode,p?b.insertBefore(l,p):b.appendChild(l);else if(C!==4&&(l=l.child,l!==null))for(Hx(l,p,b),l=l.sibling;l!==null;)Hx(l,p,b),l=l.sibling}var wi=null,ha=!1;function El(l,p,b){for(b=b.child;b!==null;)iI(l,p,b),b=b.sibling}function iI(l,p,b){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ur,b)}catch{}switch(b.tag){case 5:Di||ed(b,p);case 6:var C=wi,k=ha;wi=null,El(l,p,b),wi=C,ha=k,wi!==null&&(ha?(l=wi,b=b.stateNode,l.nodeType===8?l.parentNode.removeChild(b):l.removeChild(b)):wi.removeChild(b.stateNode));break;case 18:wi!==null&&(ha?(l=wi,b=b.stateNode,l.nodeType===8?sx(l.parentNode,b):l.nodeType===1&&sx(l,b),la(l)):sx(wi,b.stateNode));break;case 4:C=wi,k=ha,wi=b.stateNode.containerInfo,ha=!0,El(l,p,b),wi=C,ha=k;break;case 0:case 11:case 14:case 15:if(!Di&&(C=b.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){k=C=C.next;do{var B=k,G=B.destroy;B=B.tag,G!==void 0&&((B&2)!==0||(B&4)!==0)&&qx(b,p,G),k=k.next}while(k!==C)}El(l,p,b);break;case 1:if(!Di&&(ed(b,p),C=b.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=b.memoizedProps,C.state=b.memoizedState,C.componentWillUnmount()}catch(ae){wn(b,p,ae)}El(l,p,b);break;case 21:El(l,p,b);break;case 22:b.mode&1?(Di=(C=Di)||b.memoizedState!==null,El(l,p,b),Di=C):El(l,p,b);break;default:El(l,p,b)}}function sI(l){var p=l.updateQueue;if(p!==null){l.updateQueue=null;var b=l.stateNode;b===null&&(b=l.stateNode=new vq),p.forEach(function(C){var k=Oq.bind(null,l,C);b.has(C)||(b.add(C),C.then(k,k))})}}function pa(l,p){var b=p.deletions;if(b!==null)for(var C=0;C<b.length;C++){var k=b[C];try{var B=l,G=p,ae=G;e:for(;ae!==null;){switch(ae.tag){case 5:wi=ae.stateNode,ha=!1;break e;case 3:wi=ae.stateNode.containerInfo,ha=!0;break e;case 4:wi=ae.stateNode.containerInfo,ha=!0;break e}ae=ae.return}if(wi===null)throw Error(r(160));iI(B,G,k),wi=null,ha=!1;var fe=k.alternate;fe!==null&&(fe.return=null),k.return=null}catch(Ee){wn(k,p,Ee)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)aI(p,l),p=p.sibling}function aI(l,p){var b=l.alternate,C=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(pa(p,l),Ka(l),C&4){try{Dh(3,l,l.return),Hg(3,l)}catch(gt){wn(l,l.return,gt)}try{Dh(5,l,l.return)}catch(gt){wn(l,l.return,gt)}}break;case 1:pa(p,l),Ka(l),C&512&&b!==null&&ed(b,b.return);break;case 5:if(pa(p,l),Ka(l),C&512&&b!==null&&ed(b,b.return),l.flags&32){var k=l.stateNode;try{Cr(k,"")}catch(gt){wn(l,l.return,gt)}}if(C&4&&(k=l.stateNode,k!=null)){var B=l.memoizedProps,G=b!==null?b.memoizedProps:B,ae=l.type,fe=l.updateQueue;if(l.updateQueue=null,fe!==null)try{ae==="input"&&B.type==="radio"&&B.name!=null&&Ke(k,B),Ir(ae,G);var Ee=Ir(ae,B);for(G=0;G<fe.length;G+=2){var Le=fe[G],Ue=fe[G+1];Le==="style"?Ye(k,Ue):Le==="dangerouslySetInnerHTML"?Nt(k,Ue):Le==="children"?Cr(k,Ue):I(k,Le,Ue,Ee)}switch(ae){case"input":ot(k,B);break;case"textarea":Ae(k,B);break;case"select":var ke=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!B.multiple;var ct=B.value;ct!=null?Fe(k,!!B.multiple,ct,!1):ke!==!!B.multiple&&(B.defaultValue!=null?Fe(k,!!B.multiple,B.defaultValue,!0):Fe(k,!!B.multiple,B.multiple?[]:"",!1))}k[Ah]=B}catch(gt){wn(l,l.return,gt)}}break;case 6:if(pa(p,l),Ka(l),C&4){if(l.stateNode===null)throw Error(r(162));k=l.stateNode,B=l.memoizedProps;try{k.nodeValue=B}catch(gt){wn(l,l.return,gt)}}break;case 3:if(pa(p,l),Ka(l),C&4&&b!==null&&b.memoizedState.isDehydrated)try{la(p.containerInfo)}catch(gt){wn(l,l.return,gt)}break;case 4:pa(p,l),Ka(l);break;case 13:pa(p,l),Ka(l),k=l.child,k.flags&8192&&(B=k.memoizedState!==null,k.stateNode.isHidden=B,!B||k.alternate!==null&&k.alternate.memoizedState!==null||(Xx=wr())),C&4&&sI(l);break;case 22:if(Le=b!==null&&b.memoizedState!==null,l.mode&1?(Di=(Ee=Di)||Le,pa(p,l),Di=Ee):pa(p,l),Ka(l),C&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Le&&(l.mode&1)!==0)for(ht=l,Le=l.child;Le!==null;){for(Ue=ht=Le;ht!==null;){switch(ke=ht,ct=ke.child,ke.tag){case 0:case 11:case 14:case 15:Dh(4,ke,ke.return);break;case 1:ed(ke,ke.return);var mt=ke.stateNode;if(typeof mt.componentWillUnmount=="function"){C=ke,b=ke.return;try{p=C,mt.props=p.memoizedProps,mt.state=p.memoizedState,mt.componentWillUnmount()}catch(gt){wn(C,b,gt)}}break;case 5:ed(ke,ke.return);break;case 22:if(ke.memoizedState!==null){cI(Ue);continue}}ct!==null?(ct.return=ke,ht=ct):cI(Ue)}Le=Le.sibling}e:for(Le=null,Ue=l;;){if(Ue.tag===5){if(Le===null){Le=Ue;try{k=Ue.stateNode,Ee?(B=k.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(ae=Ue.stateNode,fe=Ue.memoizedProps.style,G=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ae.style.display=Mr("display",G))}catch(gt){wn(l,l.return,gt)}}}else if(Ue.tag===6){if(Le===null)try{Ue.stateNode.nodeValue=Ee?"":Ue.memoizedProps}catch(gt){wn(l,l.return,gt)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===l)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===l)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===l)break e;Le===Ue&&(Le=null),Ue=Ue.return}Le===Ue&&(Le=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}break;case 19:pa(p,l),Ka(l),C&4&&sI(l);break;case 21:break;default:pa(p,l),Ka(l)}}function Ka(l){var p=l.flags;if(p&2){try{e:{for(var b=l.return;b!==null;){if(rI(b)){var C=b;break e}b=b.return}throw Error(r(160))}switch(C.tag){case 5:var k=C.stateNode;C.flags&32&&(Cr(k,""),C.flags&=-33);var B=nI(l);Hx(l,B,k);break;case 3:case 4:var G=C.stateNode.containerInfo,ae=nI(l);Wx(l,ae,G);break;default:throw Error(r(161))}}catch(fe){wn(l,l.return,fe)}l.flags&=-3}p&4096&&(l.flags&=-4097)}function wq(l,p,b){ht=l,oI(l)}function oI(l,p,b){for(var C=(l.mode&1)!==0;ht!==null;){var k=ht,B=k.child;if(k.tag===22&&C){var G=k.memoizedState!==null||Wg;if(!G){var ae=k.alternate,fe=ae!==null&&ae.memoizedState!==null||Di;ae=Wg;var Ee=Di;if(Wg=G,(Di=fe)&&!Ee)for(ht=k;ht!==null;)G=ht,fe=G.child,G.tag===22&&G.memoizedState!==null?uI(k):fe!==null?(fe.return=G,ht=fe):uI(k);for(;B!==null;)ht=B,oI(B),B=B.sibling;ht=k,Wg=ae,Di=Ee}lI(l)}else(k.subtreeFlags&8772)!==0&&B!==null?(B.return=k,ht=B):lI(l)}}function lI(l){for(;ht!==null;){var p=ht;if((p.flags&8772)!==0){var b=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Di||Hg(5,p);break;case 1:var C=p.stateNode;if(p.flags&4&&!Di)if(b===null)C.componentDidMount();else{var k=p.elementType===p.type?b.memoizedProps:fa(p.type,b.memoizedProps);C.componentDidUpdate(k,b.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var B=p.updateQueue;B!==null&&cN(p,B,C);break;case 3:var G=p.updateQueue;if(G!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=p.child.stateNode;break;case 1:b=p.child.stateNode}cN(p,G,b)}break;case 5:var ae=p.stateNode;if(b===null&&p.flags&4){b=ae;var fe=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&b.focus();break;case"img":fe.src&&(b.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ee=p.alternate;if(Ee!==null){var Le=Ee.memoizedState;if(Le!==null){var Ue=Le.dehydrated;Ue!==null&&la(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Di||p.flags&512&&zx(p)}catch(ke){wn(p,p.return,ke)}}if(p===l){ht=null;break}if(b=p.sibling,b!==null){b.return=p.return,ht=b;break}ht=p.return}}function cI(l){for(;ht!==null;){var p=ht;if(p===l){ht=null;break}var b=p.sibling;if(b!==null){b.return=p.return,ht=b;break}ht=p.return}}function uI(l){for(;ht!==null;){var p=ht;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{Hg(4,p)}catch(fe){wn(p,b,fe)}break;case 1:var C=p.stateNode;if(typeof C.componentDidMount=="function"){var k=p.return;try{C.componentDidMount()}catch(fe){wn(p,k,fe)}}var B=p.return;try{zx(p)}catch(fe){wn(p,B,fe)}break;case 5:var G=p.return;try{zx(p)}catch(fe){wn(p,G,fe)}}}catch(fe){wn(p,p.return,fe)}if(p===l){ht=null;break}var ae=p.sibling;if(ae!==null){ae.return=p.return,ht=ae;break}ht=p.return}}var bq=Math.ceil,Gg=D.ReactCurrentDispatcher,Gx=D.ReactCurrentOwner,Ks=D.ReactCurrentBatchConfig,pr=0,oi=null,Mn=null,bi=0,bs=0,td=xl(0),Gn=0,Lh=null,Nc=0,Kg=0,Kx=0,Bh=null,as=null,Xx=0,rd=1/0,To=null,Xg=!1,Yx=null,Al=null,Yg=!1,Cl=null,Zg=0,Fh=0,Zx=null,Qg=-1,Jg=0;function zi(){return(pr&6)!==0?wr():Qg!==-1?Qg:Qg=wr()}function Tl(l){return(l.mode&1)===0?1:(pr&2)!==0&&bi!==0?bi&-bi:iq.transition!==null?(Jg===0&&(Jg=Vn()),Jg):(l=Kt,l!==0||(l=window.event,l=l===void 0?16:fh(l.type)),l)}function ma(l,p,b,C){if(50<Fh)throw Fh=0,Zx=null,Error(r(185));ee(l,b,C),((pr&2)===0||l!==oi)&&(l===oi&&((pr&2)===0&&(Kg|=b),Gn===4&&Ol(l,bi)),os(l,C),b===1&&pr===0&&(p.mode&1)===0&&(rd=wr()+500,Tg&&bl()))}function os(l,p){var b=l.callbackNode;ll(l,p);var C=ms(l,l===oi?bi:0);if(C===0)b!==null&&ii(b),l.callbackNode=null,l.callbackPriority=0;else if(p=C&-C,l.callbackPriority!==p){if(b!=null&&ii(b),p===1)l.tag===0?nq(fI.bind(null,l)):ZO(fI.bind(null,l)),JV(function(){(pr&6)===0&&bl()}),b=null;else{switch(lg(C)){case 1:b=je;break;case 4:b=ag;break;case 16:b=Dr;break;case 536870912:b=og;break;default:b=Dr}b=wI(b,dI.bind(null,l))}l.callbackPriority=p,l.callbackNode=b}}function dI(l,p){if(Qg=-1,Jg=0,(pr&6)!==0)throw Error(r(327));var b=l.callbackNode;if(nd()&&l.callbackNode!==b)return null;var C=ms(l,l===oi?bi:0);if(C===0)return null;if((C&30)!==0||(C&l.expiredLanes)!==0||p)p=e0(l,C);else{p=C;var k=pr;pr|=2;var B=pI();(oi!==l||bi!==p)&&(To=null,rd=wr()+500,Pc(l,p));do try{Eq();break}catch(ae){hI(l,ae)}while(!0);mx(),Gg.current=B,pr=k,Mn!==null?p=0:(oi=null,bi=0,p=Gn)}if(p!==0){if(p===2&&(k=br(l),k!==0&&(C=k,p=Qx(l,k))),p===1)throw b=Lh,Pc(l,0),Ol(l,C),os(l,wr()),b;if(p===6)Ol(l,C);else{if(k=l.current.alternate,(C&30)===0&&!_q(k)&&(p=e0(l,C),p===2&&(B=br(l),B!==0&&(C=B,p=Qx(l,B))),p===1))throw b=Lh,Pc(l,0),Ol(l,C),os(l,wr()),b;switch(l.finishedWork=k,l.finishedLanes=C,p){case 0:case 1:throw Error(r(345));case 2:Rc(l,as,To);break;case 3:if(Ol(l,C),(C&130023424)===C&&(p=Xx+500-wr(),10<p)){if(ms(l,0)!==0)break;if(k=l.suspendedLanes,(k&C)!==C){zi(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=ix(Rc.bind(null,l,as,To),p);break}Rc(l,as,To);break;case 4:if(Ol(l,C),(C&4194240)===C)break;for(p=l.eventTimes,k=-1;0<C;){var G=31-Vi(C);B=1<<G,G=p[G],G>k&&(k=G),C&=~B}if(C=k,C=wr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*bq(C/1960))-C,10<C){l.timeoutHandle=ix(Rc.bind(null,l,as,To),C);break}Rc(l,as,To);break;case 5:Rc(l,as,To);break;default:throw Error(r(329))}}}return os(l,wr()),l.callbackNode===b?dI.bind(null,l):null}function Qx(l,p){var b=Bh;return l.current.memoizedState.isDehydrated&&(Pc(l,p).flags|=256),l=e0(l,p),l!==2&&(p=as,as=b,p!==null&&Jx(p)),l}function Jx(l){as===null?as=l:as.push.apply(as,l)}function _q(l){for(var p=l;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var C=0;C<b.length;C++){var k=b[C],B=k.getSnapshot;k=k.value;try{if(!ge(B(),k))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ol(l,p){for(p&=~Kx,p&=~Kg,l.suspendedLanes|=p,l.pingedLanes&=~p,l=l.expirationTimes;0<p;){var b=31-Vi(p),C=1<<b;l[b]=-1,p&=~C}}function fI(l){if((pr&6)!==0)throw Error(r(327));nd();var p=ms(l,0);if((p&1)===0)return os(l,wr()),null;var b=e0(l,p);if(l.tag!==0&&b===2){var C=br(l);C!==0&&(p=C,b=Qx(l,C))}if(b===1)throw b=Lh,Pc(l,0),Ol(l,p),os(l,wr()),b;if(b===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=p,Rc(l,as,To),os(l,wr()),null}function ew(l,p){var b=pr;pr|=1;try{return l(p)}finally{pr=b,pr===0&&(rd=wr()+500,Tg&&bl())}}function Ic(l){Cl!==null&&Cl.tag===0&&(pr&6)===0&&nd();var p=pr;pr|=1;var b=Ks.transition,C=Kt;try{if(Ks.transition=null,Kt=1,l)return l()}finally{Kt=C,Ks.transition=b,pr=p,(pr&6)===0&&bl()}}function tw(){bs=td.current,Kr(td)}function Pc(l,p){l.finishedWork=null,l.finishedLanes=0;var b=l.timeoutHandle;if(b!==-1&&(l.timeoutHandle=-1,QV(b)),Mn!==null)for(b=Mn.return;b!==null;){var C=b;switch(ux(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Ag();break;case 3:Qu(),Kr(ns),Kr(ji),Sx();break;case 5:bx(C);break;case 4:Qu();break;case 13:Kr(dn);break;case 19:Kr(dn);break;case 10:gx(C.type._context);break;case 22:case 23:tw()}b=b.return}if(oi=l,Mn=l=Nl(l.current,null),bi=bs=p,Gn=0,Lh=null,Kx=Kg=Nc=0,as=Bh=null,Cc!==null){for(p=0;p<Cc.length;p++)if(b=Cc[p],C=b.interleaved,C!==null){b.interleaved=null;var k=C.next,B=b.pending;if(B!==null){var G=B.next;B.next=k,C.next=G}b.pending=C}Cc=null}return l}function hI(l,p){do{var b=Mn;try{if(mx(),Lg.current=$g,Bg){for(var C=fn.memoizedState;C!==null;){var k=C.queue;k!==null&&(k.pending=null),C=C.next}Bg=!1}if(Oc=0,ai=Hn=fn=null,Ph=!1,Rh=0,Gx.current=null,b===null||b.return===null){Gn=1,Lh=p,Mn=null;break}e:{var B=l,G=b.return,ae=b,fe=p;if(p=bi,ae.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ee=fe,Le=ae,Ue=Le.tag;if((Le.mode&1)===0&&(Ue===0||Ue===11||Ue===15)){var ke=Le.alternate;ke?(Le.updateQueue=ke.updateQueue,Le.memoizedState=ke.memoizedState,Le.lanes=ke.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var ct=BN(G);if(ct!==null){ct.flags&=-257,FN(ct,G,ae,B,p),ct.mode&1&&LN(B,Ee,p),p=ct,fe=Ee;var mt=p.updateQueue;if(mt===null){var gt=new Set;gt.add(fe),p.updateQueue=gt}else mt.add(fe);break e}else{if((p&1)===0){LN(B,Ee,p),rw();break e}fe=Error(r(426))}}else if(tn&&ae.mode&1){var Nn=BN(G);if(Nn!==null){(Nn.flags&65536)===0&&(Nn.flags|=256),FN(Nn,G,ae,B,p),hx(Ju(fe,ae));break e}}B=fe=Ju(fe,ae),Gn!==4&&(Gn=2),Bh===null?Bh=[B]:Bh.push(B),B=G;do{switch(B.tag){case 3:B.flags|=65536,p&=-p,B.lanes|=p;var ve=MN(B,fe,p);lN(B,ve);break e;case 1:ae=fe;var pe=B.type,we=B.stateNode;if((B.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(Al===null||!Al.has(we)))){B.flags|=65536,p&=-p,B.lanes|=p;var Xe=DN(B,ae,p);lN(B,Xe);break e}}B=B.return}while(B!==null)}gI(b)}catch(vt){p=vt,Mn===b&&b!==null&&(Mn=b=b.return);continue}break}while(!0)}function pI(){var l=Gg.current;return Gg.current=$g,l===null?$g:l}function rw(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),oi===null||(Nc&268435455)===0&&(Kg&268435455)===0||Ol(oi,bi)}function e0(l,p){var b=pr;pr|=2;var C=pI();(oi!==l||bi!==p)&&(To=null,Pc(l,p));do try{Sq();break}catch(k){hI(l,k)}while(!0);if(mx(),pr=b,Gg.current=C,Mn!==null)throw Error(r(261));return oi=null,bi=0,Gn}function Sq(){for(;Mn!==null;)mI(Mn)}function Eq(){for(;Mn!==null&&!Fr();)mI(Mn)}function mI(l){var p=xI(l.alternate,l,bs);l.memoizedProps=l.pendingProps,p===null?gI(l):Mn=p,Gx.current=null}function gI(l){var p=l;do{var b=p.alternate;if(l=p.return,(p.flags&32768)===0){if(b=gq(b,p,bs),b!==null){Mn=b;return}}else{if(b=yq(b,p),b!==null){b.flags&=32767,Mn=b;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Gn=6,Mn=null;return}}if(p=p.sibling,p!==null){Mn=p;return}Mn=p=l}while(p!==null);Gn===0&&(Gn=5)}function Rc(l,p,b){var C=Kt,k=Ks.transition;try{Ks.transition=null,Kt=1,Aq(l,p,b,C)}finally{Ks.transition=k,Kt=C}return null}function Aq(l,p,b,C){do nd();while(Cl!==null);if((pr&6)!==0)throw Error(r(327));b=l.finishedWork;var k=l.finishedLanes;if(b===null)return null;if(l.finishedWork=null,l.finishedLanes=0,b===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var B=b.lanes|b.childLanes;if(wt(l,B),l===oi&&(Mn=oi=null,bi=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Yg||(Yg=!0,wI(Dr,function(){return nd(),null})),B=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||B){B=Ks.transition,Ks.transition=null;var G=Kt;Kt=1;var ae=pr;pr|=4,Gx.current=null,xq(l,b),aI(b,l),Ri(rx),qa=!!tx,rx=tx=null,l.current=b,wq(b),sg(),pr=ae,Kt=G,Ks.transition=B}else l.current=b;if(Yg&&(Yg=!1,Cl=l,Zg=k),B=l.pendingLanes,B===0&&(Al=null),sr(b.stateNode),os(l,wr()),p!==null)for(C=l.onRecoverableError,b=0;b<p.length;b++)k=p[b],C(k.value,{componentStack:k.stack,digest:k.digest});if(Xg)throw Xg=!1,l=Yx,Yx=null,l;return(Zg&1)!==0&&l.tag!==0&&nd(),B=l.pendingLanes,(B&1)!==0?l===Zx?Fh++:(Fh=0,Zx=l):Fh=0,bl(),null}function nd(){if(Cl!==null){var l=lg(Zg),p=Ks.transition,b=Kt;try{if(Ks.transition=null,Kt=16>l?16:l,Cl===null)var C=!1;else{if(l=Cl,Cl=null,Zg=0,(pr&6)!==0)throw Error(r(331));var k=pr;for(pr|=4,ht=l.current;ht!==null;){var B=ht,G=B.child;if((ht.flags&16)!==0){var ae=B.deletions;if(ae!==null){for(var fe=0;fe<ae.length;fe++){var Ee=ae[fe];for(ht=Ee;ht!==null;){var Le=ht;switch(Le.tag){case 0:case 11:case 15:Dh(8,Le,B)}var Ue=Le.child;if(Ue!==null)Ue.return=Le,ht=Ue;else for(;ht!==null;){Le=ht;var ke=Le.sibling,ct=Le.return;if(tI(Le),Le===Ee){ht=null;break}if(ke!==null){ke.return=ct,ht=ke;break}ht=ct}}}var mt=B.alternate;if(mt!==null){var gt=mt.child;if(gt!==null){mt.child=null;do{var Nn=gt.sibling;gt.sibling=null,gt=Nn}while(gt!==null)}}ht=B}}if((B.subtreeFlags&2064)!==0&&G!==null)G.return=B,ht=G;else e:for(;ht!==null;){if(B=ht,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:Dh(9,B,B.return)}var ve=B.sibling;if(ve!==null){ve.return=B.return,ht=ve;break e}ht=B.return}}var pe=l.current;for(ht=pe;ht!==null;){G=ht;var we=G.child;if((G.subtreeFlags&2064)!==0&&we!==null)we.return=G,ht=we;else e:for(G=pe;ht!==null;){if(ae=ht,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Hg(9,ae)}}catch(vt){wn(ae,ae.return,vt)}if(ae===G){ht=null;break e}var Xe=ae.sibling;if(Xe!==null){Xe.return=ae.return,ht=Xe;break e}ht=ae.return}}if(pr=k,bl(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ur,l)}catch{}C=!0}return C}finally{Kt=b,Ks.transition=p}}return!1}function yI(l,p,b){p=Ju(b,p),p=MN(l,p,1),l=Sl(l,p,1),p=zi(),l!==null&&(ee(l,1,p),os(l,p))}function wn(l,p,b){if(l.tag===3)yI(l,l,b);else for(;p!==null;){if(p.tag===3){yI(p,l,b);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Al===null||!Al.has(C))){l=Ju(b,l),l=DN(p,l,1),p=Sl(p,l,1),l=zi(),p!==null&&(ee(p,1,l),os(p,l));break}}p=p.return}}function Cq(l,p,b){var C=l.pingCache;C!==null&&C.delete(p),p=zi(),l.pingedLanes|=l.suspendedLanes&b,oi===l&&(bi&b)===b&&(Gn===4||Gn===3&&(bi&130023424)===bi&&500>wr()-Xx?Pc(l,0):Kx|=b),os(l,p)}function vI(l,p){p===0&&((l.mode&1)===0?p=1:(p=ju,ju<<=1,(ju&130023424)===0&&(ju=4194304)));var b=zi();l=Eo(l,p),l!==null&&(ee(l,p,b),os(l,b))}function Tq(l){var p=l.memoizedState,b=0;p!==null&&(b=p.retryLane),vI(l,b)}function Oq(l,p){var b=0;switch(l.tag){case 13:var C=l.stateNode,k=l.memoizedState;k!==null&&(b=k.retryLane);break;case 19:C=l.stateNode;break;default:throw Error(r(314))}C!==null&&C.delete(p),vI(l,b)}var xI;xI=function(l,p,b){if(l!==null)if(l.memoizedProps!==p.pendingProps||ns.current)ss=!0;else{if((l.lanes&b)===0&&(p.flags&128)===0)return ss=!1,mq(l,p,b);ss=(l.flags&131072)!==0}else ss=!1,tn&&(p.flags&1048576)!==0&&QO(p,Ng,p.index);switch(p.lanes=0,p.tag){case 2:var C=p.type;zg(l,p),l=p.pendingProps;var k=Wu(p,ji.current);Zu(p,b),k=Cx(null,p,C,l,k,b);var B=Tx();return p.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,is(C)?(B=!0,Cg(p)):B=!1,p.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,xx(p),k.updater=Vg,p.stateNode=k,k._reactInternals=p,jx(p,C,l,b),p=Lx(null,p,C,!0,B,b)):(p.tag=0,tn&&B&&cx(p),qi(null,p,k,b),p=p.child),p;case 16:C=p.elementType;e:{switch(zg(l,p),l=p.pendingProps,k=C._init,C=k(C._payload),p.type=C,k=p.tag=Iq(C),l=fa(C,l),k){case 0:p=Dx(null,p,C,l,b);break e;case 1:p=WN(null,p,C,l,b);break e;case 11:p=UN(null,p,C,l,b);break e;case 14:p=$N(null,p,C,fa(C.type,l),b);break e}throw Error(r(306,C,""))}return p;case 0:return C=p.type,k=p.pendingProps,k=p.elementType===C?k:fa(C,k),Dx(l,p,C,k,b);case 1:return C=p.type,k=p.pendingProps,k=p.elementType===C?k:fa(C,k),WN(l,p,C,k,b);case 3:e:{if(HN(p),l===null)throw Error(r(387));C=p.pendingProps,B=p.memoizedState,k=B.element,oN(l,p),Mg(p,C,null,b);var G=p.memoizedState;if(C=G.element,B.isDehydrated)if(B={element:C,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},p.updateQueue.baseState=B,p.memoizedState=B,p.flags&256){k=Ju(Error(r(423)),p),p=GN(l,p,C,b,k);break e}else if(C!==k){k=Ju(Error(r(424)),p),p=GN(l,p,C,b,k);break e}else for(ws=vl(p.stateNode.containerInfo.firstChild),xs=p,tn=!0,da=null,b=sN(p,null,C,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Ku(),C===k){p=Co(l,p,b);break e}qi(l,p,C,b)}p=p.child}return p;case 5:return uN(p),l===null&&fx(p),C=p.type,k=p.pendingProps,B=l!==null?l.memoizedProps:null,G=k.children,nx(C,k)?G=null:B!==null&&nx(C,B)&&(p.flags|=32),zN(l,p),qi(l,p,G,b),p.child;case 6:return l===null&&fx(p),null;case 13:return KN(l,p,b);case 4:return wx(p,p.stateNode.containerInfo),C=p.pendingProps,l===null?p.child=Xu(p,null,C,b):qi(l,p,C,b),p.child;case 11:return C=p.type,k=p.pendingProps,k=p.elementType===C?k:fa(C,k),UN(l,p,C,k,b);case 7:return qi(l,p,p.pendingProps,b),p.child;case 8:return qi(l,p,p.pendingProps.children,b),p.child;case 12:return qi(l,p,p.pendingProps.children,b),p.child;case 10:e:{if(C=p.type._context,k=p.pendingProps,B=p.memoizedProps,G=k.value,Vr(Rg,C._currentValue),C._currentValue=G,B!==null)if(ge(B.value,G)){if(B.children===k.children&&!ns.current){p=Co(l,p,b);break e}}else for(B=p.child,B!==null&&(B.return=p);B!==null;){var ae=B.dependencies;if(ae!==null){G=B.child;for(var fe=ae.firstContext;fe!==null;){if(fe.context===C){if(B.tag===1){fe=Ao(-1,b&-b),fe.tag=2;var Ee=B.updateQueue;if(Ee!==null){Ee=Ee.shared;var Le=Ee.pending;Le===null?fe.next=fe:(fe.next=Le.next,Le.next=fe),Ee.pending=fe}}B.lanes|=b,fe=B.alternate,fe!==null&&(fe.lanes|=b),yx(B.return,b,p),ae.lanes|=b;break}fe=fe.next}}else if(B.tag===10)G=B.type===p.type?null:B.child;else if(B.tag===18){if(G=B.return,G===null)throw Error(r(341));G.lanes|=b,ae=G.alternate,ae!==null&&(ae.lanes|=b),yx(G,b,p),G=B.sibling}else G=B.child;if(G!==null)G.return=B;else for(G=B;G!==null;){if(G===p){G=null;break}if(B=G.sibling,B!==null){B.return=G.return,G=B;break}G=G.return}B=G}qi(l,p,k.children,b),p=p.child}return p;case 9:return k=p.type,C=p.pendingProps.children,Zu(p,b),k=Hs(k),C=C(k),p.flags|=1,qi(l,p,C,b),p.child;case 14:return C=p.type,k=fa(C,p.pendingProps),k=fa(C.type,k),$N(l,p,C,k,b);case 15:return VN(l,p,p.type,p.pendingProps,b);case 17:return C=p.type,k=p.pendingProps,k=p.elementType===C?k:fa(C,k),zg(l,p),p.tag=1,is(C)?(l=!0,Cg(p)):l=!1,Zu(p,b),jN(p,C,k),jx(p,C,k,b),Lx(null,p,C,!0,l,b);case 19:return YN(l,p,b);case 22:return qN(l,p,b)}throw Error(r(156,p.tag))};function wI(l,p){return hs(l,p)}function Nq(l,p,b,C){this.tag=l,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(l,p,b,C){return new Nq(l,p,b,C)}function nw(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Iq(l){if(typeof l=="function")return nw(l)?1:0;if(l!=null){if(l=l.$$typeof,l===z)return 11;if(l===Y)return 14}return 2}function Nl(l,p){var b=l.alternate;return b===null?(b=Xs(l.tag,p,l.key,l.mode),b.elementType=l.elementType,b.type=l.type,b.stateNode=l.stateNode,b.alternate=l,l.alternate=b):(b.pendingProps=p,b.type=l.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=l.flags&14680064,b.childLanes=l.childLanes,b.lanes=l.lanes,b.child=l.child,b.memoizedProps=l.memoizedProps,b.memoizedState=l.memoizedState,b.updateQueue=l.updateQueue,p=l.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=l.sibling,b.index=l.index,b.ref=l.ref,b}function t0(l,p,b,C,k,B){var G=2;if(C=l,typeof l=="function")nw(l)&&(G=1);else if(typeof l=="string")G=5;else e:switch(l){case U:return jc(b.children,k,B,p);case H:G=8,k|=8;break;case W:return l=Xs(12,b,p,k|2),l.elementType=W,l.lanes=B,l;case Z:return l=Xs(13,b,p,k),l.elementType=Z,l.lanes=B,l;case Q:return l=Xs(19,b,p,k),l.elementType=Q,l.lanes=B,l;case re:return r0(b,k,B,p);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case ce:G=10;break e;case K:G=9;break e;case z:G=11;break e;case Y:G=14;break e;case J:G=16,C=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return p=Xs(G,b,p,k),p.elementType=l,p.type=C,p.lanes=B,p}function jc(l,p,b,C){return l=Xs(7,l,C,p),l.lanes=b,l}function r0(l,p,b,C){return l=Xs(22,l,C,p),l.elementType=re,l.lanes=b,l.stateNode={isHidden:!1},l}function iw(l,p,b){return l=Xs(6,l,null,p),l.lanes=b,l}function sw(l,p,b){return p=Xs(4,l.children!==null?l.children:[],l.key,p),p.lanes=b,p.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},p}function Pq(l,p,b,C,k){this.tag=p,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=C,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function aw(l,p,b,C,k,B,G,ae,fe){return l=new Pq(l,p,b,ae,fe),p===1?(p=1,B===!0&&(p|=8)):p=0,B=Xs(3,null,null,p),l.current=B,B.stateNode=l,B.memoizedState={element:C,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},xx(B),l}function Rq(l,p,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:C==null?null:""+C,children:l,containerInfo:p,implementation:b}}function bI(l){if(!l)return wl;l=l._reactInternals;e:{if(rs(l)!==l||l.tag!==1)throw Error(r(170));var p=l;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(is(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(l.tag===1){var b=l.type;if(is(b))return XO(l,b,p)}return p}function _I(l,p,b,C,k,B,G,ae,fe){return l=aw(b,C,!0,l,k,B,G,ae,fe),l.context=bI(null),b=l.current,C=zi(),k=Tl(b),B=Ao(C,k),B.callback=p??null,Sl(b,B,k),l.current.lanes=k,ee(l,k,C),os(l,C),l}function n0(l,p,b,C){var k=p.current,B=zi(),G=Tl(k);return b=bI(b),p.context===null?p.context=b:p.pendingContext=b,p=Ao(B,G),p.payload={element:l},C=C===void 0?null:C,C!==null&&(p.callback=C),l=Sl(k,p,G),l!==null&&(ma(l,k,G,B),kg(l,k,G)),G}function i0(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function SI(l,p){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var b=l.retryLane;l.retryLane=b!==0&&b<p?b:p}}function ow(l,p){SI(l,p),(l=l.alternate)&&SI(l,p)}function jq(){return null}var EI=typeof reportError=="function"?reportError:function(l){console.error(l)};function lw(l){this._internalRoot=l}s0.prototype.render=lw.prototype.render=function(l){var p=this._internalRoot;if(p===null)throw Error(r(409));n0(l,p,null,null)},s0.prototype.unmount=lw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var p=l.containerInfo;Ic(function(){n0(null,l,null,null)}),p[wo]=null}};function s0(l){this._internalRoot=l}s0.prototype.unstable_scheduleHydration=function(l){if(l){var p=Ur();l={blockedOn:null,target:l,priority:p};for(var b=0;b<yi.length&&p!==0&&p<yi[b].priority;b++);yi.splice(b,0,l),b===0&&ug(l)}};function cw(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function AI(){}function kq(l,p,b,C,k){if(k){if(typeof C=="function"){var B=C;C=function(){var Ee=i0(G);B.call(Ee)}}var G=_I(p,C,l,0,null,!1,!1,"",AI);return l._reactRootContainer=G,l[wo]=G.current,Sh(l.nodeType===8?l.parentNode:l),Ic(),G}for(;k=l.lastChild;)l.removeChild(k);if(typeof C=="function"){var ae=C;C=function(){var Ee=i0(fe);ae.call(Ee)}}var fe=aw(l,0,!1,null,null,!1,!1,"",AI);return l._reactRootContainer=fe,l[wo]=fe.current,Sh(l.nodeType===8?l.parentNode:l),Ic(function(){n0(p,fe,b,C)}),fe}function o0(l,p,b,C,k){var B=b._reactRootContainer;if(B){var G=B;if(typeof k=="function"){var ae=k;k=function(){var fe=i0(G);ae.call(fe)}}n0(p,G,l,k)}else G=kq(b,p,l,k,C);return i0(G)}ku=function(l){switch(l.tag){case 3:var p=l.stateNode;if(p.current.memoizedState.isDehydrated){var b=Lr(p.pendingLanes);b!==0&&(vn(p,b|1),os(p,wr()),(pr&6)===0&&(rd=wr()+500,bl()))}break;case 13:Ic(function(){var C=Eo(l,1);if(C!==null){var k=zi();ma(C,l,1,k)}}),ow(l,1)}},Pi=function(l){if(l.tag===13){var p=Eo(l,134217728);if(p!==null){var b=zi();ma(p,l,134217728,b)}ow(l,134217728)}},Et=function(l){if(l.tag===13){var p=Tl(l),b=Eo(l,p);if(b!==null){var C=zi();ma(b,l,p,C)}ow(l,p)}},Ur=function(){return Kt},ch=function(l,p){var b=Kt;try{return Kt=l,p()}finally{Kt=b}},Pu=function(l,p,b){switch(p){case"input":if(ot(l,b),p=b.name,b.type==="radio"&&p!=null){for(b=l;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<b.length;p++){var C=b[p];if(C!==l&&C.form===l.form){var k=Eg(C);if(!k)throw Error(r(90));Ce(C),ot(C,k)}}}break;case"textarea":Ae(l,b);break;case"select":p=b.value,p!=null&&Fe(l,!!b.multiple,p,!1)}},Ru=ew,$n=Ic;var Mq={usingClientEntryPoint:!1,Events:[Ch,qu,Eg,rh,ts,ew]},Uh={findFiberByHostInstance:_c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dq={bundleType:Uh.bundleType,version:Uh.version,rendererPackageName:Uh.rendererPackageName,rendererConfig:Uh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ng(l),l===null?null:l.stateNode},findFiberByHostInstance:Uh.findFiberByHostInstance||jq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l0.isDisabled&&l0.supportsFiber)try{ur=l0.inject(Dq),Gt=l0}catch{}}return ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mq,ls.createPortal=function(l,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cw(p))throw Error(r(200));return Rq(l,p,null,b)},ls.createRoot=function(l,p){if(!cw(l))throw Error(r(299));var b=!1,C="",k=EI;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(k=p.onRecoverableError)),p=aw(l,1,!1,null,null,b,!1,C,k),l[wo]=p.current,Sh(l.nodeType===8?l.parentNode:l),new lw(p)},ls.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var p=l._reactInternals;if(p===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ng(p),l=l===null?null:l.stateNode,l},ls.flushSync=function(l){return Ic(l)},ls.hydrate=function(l,p,b){if(!a0(p))throw Error(r(200));return o0(null,l,p,!0,b)},ls.hydrateRoot=function(l,p,b){if(!cw(l))throw Error(r(405));var C=b!=null&&b.hydratedSources||null,k=!1,B="",G=EI;if(b!=null&&(b.unstable_strictMode===!0&&(k=!0),b.identifierPrefix!==void 0&&(B=b.identifierPrefix),b.onRecoverableError!==void 0&&(G=b.onRecoverableError)),p=_I(p,null,l,1,b??null,k,!1,B,G),l[wo]=p.current,Sh(l),C)for(l=0;l<C.length;l++)b=C[l],k=b._getVersion,k=k(b._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[b,k]:p.mutableSourceEagerHydrationData.push(b,k);return new s0(p)},ls.render=function(l,p,b){if(!a0(p))throw Error(r(200));return o0(null,l,p,!1,b)},ls.unmountComponentAtNode=function(l){if(!a0(l))throw Error(r(40));return l._reactRootContainer?(Ic(function(){o0(null,null,l,!1,function(){l._reactRootContainer=null,l[wo]=null})}),!0):!1},ls.unstable_batchedUpdates=ew,ls.unstable_renderSubtreeIntoContainer=function(l,p,b,C){if(!a0(b))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return o0(l,p,b,!1,C)},ls.version="18.3.1-next-f1338f8080-20240426",ls}var jI;function GD(){if(jI)return fw.exports;jI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fw.exports=qq(),fw.exports}var kI;function zq(){if(kI)return c0;kI=1;var t=GD();return c0.createRoot=t.createRoot,c0.hydrateRoot=t.hydrateRoot,c0}var Wq=zq();function Hq(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,s,o=[],u="",d=t.split("/");for(d[0]||d.shift();i=d.shift();)r=i[0],r==="*"?(o.push(r),u+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~n?n:~s?s:i.length)),u+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(u+=(~n?"?":"")+"\\"+i.substring(s))):u+="/"+i;return{keys:o,pattern:new RegExp("^"+u+(e?"(?=$|/)":"/?$"),"i")}}var M=E1();const oe=Ar(M),KD=HD({__proto__:null,default:oe},[M]);var mw={exports:{}},gw={};var MI;function Gq(){if(MI)return gw;MI=1;var t=E1();function e(x,_){return x===_&&(x!==0||1/x===1/_)||x!==x&&_!==_}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function u(x,_){var T=_(),O=n({inst:{value:T,getSnapshot:_}}),E=O[0].inst,A=O[1];return s(function(){E.value=T,E.getSnapshot=_,d(E)&&A({inst:E})},[x,T,_]),i(function(){return d(E)&&A({inst:E}),x(function(){d(E)&&A({inst:E})})},[x]),o(T),T}function d(x){var _=x.getSnapshot;x=x.value;try{var T=_();return!r(x,T)}catch{return!0}}function f(x,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return gw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,gw}var DI;function Kq(){return DI||(DI=1,mw.exports=Gq()),mw.exports}var Xq=Kq();const Yq=KD.useInsertionEffect,Zq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XD=Zq?M.useLayoutEffect:M.useEffect,Qq=Yq||XD,mC=t=>{const e=M.useRef([t,(...r)=>e[0](...r)]).current;return Qq(()=>{e[0]=t}),e[1]},Jq="popstate",gC="pushState",yC="replaceState",ez="hashchange",LI=[Jq,gC,yC,ez],tz=t=>{for(const e of LI)addEventListener(e,t);return()=>{for(const e of LI)removeEventListener(e,t)}},YD=(t,e)=>Xq.useSyncExternalStore(tz,t,e),rz=()=>location.search,nz=({ssrSearch:t=""}={})=>YD(rz,()=>t),BI=()=>location.pathname,iz=({ssrPath:t}={})=>YD(BI,t?()=>t:BI),sz=(t,{replace:e=!1,state:r=null}={})=>history[e?yC:gC](r,"",t),az=(t={})=>[iz(t),sz],FI=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[FI]>"u"){for(const t of[gC,yC]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,FI,{value:!0})}const oz=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ZD=(t="")=>t==="/"?"":t,lz=(t,e)=>t[0]==="~"?t.slice(1):ZD(e)+t,cz=(t="",e)=>oz(eE(ZD(t)),eE(e)),uz=t=>t[0]==="?"?t.slice(1):t,eE=t=>{try{return decodeURI(t)}catch{return t}},dz=t=>eE(uz(t)),QD={hook:az,searchHook:nz,parser:Hq,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},JD=M.createContext(QD),jf=()=>M.useContext(JD),e6={},t6=M.createContext(e6),fz=()=>M.useContext(t6),A1=t=>{const[e,r]=t.hook(t);return[cz(t.base,e),mC((n,i)=>r(lz(n,t.base),i))]},vu=()=>A1(jf()),hz=()=>{const t=jf();return dz(t.searchHook(t))},r6=(t,e,r,n)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=i.exec(r)||[],[u,...d]=o;return u!==void 0?[!0,(()=>{const f=s!==!1?Object.fromEntries(s.map((x,_)=>[x,d[_]])):o.groups;let g={...d};return f&&Object.assign(g,f),g})(),...n?[u]:[]]:[!1,null]},pz=({children:t,...e})=>{const r=jf(),n=e.hook?QD:r;let i=n;const[s,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let u=M.useRef({}),d=u.current,f=d;for(let g in n){const x=g==="base"?n[g]+(e[g]||""):e[g]||n[g];d===f&&x!==f[g]&&(u.current=f={...f}),f[g]=x,x!==n[g]&&(i=f)}return M.createElement(JD.Provider,{value:i,children:t})},UI=({children:t,component:e},r)=>e?M.createElement(e,{params:r}):typeof t=="function"?t(r):t,mz=t=>{let e=M.useRef(e6),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},cs=({path:t,nest:e,match:r,...n})=>{const i=jf(),[s]=A1(i),[o,u,d]=r??r6(i.parser,t,s,e),f=mz({...fz(),...u});if(!o)return null;const g=d?M.createElement(pz,{base:d},UI(n,f)):UI(n,f);return M.createElement(t6.Provider,{value:f,children:g})},Na=M.forwardRef((t,e)=>{const r=jf(),[n,i]=A1(r),{to:s="",href:o=s,onClick:u,asChild:d,children:f,className:g,replace:x,state:_,...T}=t,O=mC(A=>{A.ctrlKey||A.metaKey||A.altKey||A.shiftKey||A.button!==0||(u?.(A),A.defaultPrevented||(A.preventDefault(),i(o,t)))}),E=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return d&&M.isValidElement(f)?M.cloneElement(f,{onClick:O,href:E}):M.createElement("a",{...T,onClick:O,href:E,className:g?.call?g(n===o):g,children:f,ref:e})}),n6=t=>Array.isArray(t)?t.flatMap(e=>n6(e&&e.type===M.Fragment?e.props.children:e)):[t],gz=({children:t,location:e})=>{const r=jf(),[n]=A1(r);for(const i of n6(t)){let s=0;if(M.isValidElement(i)&&(s=r6(r.parser,i.props.path,e||n,i.props.nest))[0])return M.cloneElement(i,{match:s})}return null},z0=t=>{const{to:e,href:r=e}=t,[,n]=vu(),i=mC(()=>n(e||r,t));return XD(()=>{i()},[]),null};var kf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tu=typeof window>"u"||"Deno"in globalThis;function Js(){}function yz(t,e){return typeof t=="function"?t(e):t}function tE(t){return typeof t=="number"&&t>=0&&t!==1/0}function i6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Rd(t,e){return typeof t=="function"?t(e):t}function Ea(t,e){return typeof t=="function"?t(e):t}function $I(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:u}=t;if(o){if(n){if(e.queryHash!==vC(o,e.options))return!1}else if(!Ap(e.queryKey,o))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||s&&!s(e))}function VI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ru(e.options.mutationKey)!==ru(s))return!1}else if(!Ap(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function vC(t,e){return(e?.queryKeyHashFn||ru)(t)}function ru(t){return JSON.stringify(t,(e,r)=>rE(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ap(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Ap(t[r],e[r])):!1}function s6(t,e){if(t===e)return t;const r=qI(t)&&qI(e);if(r||rE(t)&&rE(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,u=r?[]:{};let d=0;for(let f=0;f<o;f++){const g=r?f:s[f];(!r&&n.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(u[g]=void 0,d++):(u[g]=s6(t[g],e[g]),u[g]===t[g]&&t[g]!==void 0&&d++)}return i===o&&d===i?t:u}return e}function W0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function qI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rE(t){if(!zI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!zI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function zI(t){return Object.prototype.toString.call(t)==="[object Object]"}function vz(t){return new Promise(e=>{setTimeout(e,t)})}function nE(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?s6(t,e):e}function xz(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function wz(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var xC=Symbol();function a6(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===xC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var bz=class extends kf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!tu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},wC=new bz,_z=class extends kf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!tu&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},H0=new _z;function iE(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Sz(t){return Math.min(1e3*2**t,3e4)}function o6(t){return(t??"online")==="online"?H0.isOnline():!0}var l6=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function yw(t){return t instanceof l6}function c6(t){let e=!1,r=0,n=!1,i;const s=iE(),o=E=>{n||(_(new l6(E)),t.abort?.())},u=()=>{e=!0},d=()=>{e=!1},f=()=>wC.isFocused()&&(t.networkMode==="always"||H0.isOnline())&&t.canRun(),g=()=>o6(t.networkMode)&&t.canRun(),x=E=>{n||(n=!0,t.onSuccess?.(E),i?.(),s.resolve(E))},_=E=>{n||(n=!0,t.onError?.(E),i?.(),s.reject(E))},T=()=>new Promise(E=>{i=A=>{(n||f())&&E(A)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),O=()=>{if(n)return;let E;const A=r===0?t.initialPromise:void 0;try{E=A??t.fn()}catch(R){E=Promise.reject(R)}Promise.resolve(E).then(x).catch(R=>{if(n)return;const P=t.retry??(tu?0:3),I=t.retryDelay??Sz,D=typeof I=="function"?I(r,R):I,L=P===!0||typeof P=="number"&&r<P||typeof P=="function"&&P(r,R);if(e||!L){_(R);return}r++,t.onFail?.(r,R),vz(D).then(()=>f()?void 0:T()).then(()=>{e?_(R):O()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?O():T().then(O),s)}}function Ez(){let t=[],e=0,r=u=>{u()},n=u=>{u()},i=u=>setTimeout(u,0);const s=u=>{e?t.push(u):i(()=>{r(u)})},o=()=>{const u=t;t=[],u.length&&i(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||o()}return d},batchCalls:u=>(...d)=>{s(()=>{u(...d)})},schedule:s,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{i=u}}}var Qn=Ez(),u6=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tE(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Az=class extends u6{#e;#t;#n;#r;#a;#s;constructor(t){super(),this.#s=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Cz(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const r=nE(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Js).catch(Js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ea(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!i6(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},i=()=>{const u=a6(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return n(d),this.#s=!1,this.options.persister?this.options.persister(u,d,this):u(d)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta});const o=u=>{yw(u)&&u.silent||this.#i({type:"error",error:u}),yw(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#r=c6({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){o(d);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:o,onFail:(u,d)=>{this.#i({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...d6(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return yw(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Qn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function d6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Cz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Tz=class extends kf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??vC(n,e);let s=this.get(i);return s||(s=new Az({cache:this,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>$I(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>$I(t,r)):e}notify(t){Qn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oz=class extends u6{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||f6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=c6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#r({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}const n=await this.#n.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}}#r(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Qn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function f6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nz=class extends kf{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new Oz({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=u0(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=u0(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(u0(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(u0(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>VI(e,r))}findAll(t={}){return this.getAll().filter(e=>VI(t,e))}notify(t){Qn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Qn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Js))))}};function u0(t){return t.options.scope?.id??String(t.mutationId)}function WI(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let g=!1;const x=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=a6(e.options,e.fetchOptions),T=async(O,E,A)=>{if(g)return Promise.reject();if(E==null&&O.pages.length)return Promise.resolve(O);const R={queryKey:e.queryKey,pageParam:E,direction:A?"backward":"forward",meta:e.options.meta};x(R);const P=await _(R),{maxPages:I}=e.options,D=A?wz:xz;return{pages:D(O.pages,P,I),pageParams:D(O.pageParams,E,I)}};if(i&&s.length){const O=i==="backward",E=O?Iz:HI,A={pages:s,pageParams:o},R=E(n,A);u=await T(A,R,O)}else{const O=t??s.length;do{const E=d===0?o[0]??n.initialPageParam:HI(n,u);if(d>0&&E==null)break;u=await T(u,E),d++}while(d<O)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=f}}}function HI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Iz(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var Pz=class{#e;#t;#n;#r;#a;#s;#i;#o;constructor(t={}){this.#e=t.queryCache||new Tz,this.#t=t.mutationCache||new Nz,this.#n=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=wC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=H0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=this.#e.build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Rd(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(n.queryHash)?.state.data,o=yz(e,s);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Qn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Qn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return Qn.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Qn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Js).catch(Js)}invalidateQueries(t={},e={}){return Qn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:e?.cancelRefetch??!0},n=Qn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Js)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Js)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Rd(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Js).catch(Js)}fetchInfiniteQuery(t){return t.behavior=WI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Js).catch(Js)}ensureInfiniteQueryData(t){return t.behavior=WI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return H0.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(ru(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let r={};return e.forEach(n=>{Ap(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){this.#a.set(ru(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()];let r={};return e.forEach(n=>{Ap(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===xC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Rz=class extends kf{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#i=iE(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#a;#s;#i;#o;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),GI(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sE(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sE(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ea(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),r._defaulted&&!W0(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&KI(this.#t,n,this.options,r)&&this.#d(),this.updateResult(e),i&&(this.#t!==n||Ea(this.options.enabled,this.#t)!==Ea(r.enabled,this.#t)||Rd(this.options.staleTime,this.#t)!==Rd(r.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==n||Ea(this.options.enabled,this.#t)!==Ea(r.enabled,this.#t)||s!==this.#l)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return kz(this,r)&&(this.#r=r,this.#s=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Js)),e}#g(){this.#w();const t=Rd(this.options.staleTime,this.#t);if(tu||this.#r.isStale||!tE(t))return;const r=i6(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#l=t,!(tu||Ea(this.options.enabled,this.#t)===!1||!tE(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||wC.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#t,n=this.options,i=this.#r,s=this.#a,o=this.#s,d=t!==r?t.state:this.#n,{state:f}=t;let g={...f},x=!1,_;if(e._optimisticResults){const U=this.hasListeners(),H=!U&&GI(t,e),W=U&&KI(t,r,e,n);(H||W)&&(g={...g,...d6(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:T,errorUpdatedAt:O,status:E}=g;if(e.select&&g.data!==void 0)if(i&&g.data===s?.data&&e.select===this.#m)_=this.#f;else try{this.#m=e.select,_=e.select(g.data),_=nE(i?.data,_,e),this.#f=_,this.#o=null}catch(U){this.#o=U}else _=g.data;if(e.placeholderData!==void 0&&_===void 0&&E==="pending"){let U;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)U=i.data;else if(U=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&U!==void 0)try{U=e.select(U),this.#o=null}catch(H){this.#o=H}U!==void 0&&(E="success",_=nE(i?.data,U,e),x=!0)}this.#o&&(T=this.#o,_=this.#f,O=Date.now(),E="error");const A=g.fetchStatus==="fetching",R=E==="pending",P=E==="error",I=R&&A,D=_!==void 0,F={status:E,fetchStatus:g.fetchStatus,isPending:R,isSuccess:E==="success",isError:P,isInitialLoading:I,isLoading:I,data:_,dataUpdatedAt:g.dataUpdatedAt,error:T,errorUpdatedAt:O,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!R,isLoadingError:P&&!D,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:P&&D,isStale:bC(t,e),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const U=ce=>{F.status==="error"?ce.reject(F.error):F.data!==void 0&&ce.resolve(F.data)},H=()=>{const ce=this.#i=F.promise=iE();U(ce)},W=this.#i;switch(W.status){case"pending":t.queryHash===r.queryHash&&U(W);break;case"fulfilled":(F.status==="error"||F.data!==W.value)&&H();break;case"rejected":(F.status!=="error"||F.error!==W.reason)&&H();break}}return F}updateResult(t){const e=this.#r,r=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#s=this.options,this.#a.data!==void 0&&(this.#h=this.#t),W0(r,e))return;this.#r=r;const n={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#p.size)return!0;const u=new Set(o??this.#p);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(d=>{const f=d;return this.#r[f]!==e[f]&&u.has(f)})};t?.listeners!==!1&&i()&&(n.listeners=!0),this.#S({...n,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){Qn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function jz(t,e){return Ea(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function GI(t,e){return jz(t,e)||t.state.data!==void 0&&sE(t,e,e.refetchOnMount)}function sE(t,e,r){if(Ea(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&bC(t,e)}return!1}function KI(t,e,r,n){return(t!==e||Ea(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&bC(t,r)}function bC(t,e){return Ea(e.enabled,t)!==!1&&t.isStaleByTime(Rd(e.staleTime,t))}function kz(t,e){return!W0(t.getCurrentResult(),e)}var Mz=class extends kf{#e;#t=void 0;#n;#r;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),W0(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&ru(r.mutationKey)!==ru(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#s()}mutate(e,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){const e=this.#n?.state??f6();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Qn.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,r,n),this.#r.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#r.onError?.(e.error,r,n),this.#r.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},h6=M.createContext(void 0),Qi=t=>{const e=M.useContext(h6);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Dz=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(h6.Provider,{value:t,children:e})),p6=M.createContext(!1),Lz=()=>M.useContext(p6);p6.Provider;function Bz(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Fz=M.createContext(Bz()),Uz=()=>M.useContext(Fz);function m6(t,e){return typeof t=="function"?t(...e):!!t}function aE(){}var $z=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Vz=t=>{M.useEffect(()=>{t.clearReset()},[t])},qz=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&m6(r,[t.error,n]),zz=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Wz=(t,e)=>t.isLoading&&t.isFetching&&!e,Hz=(t,e)=>t?.suspense&&e.isPending,XI=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Gz(t,e,r){const n=Qi(),i=Lz(),s=Uz(),o=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",zz(o),$z(o,s),Vz(s);const u=!n.getQueryCache().get(o.queryHash),[d]=M.useState(()=>new e(n,o)),f=d.getOptimisticResult(o);if(M.useSyncExternalStore(M.useCallback(g=>{const x=i?aE:d.subscribe(Qn.batchCalls(g));return d.updateResult(),x},[d,i]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),M.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),Hz(o,f))throw XI(o,d,s);if(qz({result:f,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw f.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!tu&&Wz(f,i)&&(u?XI(o,d,s):n.getQueryCache().get(o.queryHash)?.promise)?.catch(aE).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?f:d.trackResult(f)}function La(t,e){return Gz(t,Rz)}function Ds(t,e){const r=Qi(),[n]=M.useState(()=>new Mz(r,t));M.useEffect(()=>{n.setOptions(t)},[n,t]);const i=M.useSyncExternalStore(M.useCallback(o=>n.subscribe(Qn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=M.useCallback((o,u)=>{n.mutate(o,u).catch(aE)},[n]);if(i.error&&m6(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function Kz(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Xz=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return await Kz(r),await r.json()},Yz=new Pz({defaultOptions:{queries:{queryFn:Xz({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Zz=1,Qz=1e6;let vw=0;function Jz(){return vw=(vw+1)%Number.MAX_SAFE_INTEGER,vw.toString()}const xw=new Map,YI=t=>{if(xw.has(t))return;const e=setTimeout(()=>{xw.delete(t),pp({type:"REMOVE_TOAST",toastId:t})},Qz);xw.set(t,e)},eW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Zz)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?YI(r):t.toasts.forEach(n=>{YI(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},D0=[];let L0={toasts:[]};function pp(t){L0=eW(L0,t),D0.forEach(e=>{e(L0)})}function tW({...t}){const e=Jz(),r=i=>pp({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>pp({type:"DISMISS_TOAST",toastId:e});return pp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function hi(){const[t,e]=M.useState(L0);return M.useEffect(()=>(D0.push(e),()=>{const r=D0.indexOf(e);r>-1&&D0.splice(r,1)}),[t]),{...t,toast:tW,dismiss:r=>pp({type:"DISMISS_TOAST",toastId:r})}}var Mf=GD();const rW=Ar(Mf);function st(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function ZI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function C1(...t){return e=>{let r=!1;const n=t.map(i=>{const s=ZI(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():ZI(t[i],null)}}}}function mr(...t){return M.useCallback(C1(...t),t)}function nW(t,e){const r=M.createContext(e),n=s=>{const{children:o,...u}=s,d=M.useMemo(()=>u,Object.values(u));return m.jsx(r.Provider,{value:d,children:o})};n.displayName=t+"Provider";function i(s){const o=M.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Ls(t,e=[]){let r=[];function n(s,o){const u=M.createContext(o),d=r.length;r=[...r,o];const f=x=>{const{scope:_,children:T,...O}=x,E=_?.[t]?.[d]||u,A=M.useMemo(()=>O,Object.values(O));return m.jsx(E.Provider,{value:A,children:T})};f.displayName=s+"Provider";function g(x,_){const T=_?.[t]?.[d]||u,O=M.useContext(T);if(O)return O;if(o!==void 0)return o;throw new Error(`\`${x}\` must be used within \`${s}\``)}return[f,g]}const i=()=>{const s=r.map(o=>M.createContext(o));return function(u){const d=u?.[t]||s;return M.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return i.scopeName=t,[n,iW(i,...e)]}function iW(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((u,{useScope:d,scopeName:f})=>{const x=d(s)[`__scope${f}`];return{...u,...x}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function nu(t){const e=sW(t),r=M.forwardRef((n,i)=>{const{children:s,...o}=n,u=M.Children.toArray(s),d=u.find(aW);if(d){const f=d.props.children,g=u.map(x=>x===d?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:x);return m.jsx(e,{...o,ref:i,children:M.isValidElement(f)?M.cloneElement(f,void 0,g):null})}return m.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var g6=nu("Slot");function sW(t){const e=M.forwardRef((r,n)=>{const{children:i,...s}=r;if(M.isValidElement(i)){const o=lW(i),u=oW(s,i.props);return i.type!==M.Fragment&&(u.ref=n?C1(n,o):o),M.cloneElement(i,u)}return M.Children.count(i)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var y6=Symbol("radix.slottable");function v6(t){const e=({children:r})=>m.jsx(m.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=y6,e}function aW(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===y6}function oW(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...u)=>{s(...u),i(...u)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function lW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function T1(t){const e=t+"CollectionProvider",[r,n]=Ls(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:A,children:R}=E,P=oe.useRef(null),I=oe.useRef(new Map).current;return m.jsx(i,{scope:A,itemMap:I,collectionRef:P,children:R})};o.displayName=e;const u=t+"CollectionSlot",d=nu(u),f=oe.forwardRef((E,A)=>{const{scope:R,children:P}=E,I=s(u,R),D=mr(A,I.collectionRef);return m.jsx(d,{ref:D,children:P})});f.displayName=u;const g=t+"CollectionItemSlot",x="data-radix-collection-item",_=nu(g),T=oe.forwardRef((E,A)=>{const{scope:R,children:P,...I}=E,D=oe.useRef(null),L=mr(A,D),F=s(g,R);return oe.useEffect(()=>(F.itemMap.set(D,{ref:D,...I}),()=>{F.itemMap.delete(D)})),m.jsx(_,{[x]:"",ref:L,children:P})});T.displayName=g;function O(E){const A=s(t+"CollectionConsumer",E);return oe.useCallback(()=>{const P=A.collectionRef.current;if(!P)return[];const I=Array.from(P.querySelectorAll(`[${x}]`));return Array.from(A.itemMap.values()).sort((F,U)=>I.indexOf(F.ref.current)-I.indexOf(U.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:f,ItemSlot:T},O,n]}var cW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pt=cW.reduce((t,e)=>{const r=nu(`Primitive.${e}`),n=M.forwardRef((i,s)=>{const{asChild:o,...u}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(d,{...u,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function _C(t,e){t&&Mf.flushSync(()=>t.dispatchEvent(e))}function Oi(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...r)=>e.current?.(...r),[])}function uW(t,e=globalThis?.document){const r=Oi(t);M.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var dW="DismissableLayer",oE="dismissableLayer.update",fW="dismissableLayer.pointerDownOutside",hW="dismissableLayer.focusOutside",QI,x6=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Df=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:u,...d}=t,f=M.useContext(x6),[g,x]=M.useState(null),_=g?.ownerDocument??globalThis?.document,[,T]=M.useState({}),O=mr(e,U=>x(U)),E=Array.from(f.layers),[A]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),R=E.indexOf(A),P=g?E.indexOf(g):-1,I=f.layersWithOutsidePointerEventsDisabled.size>0,D=P>=R,L=mW(U=>{const H=U.target,W=[...f.branches].some(ce=>ce.contains(H));!D||W||(i?.(U),o?.(U),U.defaultPrevented||u?.())},_),F=gW(U=>{const H=U.target;[...f.branches].some(ce=>ce.contains(H))||(s?.(U),o?.(U),U.defaultPrevented||u?.())},_);return uW(U=>{P===f.layers.size-1&&(n?.(U),!U.defaultPrevented&&u&&(U.preventDefault(),u()))},_),M.useEffect(()=>{if(g)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(QI=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),JI(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=QI)}},[g,_,r,f]),M.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),JI())},[g,f]),M.useEffect(()=>{const U=()=>T({});return document.addEventListener(oE,U),()=>document.removeEventListener(oE,U)},[]),m.jsx(Pt.div,{...d,ref:O,style:{pointerEvents:I?D?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,F.onFocusCapture),onBlurCapture:st(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,L.onPointerDownCapture)})});Df.displayName=dW;var pW="DismissableLayerBranch",w6=M.forwardRef((t,e)=>{const r=M.useContext(x6),n=M.useRef(null),i=mr(e,n);return M.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),m.jsx(Pt.div,{...t,ref:i})});w6.displayName=pW;function mW(t,e=globalThis?.document){const r=Oi(t),n=M.useRef(!1),i=M.useRef(()=>{});return M.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let d=function(){b6(fW,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function gW(t,e=globalThis?.document){const r=Oi(t),n=M.useRef(!1);return M.useEffect(()=>{const i=s=>{s.target&&!n.current&&b6(hW,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JI(){const t=new CustomEvent(oE);document.dispatchEvent(t)}function b6(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?_C(i,s):i.dispatchEvent(s)}var yW=Df,vW=w6,ri=globalThis?.document?M.useLayoutEffect:()=>{},xW="Portal",Dm=M.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=M.useState(!1);ri(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?rW.createPortal(m.jsx(Pt.div,{...n,ref:e}),o):null});Dm.displayName=xW;function wW(t,e){return M.useReducer((r,n)=>e[r][n]??r,t)}var Ba=t=>{const{present:e,children:r}=t,n=bW(e),i=typeof r=="function"?r({present:n.isPresent}):M.Children.only(r),s=mr(n.ref,_W(i));return typeof r=="function"||n.isPresent?M.cloneElement(i,{ref:s}):null};Ba.displayName="Presence";function bW(t){const[e,r]=M.useState(),n=M.useRef({}),i=M.useRef(t),s=M.useRef("none"),o=t?"mounted":"unmounted",[u,d]=wW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const f=d0(n.current);s.current=u==="mounted"?f:"none"},[u]),ri(()=>{const f=n.current,g=i.current;if(g!==t){const _=s.current,T=d0(f);t?d("MOUNT"):T==="none"||f?.display==="none"?d("UNMOUNT"):d(g&&_!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),ri(()=>{if(e){let f;const g=e.ownerDocument.defaultView??window,x=T=>{const E=d0(n.current).includes(T.animationName);if(T.target===e&&E&&(d("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},_=T=>{T.target===e&&(s.current=d0(n.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:M.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function d0(t){return t?.animationName||"none"}function _W(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function iu({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=SW({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,u=Oi(r),d=M.useCallback(f=>{if(s){const x=typeof f=="function"?f(t):f;x!==t&&u(x)}else i(f)},[s,t,i,u]);return[o,d]}function SW({defaultProp:t,onChange:e}){const r=M.useState(t),[n]=r,i=M.useRef(n),s=Oi(e);return M.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var EW="VisuallyHidden",Lm=M.forwardRef((t,e)=>m.jsx(Pt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Lm.displayName=EW;var AW=Lm,SC="ToastProvider",[EC,CW,TW]=T1("Toast"),[_6]=Ls("Toast",[TW]),[OW,O1]=_6(SC),S6=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[u,d]=M.useState(null),[f,g]=M.useState(0),x=M.useRef(!1),_=M.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${SC}\`. Expected non-empty \`string\`.`),m.jsx(EC.Provider,{scope:e,children:m.jsx(OW,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:M.useCallback(()=>g(T=>T+1),[]),onToastRemove:M.useCallback(()=>g(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:_,children:o})})};S6.displayName=SC;var E6="ToastViewport",NW=["F8"],lE="toast.viewportPause",cE="toast.viewportResume",A6=M.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=NW,label:i="Notifications ({hotkey})",...s}=t,o=O1(E6,r),u=CW(r),d=M.useRef(null),f=M.useRef(null),g=M.useRef(null),x=M.useRef(null),_=mr(e,x,o.onViewportChange),T=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=o.toastCount>0;M.useEffect(()=>{const A=R=>{n.length!==0&&n.every(I=>R[I]||R.code===I)&&x.current?.focus()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[n]),M.useEffect(()=>{const A=d.current,R=x.current;if(O&&A&&R){const P=()=>{if(!o.isClosePausedRef.current){const F=new CustomEvent(lE);R.dispatchEvent(F),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const F=new CustomEvent(cE);R.dispatchEvent(F),o.isClosePausedRef.current=!1}},D=F=>{!A.contains(F.relatedTarget)&&I()},L=()=>{A.contains(document.activeElement)||I()};return A.addEventListener("focusin",P),A.addEventListener("focusout",D),A.addEventListener("pointermove",P),A.addEventListener("pointerleave",L),window.addEventListener("blur",P),window.addEventListener("focus",I),()=>{A.removeEventListener("focusin",P),A.removeEventListener("focusout",D),A.removeEventListener("pointermove",P),A.removeEventListener("pointerleave",L),window.removeEventListener("blur",P),window.removeEventListener("focus",I)}}},[O,o.isClosePausedRef]);const E=M.useCallback(({tabbingDirection:A})=>{const P=u().map(I=>{const D=I.ref.current,L=[D,...VW(D)];return A==="forwards"?L:L.reverse()});return(A==="forwards"?P.reverse():P).flat()},[u]);return M.useEffect(()=>{const A=x.current;if(A){const R=P=>{const I=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!I){const L=document.activeElement,F=P.shiftKey;if(P.target===A&&F){f.current?.focus();return}const W=E({tabbingDirection:F?"backwards":"forwards"}),ce=W.findIndex(K=>K===L);ww(W.slice(ce+1))?P.preventDefault():F?f.current?.focus():g.current?.focus()}};return A.addEventListener("keydown",R),()=>A.removeEventListener("keydown",R)}},[u,E]),m.jsxs(vW,{ref:d,role:"region","aria-label":i.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:O?void 0:"none"},children:[O&&m.jsx(uE,{ref:f,onFocusFromOutsideViewport:()=>{const A=E({tabbingDirection:"forwards"});ww(A)}}),m.jsx(EC.Slot,{scope:r,children:m.jsx(Pt.ol,{tabIndex:-1,...s,ref:_})}),O&&m.jsx(uE,{ref:g,onFocusFromOutsideViewport:()=>{const A=E({tabbingDirection:"backwards"});ww(A)}})]})});A6.displayName=E6;var C6="ToastFocusProxy",uE=M.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=O1(C6,r);return m.jsx(Lm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const u=o.relatedTarget;!s.viewport?.contains(u)&&n()}})});uE.displayName=C6;var N1="Toast",IW="toast.swipeStart",PW="toast.swipeMove",RW="toast.swipeCancel",jW="toast.swipeEnd",T6=M.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[u=!0,d]=iu({prop:n,defaultProp:i,onChange:s});return m.jsx(Ba,{present:r||u,children:m.jsx(DW,{open:u,...o,ref:e,onClose:()=>d(!1),onPause:Oi(t.onPause),onResume:Oi(t.onResume),onSwipeStart:st(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,f=>{const{x:g,y:x}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:st(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,f=>{const{x:g,y:x}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),d(!1)})})})});T6.displayName=N1;var[kW,MW]=_6(N1,{onClose(){}}),DW=M.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:g,onSwipeMove:x,onSwipeCancel:_,onSwipeEnd:T,...O}=t,E=O1(N1,r),[A,R]=M.useState(null),P=mr(e,Q=>R(Q)),I=M.useRef(null),D=M.useRef(null),L=i||E.duration,F=M.useRef(0),U=M.useRef(L),H=M.useRef(0),{onToastAdd:W,onToastRemove:ce}=E,K=Oi(()=>{A?.contains(document.activeElement)&&E.viewport?.focus(),o()}),z=M.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(H.current),F.current=new Date().getTime(),H.current=window.setTimeout(K,Q))},[K]);M.useEffect(()=>{const Q=E.viewport;if(Q){const Y=()=>{z(U.current),f?.()},J=()=>{const re=new Date().getTime()-F.current;U.current=U.current-re,window.clearTimeout(H.current),d?.()};return Q.addEventListener(lE,J),Q.addEventListener(cE,Y),()=>{Q.removeEventListener(lE,J),Q.removeEventListener(cE,Y)}}},[E.viewport,L,d,f,z]),M.useEffect(()=>{s&&!E.isClosePausedRef.current&&z(L)},[s,L,E.isClosePausedRef,z]),M.useEffect(()=>(W(),()=>ce()),[W,ce]);const Z=M.useMemo(()=>A?k6(A):null,[A]);return E.viewport?m.jsxs(m.Fragment,{children:[Z&&m.jsx(LW,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),m.jsx(kW,{scope:r,onClose:K,children:Mf.createPortal(m.jsx(EC.ItemSlot,{scope:r,children:m.jsx(yW,{asChild:!0,onEscapeKeyDown:st(u,()=>{E.isFocusedToastEscapeKeyDownRef.current||K(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":E.swipeDirection,...O,ref:P,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,Q=>{Q.key==="Escape"&&(u?.(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:st(t.onPointerDown,Q=>{Q.button===0&&(I.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:st(t.onPointerMove,Q=>{if(!I.current)return;const Y=Q.clientX-I.current.x,J=Q.clientY-I.current.y,re=!!D.current,ie=["left","right"].includes(E.swipeDirection),se=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,me=ie?se(0,Y):0,ne=ie?0:se(0,J),ue=Q.pointerType==="touch"?10:2,be={x:me,y:ne},Pe={originalEvent:Q,delta:be};re?(D.current=be,f0(PW,x,Pe,{discrete:!1})):eP(be,E.swipeDirection,ue)?(D.current=be,f0(IW,g,Pe,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(Y)>ue||Math.abs(J)>ue)&&(I.current=null)}),onPointerUp:st(t.onPointerUp,Q=>{const Y=D.current,J=Q.target;if(J.hasPointerCapture(Q.pointerId)&&J.releasePointerCapture(Q.pointerId),D.current=null,I.current=null,Y){const re=Q.currentTarget,ie={originalEvent:Q,delta:Y};eP(Y,E.swipeDirection,E.swipeThreshold)?f0(jW,T,ie,{discrete:!0}):f0(RW,_,ie,{discrete:!0}),re.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),LW=t=>{const{__scopeToast:e,children:r,...n}=t,i=O1(N1,e),[s,o]=M.useState(!1),[u,d]=M.useState(!1);return UW(()=>o(!0)),M.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:m.jsx(Dm,{asChild:!0,children:m.jsx(Lm,{...n,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",r]})})})},BW="ToastTitle",O6=M.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(Pt.div,{...n,ref:e})});O6.displayName=BW;var FW="ToastDescription",N6=M.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(Pt.div,{...n,ref:e})});N6.displayName=FW;var I6="ToastAction",P6=M.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?m.jsx(j6,{altText:r,asChild:!0,children:m.jsx(AC,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${I6}\`. Expected non-empty \`string\`.`),null)});P6.displayName=I6;var R6="ToastClose",AC=M.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=MW(R6,r);return m.jsx(j6,{asChild:!0,children:m.jsx(Pt.button,{type:"button",...n,ref:e,onClick:st(t.onClick,i.onClose)})})});AC.displayName=R6;var j6=M.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return m.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function k6(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),$W(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...k6(n))}}),e}function f0(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?_C(i,s):i.dispatchEvent(s)}var eP=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function UW(t=()=>{}){const e=Oi(t);ri(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function $W(t){return t.nodeType===t.ELEMENT_NODE}function VW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function ww(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var qW=S6,M6=A6,D6=T6,L6=O6,B6=N6,F6=P6,U6=AC;function $6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=$6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=$6(t))&&(n&&(n+=" "),n+=e);return n}const tP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rP=Qt,Bm=(t,e)=>r=>{var n;if(e?.variants==null)return rP(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(f=>{const g=r?.[f],x=s?.[f];if(g===null)return null;const _=tP(g)||tP(x);return i[f][_]}),u=r&&Object.entries(r).reduce((f,g)=>{let[x,_]=g;return _===void 0||(f[x]=_),f},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,g)=>{let{class:x,className:_,...T}=g;return Object.entries(T).every(O=>{let[E,A]=O;return Array.isArray(A)?A.includes({...s,...u}[E]):{...s,...u}[E]===A})?[...f,x,_]:f},[]);return rP(t,o,d,r?.class,r?.className)};const zW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V6=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var WW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HW=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...u},d)=>M.createElement("svg",{ref:d,...WW,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:V6("lucide",i),...u},[...o.map(([f,g])=>M.createElement(f,g)),...Array.isArray(s)?s:[s]]));const At=(t,e)=>{const r=M.forwardRef(({className:n,...i},s)=>M.createElement(HW,{ref:s,iconNode:e,className:V6(`lucide-${zW(t)}`,n),...i}));return r.displayName=`${t}`,r};const G0=At("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ra=At("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const GW=At("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Fo=At("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);const Hd=At("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const nP=At("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const iP=At("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const CC=At("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const TC=At("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const KW=At("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const XW=At("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const no=At("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ts=At("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Cp=At("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const YW=At("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Wl=At("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const ZW=At("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const sP=At("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const aP=At("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const B0=At("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const QW=At("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Tp=At("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const JW=At("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const eH=At("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);const bw=At("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Yi=At("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const OC=At("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const tH=At("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const rH=At("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const dE=At("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const nH=At("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const iH=At("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const oP=At("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const sH=At("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const aH=At("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const _w=At("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const q6=At("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const oH=At("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const NC=At("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const lP=At("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const lH=At("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const cH=At("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const uH=At("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);const Gd=At("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const z6=At("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const W6=At("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const dH=At("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const fH=At("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const IC=At("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const PC=At("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const cP=At("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const hH=At("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const K0=At("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const H6=At("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Qo=At("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Op=At("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),RC="-",pH=t=>{const e=gH(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const u=o.split(RC);return u[0]===""&&u.length!==1&&u.shift(),G6(u,e)||mH(o)},getConflictingClassGroupIds:(o,u)=>{const d=r[o]||[];return u&&n[o]?[...d,...n[o]]:d}}},G6=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?G6(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(RC);return e.validators.find(({validator:o})=>o(s))?.classGroupId},uP=/^\[(.+)\]$/,mH=t=>{if(uP.test(t)){const e=uP.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},gH=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return vH(Object.entries(t.classGroups),r).forEach(([s,o])=>{fE(o,n,s,e)}),n},fE=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:dP(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(yH(i)){fE(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{fE(o,dP(e,s),r,n)})})},dP=(t,e)=>{let r=t;return e.split(RC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},yH=t=>t.isThemeGetter,vH=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,u])=>[e+o,u])):s);return[r,i]}):t,xH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},K6="!",wH=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=u=>{const d=[];let f=0,g=0,x;for(let A=0;A<u.length;A++){let R=u[A];if(f===0){if(R===i&&(n||u.slice(A,A+s)===e)){d.push(u.slice(g,A)),g=A+s;continue}if(R==="/"){x=A;continue}}R==="["?f++:R==="]"&&f--}const _=d.length===0?u:u.substring(g),T=_.startsWith(K6),O=T?_.substring(1):_,E=x&&x>g?x-g:void 0;return{modifiers:d,hasImportantModifier:T,baseClassName:O,maybePostfixModifierPosition:E}};return r?u=>r({className:u,parseClassName:o}):o},bH=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},_H=t=>({cache:xH(t.cacheSize),parseClassName:wH(t),...pH(t)}),SH=/\s+/,EH=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(SH);let u="";for(let d=o.length-1;d>=0;d-=1){const f=o[d],{modifiers:g,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:T}=r(f);let O=!!T,E=n(O?_.substring(0,T):_);if(!E){if(!O){u=f+(u.length>0?" "+u:u);continue}if(E=n(_),!E){u=f+(u.length>0?" "+u:u);continue}O=!1}const A=bH(g).join(":"),R=x?A+K6:A,P=R+E;if(s.includes(P))continue;s.push(P);const I=i(E,O);for(let D=0;D<I.length;++D){const L=I[D];s.push(R+L)}u=f+(u.length>0?" "+u:u)}return u};function AH(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=X6(e))&&(n&&(n+=" "),n+=r);return n}const X6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=X6(t[n]))&&(r&&(r+=" "),r+=e);return r};function CH(t,...e){let r,n,i,s=o;function o(d){const f=e.reduce((g,x)=>x(g),t());return r=_H(f),n=r.cache.get,i=r.cache.set,s=u,u(d)}function u(d){const f=n(d);if(f)return f;const g=EH(d,r);return i(d,g),g}return function(){return s(AH.apply(null,arguments))}}const Xr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Y6=/^\[(?:([a-z-]+):)?(.+)\]$/i,TH=/^\d+\/\d+$/,OH=new Set(["px","full","screen"]),NH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oo=t=>jd(t)||OH.has(t)||TH.test(t),Pl=t=>Lf(t,"length",$H),jd=t=>!!t&&!Number.isNaN(Number(t)),Sw=t=>Lf(t,"number",jd),Vh=t=>!!t&&Number.isInteger(Number(t)),kH=t=>t.endsWith("%")&&jd(t.slice(0,-1)),Zt=t=>Y6.test(t),Rl=t=>NH.test(t),MH=new Set(["length","size","percentage"]),DH=t=>Lf(t,MH,Z6),LH=t=>Lf(t,"position",Z6),BH=new Set(["image","url"]),FH=t=>Lf(t,BH,qH),UH=t=>Lf(t,"",VH),qh=()=>!0,Lf=(t,e,r)=>{const n=Y6.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},$H=t=>IH.test(t)&&!PH.test(t),Z6=()=>!1,VH=t=>RH.test(t),qH=t=>jH.test(t),zH=()=>{const t=Xr("colors"),e=Xr("spacing"),r=Xr("blur"),n=Xr("brightness"),i=Xr("borderColor"),s=Xr("borderRadius"),o=Xr("borderSpacing"),u=Xr("borderWidth"),d=Xr("contrast"),f=Xr("grayscale"),g=Xr("hueRotate"),x=Xr("invert"),_=Xr("gap"),T=Xr("gradientColorStops"),O=Xr("gradientColorStopPositions"),E=Xr("inset"),A=Xr("margin"),R=Xr("opacity"),P=Xr("padding"),I=Xr("saturate"),D=Xr("scale"),L=Xr("sepia"),F=Xr("skew"),U=Xr("space"),H=Xr("translate"),W=()=>["auto","contain","none"],ce=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",Zt,e],z=()=>[Zt,e],Z=()=>["",Oo,Pl],Q=()=>["auto",jd,Zt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",Zt],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[jd,Zt];return{cacheSize:500,separator:":",theme:{colors:[qh],spacing:[Oo,Pl],blur:["none","",Rl,Zt],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Rl,Zt],borderSpacing:z(),borderWidth:Z(),contrast:ne(),grayscale:se(),hueRotate:ne(),invert:se(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[kH,Pl],inset:K(),margin:K(),opacity:ne(),padding:z(),saturate:ne(),scale:ne(),sepia:se(),skew:ne(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Zt]}],container:["container"],columns:[{columns:[Rl]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Zt]}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vh,Zt]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Zt]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",Vh,Zt]}],"grid-cols":[{"grid-cols":[qh]}],"col-start-end":[{col:["auto",{span:["full",Vh,Zt]},Zt]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[qh]}],"row-start-end":[{row:["auto",{span:[Vh,Zt]},Zt]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Zt]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Zt,e]}],"min-w":[{"min-w":[Zt,e,"min","max","fit"]}],"max-w":[{"max-w":[Zt,e,"none","full","min","max","fit","prose",{screen:[Rl]},Rl]}],h:[{h:[Zt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Zt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Zt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Zt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rl,Pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sw]}],"font-family":[{font:[qh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Zt]}],"line-clamp":[{"line-clamp":["none",jd,Sw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oo,Zt]}],"list-image":[{"list-image":["none",Zt]}],"list-style-type":[{list:["none","disc","decimal",Zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oo,Pl]}],"underline-offset":[{"underline-offset":["auto",Oo,Zt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),LH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Oo,Zt]}],"outline-w":[{outline:[Oo,Pl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Oo,Pl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rl,UH]}],"shadow-color":[{shadow:[qh]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Rl,Zt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[I]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Zt]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Zt]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Vh,Zt]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Zt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Zt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Zt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Oo,Pl,Sw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WH=CH(zH);function Je(...t){return WH(Qt(t))}function X0(){const t=new Date;return new Intl.DateTimeFormat("sv-SE",{timeZone:"Asia/Manila",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(t).replace(" ","T")}const HH=qW,Q6=M.forwardRef(({className:t,...e},r)=>m.jsx(M6,{ref:r,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Q6.displayName=M6.displayName;const GH=Bm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),J6=M.forwardRef(({className:t,variant:e,...r},n)=>m.jsx(D6,{ref:n,className:Je(GH({variant:e}),t),...r}));J6.displayName=D6.displayName;const KH=M.forwardRef(({className:t,...e},r)=>m.jsx(F6,{ref:r,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));KH.displayName=F6.displayName;const e5=M.forwardRef(({className:t,...e},r)=>m.jsx(U6,{ref:r,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(Op,{className:"h-4 w-4"})}));e5.displayName=U6.displayName;const t5=M.forwardRef(({className:t,...e},r)=>m.jsx(L6,{ref:r,className:Je("text-sm font-semibold",t),...e}));t5.displayName=L6.displayName;const r5=M.forwardRef(({className:t,...e},r)=>m.jsx(B6,{ref:r,className:Je("text-sm opacity-90",t),...e}));r5.displayName=B6.displayName;function XH(){const{toasts:t}=hi();return m.jsxs(HH,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return m.jsxs(J6,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[r&&m.jsx(t5,{children:r}),n&&m.jsx(r5,{children:n})]}),i,m.jsx(e5,{})]},e)}),m.jsx(Q6,{})]})}var YH=KD[" useId ".trim().toString()]||(()=>{}),ZH=0;function Qa(t){const[e,r]=M.useState(YH());return ri(()=>{r(n=>n??String(ZH++))},[t]),e?`radix-${e}`:""}const QH=["top","right","bottom","left"],Hl=Math.min,Os=Math.max,Y0=Math.round,h0=Math.floor,Ja=t=>({x:t,y:t}),JH={left:"right",right:"left",bottom:"top",top:"bottom"},eG={start:"end",end:"start"};function hE(t,e,r){return Os(t,Hl(e,r))}function zo(t,e){return typeof t=="function"?t(e):t}function Wo(t){return t.split("-")[0]}function Bf(t){return t.split("-")[1]}function jC(t){return t==="x"?"y":"x"}function kC(t){return t==="y"?"height":"width"}function Gl(t){return["top","bottom"].includes(Wo(t))?"y":"x"}function MC(t){return jC(Gl(t))}function tG(t,e,r){r===void 0&&(r=!1);const n=Bf(t),i=MC(t),s=kC(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Z0(o)),[o,Z0(o)]}function rG(t){const e=Z0(t);return[pE(t),e,pE(e)]}function pE(t){return t.replace(/start|end/g,e=>eG[e])}function nG(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function iG(t,e,r,n){const i=Bf(t);let s=nG(Wo(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(pE)))),s}function Z0(t){return t.replace(/left|right|bottom|top/g,e=>JH[e])}function sG(t){return{top:0,right:0,bottom:0,left:0,...t}}function n5(t){return typeof t!="number"?sG(t):{top:t,right:t,bottom:t,left:t}}function Q0(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function fP(t,e,r){let{reference:n,floating:i}=t;const s=Gl(e),o=MC(e),u=kC(o),d=Wo(e),f=s==="y",g=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,_=n[u]/2-i[u]/2;let T;switch(d){case"top":T={x:g,y:n.y-i.height};break;case"bottom":T={x:g,y:n.y+n.height};break;case"right":T={x:n.x+n.width,y:x};break;case"left":T={x:n.x-i.width,y:x};break;default:T={x:n.x,y:n.y}}switch(Bf(e)){case"start":T[o]-=_*(r&&f?-1:1);break;case"end":T[o]+=_*(r&&f?-1:1);break}return T}const aG=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,u=s.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:x}=fP(f,n,d),_=n,T={},O=0;for(let E=0;E<u.length;E++){const{name:A,fn:R}=u[E],{x:P,y:I,data:D,reset:L}=await R({x:g,y:x,initialPlacement:n,placement:_,strategy:i,middlewareData:T,rects:f,platform:o,elements:{reference:t,floating:e}});g=P??g,x=I??x,T={...T,[A]:{...T[A],...D}},L&&O<=50&&(O++,typeof L=="object"&&(L.placement&&(_=L.placement),L.rects&&(f=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:g,y:x}=fP(f,_,d)),E=-1)}return{x:g,y:x,placement:_,strategy:i,middlewareData:T}};async function Np(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:u,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:_=!1,padding:T=0}=zo(e,t),O=n5(T),A=u[_?x==="floating"?"reference":"floating":x],R=Q0(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(A)))==null||r?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:d})),P=x==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),D=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},L=Q0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:I,strategy:d}):P);return{top:(R.top-L.top+O.top)/D.y,bottom:(L.bottom-R.bottom+O.bottom)/D.y,left:(R.left-L.left+O.left)/D.x,right:(L.right-R.right+O.right)/D.x}}const oG=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:u,middlewareData:d}=e,{element:f,padding:g=0}=zo(t,e)||{};if(f==null)return{};const x=n5(g),_={x:r,y:n},T=MC(i),O=kC(T),E=await o.getDimensions(f),A=T==="y",R=A?"top":"left",P=A?"bottom":"right",I=A?"clientHeight":"clientWidth",D=s.reference[O]+s.reference[T]-_[T]-s.floating[O],L=_[T]-s.reference[T],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let U=F?F[I]:0;(!U||!await(o.isElement==null?void 0:o.isElement(F)))&&(U=u.floating[I]||s.floating[O]);const H=D/2-L/2,W=U/2-E[O]/2-1,ce=Hl(x[R],W),K=Hl(x[P],W),z=ce,Z=U-E[O]-K,Q=U/2-E[O]/2+H,Y=hE(z,Q,Z),J=!d.arrow&&Bf(i)!=null&&Q!==Y&&s.reference[O]/2-(Q<z?ce:K)-E[O]/2<0,re=J?Q<z?Q-z:Q-Z:0;return{[T]:_[T]+re,data:{[T]:Y,centerOffset:Q-Y-re,...J&&{alignmentOffset:re}},reset:J}}}),lG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:_,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:E=!0,...A}=zo(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const R=Wo(i),P=Gl(u),I=Wo(u)===u,D=await(d.isRTL==null?void 0:d.isRTL(f.floating)),L=_||(I||!E?[Z0(u)]:rG(u)),F=O!=="none";!_&&F&&L.push(...iG(u,E,O,D));const U=[u,...L],H=await Np(e,A),W=[];let ce=((n=s.flip)==null?void 0:n.overflows)||[];if(g&&W.push(H[R]),x){const Q=tG(i,o,D);W.push(H[Q[0]],H[Q[1]])}if(ce=[...ce,{placement:i,overflows:W}],!W.every(Q=>Q<=0)){var K,z;const Q=(((K=s.flip)==null?void 0:K.index)||0)+1,Y=U[Q];if(Y)return{data:{index:Q,overflows:ce},reset:{placement:Y}};let J=(z=ce.filter(re=>re.overflows[0]<=0).sort((re,ie)=>re.overflows[1]-ie.overflows[1])[0])==null?void 0:z.placement;if(!J)switch(T){case"bestFit":{var Z;const re=(Z=ce.filter(ie=>{if(F){const se=Gl(ie.placement);return se===P||se==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(se=>se>0).reduce((se,me)=>se+me,0)]).sort((ie,se)=>ie[1]-se[1])[0])==null?void 0:Z[0];re&&(J=re);break}case"initialPlacement":J=u;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function hP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pP(t){return QH.some(e=>t[e]>=0)}const cG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=zo(t,e);switch(n){case"referenceHidden":{const s=await Np(e,{...i,elementContext:"reference"}),o=hP(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pP(o)}}}case"escaped":{const s=await Np(e,{...i,altBoundary:!0}),o=hP(s,r.floating);return{data:{escapedOffsets:o,escaped:pP(o)}}}default:return{}}}}};async function uG(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Wo(r),u=Bf(r),d=Gl(r)==="y",f=["left","top"].includes(o)?-1:1,g=s&&d?-1:1,x=zo(e,t);let{mainAxis:_,crossAxis:T,alignmentAxis:O}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof O=="number"&&(T=u==="end"?O*-1:O),d?{x:T*g,y:_*f}:{x:_*f,y:T*g}}const dG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:u}=e,d=await uG(e,t);return o===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:o}}}}},fG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:u={fn:A=>{let{x:R,y:P}=A;return{x:R,y:P}}},...d}=zo(t,e),f={x:r,y:n},g=await Np(e,d),x=Gl(Wo(i)),_=jC(x);let T=f[_],O=f[x];if(s){const A=_==="y"?"top":"left",R=_==="y"?"bottom":"right",P=T+g[A],I=T-g[R];T=hE(P,T,I)}if(o){const A=x==="y"?"top":"left",R=x==="y"?"bottom":"right",P=O+g[A],I=O-g[R];O=hE(P,O,I)}const E=u.fn({...e,[_]:T,[x]:O});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[_]:s,[x]:o}}}}}},hG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=zo(t,e),g={x:r,y:n},x=Gl(i),_=jC(x);let T=g[_],O=g[x];const E=zo(u,e),A=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const I=_==="y"?"height":"width",D=s.reference[_]-s.floating[I]+A.mainAxis,L=s.reference[_]+s.reference[I]-A.mainAxis;T<D?T=D:T>L&&(T=L)}if(f){var R,P;const I=_==="y"?"width":"height",D=["top","left"].includes(Wo(i)),L=s.reference[x]-s.floating[I]+(D&&((R=o.offset)==null?void 0:R[x])||0)+(D?0:A.crossAxis),F=s.reference[x]+s.reference[I]+(D?0:((P=o.offset)==null?void 0:P[x])||0)-(D?A.crossAxis:0);O<L?O=L:O>F&&(O=F)}return{[_]:T,[x]:O}}}},pG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:u}=e,{apply:d=()=>{},...f}=zo(t,e),g=await Np(e,f),x=Wo(i),_=Bf(i),T=Gl(i)==="y",{width:O,height:E}=s.floating;let A,R;x==="top"||x==="bottom"?(A=x,R=_===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(R=x,A=_==="end"?"top":"bottom");const P=E-g.top-g.bottom,I=O-g.left-g.right,D=Hl(E-g[A],P),L=Hl(O-g[R],I),F=!e.middlewareData.shift;let U=D,H=L;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(H=I),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(U=P),F&&!_){const ce=Os(g.left,0),K=Os(g.right,0),z=Os(g.top,0),Z=Os(g.bottom,0);T?H=O-2*(ce!==0||K!==0?ce+K:Os(g.left,g.right)):U=E-2*(z!==0||Z!==0?z+Z:Os(g.top,g.bottom))}await d({...e,availableWidth:H,availableHeight:U});const W=await o.getDimensions(u.floating);return O!==W.width||E!==W.height?{reset:{rects:!0}}:{}}}};function I1(){return typeof window<"u"}function Ff(t){return i5(t)?(t.nodeName||"").toLowerCase():"#document"}function js(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fo(t){var e;return(e=(i5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function i5(t){return I1()?t instanceof Node||t instanceof js(t).Node:!1}function ka(t){return I1()?t instanceof Element||t instanceof js(t).Element:!1}function io(t){return I1()?t instanceof HTMLElement||t instanceof js(t).HTMLElement:!1}function mP(t){return!I1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof js(t).ShadowRoot}function Fm(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Ma(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function mG(t){return["table","td","th"].includes(Ff(t))}function P1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function DC(t){const e=LC(),r=ka(t)?Ma(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function gG(t){let e=Kl(t);for(;io(e)&&!Kd(e);){if(DC(e))return e;if(P1(e))return null;e=Kl(e)}return null}function LC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kd(t){return["html","body","#document"].includes(Ff(t))}function Ma(t){return js(t).getComputedStyle(t)}function R1(t){return ka(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Kl(t){if(Ff(t)==="html")return t;const e=t.assignedSlot||t.parentNode||mP(t)&&t.host||fo(t);return mP(e)?e.host:e}function s5(t){const e=Kl(t);return Kd(e)?t.ownerDocument?t.ownerDocument.body:t.body:io(e)&&Fm(e)?e:s5(e)}function Ip(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=s5(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=js(i);if(s){const u=mE(o);return e.concat(o,o.visualViewport||[],Fm(i)?i:[],u&&r?Ip(u):[])}return e.concat(i,Ip(i,[],r))}function mE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function a5(t){const e=Ma(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=io(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,u=Y0(r)!==s||Y0(n)!==o;return u&&(r=s,n=o),{width:r,height:n,$:u}}function BC(t){return ka(t)?t:t.contextElement}function kd(t){const e=BC(t);if(!io(e))return Ja(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=a5(e);let o=(s?Y0(r.width):r.width)/n,u=(s?Y0(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const yG=Ja(0);function o5(t){const e=js(t);return!LC()||!e.visualViewport?yG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vG(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==js(t)?!1:e}function su(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=BC(t);let o=Ja(1);e&&(n?ka(n)&&(o=kd(n)):o=kd(t));const u=vG(s,r,n)?o5(s):Ja(0);let d=(i.left+u.x)/o.x,f=(i.top+u.y)/o.y,g=i.width/o.x,x=i.height/o.y;if(s){const _=js(s),T=n&&ka(n)?js(n):n;let O=_,E=mE(O);for(;E&&n&&T!==O;){const A=kd(E),R=E.getBoundingClientRect(),P=Ma(E),I=R.left+(E.clientLeft+parseFloat(P.paddingLeft))*A.x,D=R.top+(E.clientTop+parseFloat(P.paddingTop))*A.y;d*=A.x,f*=A.y,g*=A.x,x*=A.y,d+=I,f+=D,O=js(E),E=mE(O)}}return Q0({width:g,height:x,x:d,y:f})}function FC(t,e){const r=R1(t).scrollLeft;return e?e.left+r:su(fo(t)).left+r}function l5(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:FC(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function xG(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=fo(n),u=e?P1(e.floating):!1;if(n===o||u&&s)return r;let d={scrollLeft:0,scrollTop:0},f=Ja(1);const g=Ja(0),x=io(n);if((x||!x&&!s)&&((Ff(n)!=="body"||Fm(o))&&(d=R1(n)),io(n))){const T=su(n);f=kd(n),g.x=T.x+n.clientLeft,g.y=T.y+n.clientTop}const _=o&&!x&&!s?l5(o,d,!0):Ja(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+g.x+_.x,y:r.y*f.y-d.scrollTop*f.y+g.y+_.y}}function wG(t){return Array.from(t.getClientRects())}function bG(t){const e=fo(t),r=R1(t),n=t.ownerDocument.body,i=Os(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Os(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+FC(t);const u=-r.scrollTop;return Ma(n).direction==="rtl"&&(o+=Os(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:u}}function _G(t,e){const r=js(t),n=fo(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,u=0,d=0;if(i){s=i.width,o=i.height;const f=LC();(!f||f&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:s,height:o,x:u,y:d}}function SG(t,e){const r=su(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=io(t)?kd(t):Ja(1),o=t.clientWidth*s.x,u=t.clientHeight*s.y,d=i*s.x,f=n*s.y;return{width:o,height:u,x:d,y:f}}function gP(t,e,r){let n;if(e==="viewport")n=_G(t,r);else if(e==="document")n=bG(fo(t));else if(ka(e))n=SG(e,r);else{const i=o5(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Q0(n)}function c5(t,e){const r=Kl(t);return r===e||!ka(r)||Kd(r)?!1:Ma(r).position==="fixed"||c5(r,e)}function EG(t,e){const r=e.get(t);if(r)return r;let n=Ip(t,[],!1).filter(u=>ka(u)&&Ff(u)!=="body"),i=null;const s=Ma(t).position==="fixed";let o=s?Kl(t):t;for(;ka(o)&&!Kd(o);){const u=Ma(o),d=DC(o);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Fm(o)&&!d&&c5(t,o))?n=n.filter(g=>g!==o):i=u,o=Kl(o)}return e.set(t,n),n}function AG(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?P1(e)?[]:EG(e,this._c):[].concat(r),n],u=o[0],d=o.reduce((f,g)=>{const x=gP(e,g,i);return f.top=Os(x.top,f.top),f.right=Hl(x.right,f.right),f.bottom=Hl(x.bottom,f.bottom),f.left=Os(x.left,f.left),f},gP(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function CG(t){const{width:e,height:r}=a5(t);return{width:e,height:r}}function TG(t,e,r){const n=io(e),i=fo(e),s=r==="fixed",o=su(t,!0,s,e);let u={scrollLeft:0,scrollTop:0};const d=Ja(0);if(n||!n&&!s)if((Ff(e)!=="body"||Fm(i))&&(u=R1(e)),n){const _=su(e,!0,s,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else i&&(d.x=FC(i));const f=i&&!n&&!s?l5(i,u):Ja(0),g=o.left+u.scrollLeft-d.x-f.x,x=o.top+u.scrollTop-d.y-f.y;return{x:g,y:x,width:o.width,height:o.height}}function Ew(t){return Ma(t).position==="static"}function yP(t,e){if(!io(t)||Ma(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return fo(t)===r&&(r=r.ownerDocument.body),r}function u5(t,e){const r=js(t);if(P1(t))return r;if(!io(t)){let i=Kl(t);for(;i&&!Kd(i);){if(ka(i)&&!Ew(i))return i;i=Kl(i)}return r}let n=yP(t,e);for(;n&&mG(n)&&Ew(n);)n=yP(n,e);return n&&Kd(n)&&Ew(n)&&!DC(n)?r:n||gG(t)||r}const OG=async function(t){const e=this.getOffsetParent||u5,r=this.getDimensions,n=await r(t.floating);return{reference:TG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NG(t){return Ma(t).direction==="rtl"}const IG={convertOffsetParentRelativeRectToViewportRelativeRect:xG,getDocumentElement:fo,getClippingRect:AG,getOffsetParent:u5,getElementRects:OG,getClientRects:wG,getDimensions:CG,getScale:kd,isElement:ka,isRTL:NG};function d5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PG(t,e){let r=null,n;const i=fo(t);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function o(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=t.getBoundingClientRect(),{left:g,top:x,width:_,height:T}=f;if(u||e(),!_||!T)return;const O=h0(x),E=h0(i.clientWidth-(g+_)),A=h0(i.clientHeight-(x+T)),R=h0(g),I={rootMargin:-O+"px "+-E+"px "+-A+"px "+-R+"px",threshold:Os(0,Hl(1,d))||1};let D=!0;function L(F){const U=F[0].intersectionRatio;if(U!==d){if(!D)return o();U?o(!1,U):n=setTimeout(()=>{o(!1,1e-7)},1e3)}U===1&&!d5(f,t.getBoundingClientRect())&&o(),D=!1}try{r=new IntersectionObserver(L,{...I,root:i.ownerDocument})}catch{r=new IntersectionObserver(L,I)}r.observe(t)}return o(!0),s}function RG(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=BC(t),g=i||s?[...f?Ip(f):[],...Ip(e)]:[];g.forEach(R=>{i&&R.addEventListener("scroll",r,{passive:!0}),s&&R.addEventListener("resize",r)});const x=f&&u?PG(f,r):null;let _=-1,T=null;o&&(T=new ResizeObserver(R=>{let[P]=R;P&&P.target===f&&T&&(T.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var I;(I=T)==null||I.observe(e)})),r()}),f&&!d&&T.observe(f),T.observe(e));let O,E=d?su(t):null;d&&A();function A(){const R=su(t);E&&!d5(E,R)&&r(),E=R,O=requestAnimationFrame(A)}return r(),()=>{var R;g.forEach(P=>{i&&P.removeEventListener("scroll",r),s&&P.removeEventListener("resize",r)}),x?.(),(R=T)==null||R.disconnect(),T=null,d&&cancelAnimationFrame(O)}}const jG=dG,kG=fG,MG=lG,DG=pG,LG=cG,vP=oG,BG=hG,FG=(t,e,r)=>{const n=new Map,i={platform:IG,...r},s={...i.platform,_c:n};return aG(t,e,{...i,platform:s})};var F0=typeof document<"u"?M.useLayoutEffect:M.useEffect;function J0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!J0(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!J0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function f5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xP(t,e){const r=f5(t);return Math.round(e*r)/r}function Aw(t){const e=M.useRef(t);return F0(()=>{e.current=t}),e}function UG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:u=!0,whileElementsMounted:d,open:f}=t,[g,x]=M.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[_,T]=M.useState(n);J0(_,n)||T(n);const[O,E]=M.useState(null),[A,R]=M.useState(null),P=M.useCallback(ie=>{ie!==F.current&&(F.current=ie,E(ie))},[]),I=M.useCallback(ie=>{ie!==U.current&&(U.current=ie,R(ie))},[]),D=s||O,L=o||A,F=M.useRef(null),U=M.useRef(null),H=M.useRef(g),W=d!=null,ce=Aw(d),K=Aw(i),z=Aw(f),Z=M.useCallback(()=>{if(!F.current||!U.current)return;const ie={placement:e,strategy:r,middleware:_};K.current&&(ie.platform=K.current),FG(F.current,U.current,ie).then(se=>{const me={...se,isPositioned:z.current!==!1};Q.current&&!J0(H.current,me)&&(H.current=me,Mf.flushSync(()=>{x(me)}))})},[_,e,r,K,z]);F0(()=>{f===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,x(ie=>({...ie,isPositioned:!1})))},[f]);const Q=M.useRef(!1);F0(()=>(Q.current=!0,()=>{Q.current=!1}),[]),F0(()=>{if(D&&(F.current=D),L&&(U.current=L),D&&L){if(ce.current)return ce.current(D,L,Z);Z()}},[D,L,Z,ce,W]);const Y=M.useMemo(()=>({reference:F,floating:U,setReference:P,setFloating:I}),[P,I]),J=M.useMemo(()=>({reference:D,floating:L}),[D,L]),re=M.useMemo(()=>{const ie={position:r,left:0,top:0};if(!J.floating)return ie;const se=xP(J.floating,g.x),me=xP(J.floating,g.y);return u?{...ie,transform:"translate("+se+"px, "+me+"px)",...f5(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:se,top:me}},[r,u,J.floating,g.x,g.y]);return M.useMemo(()=>({...g,update:Z,refs:Y,elements:J,floatingStyles:re}),[g,Z,Y,J,re])}const $G=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?vP({element:n.current,padding:i}).fn(r):{}:n?vP({element:n,padding:i}).fn(r):{}}}},VG=(t,e)=>({...jG(t),options:[t,e]}),qG=(t,e)=>({...kG(t),options:[t,e]}),zG=(t,e)=>({...BG(t),options:[t,e]}),WG=(t,e)=>({...MG(t),options:[t,e]}),HG=(t,e)=>({...DG(t),options:[t,e]}),GG=(t,e)=>({...LG(t),options:[t,e]}),KG=(t,e)=>({...$G(t),options:[t,e]});var XG="Arrow",h5=M.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return m.jsx(Pt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});h5.displayName=XG;var YG=h5;function ZG(t){const[e,r]=M.useState(void 0);return ri(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,u;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,u=f.blockSize}else o=t.offsetWidth,u=t.offsetHeight;r({width:o,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var UC="Popper",[p5,Uf]=Ls(UC),[QG,m5]=p5(UC),g5=t=>{const{__scopePopper:e,children:r}=t,[n,i]=M.useState(null);return m.jsx(QG,{scope:e,anchor:n,onAnchorChange:i,children:r})};g5.displayName=UC;var y5="PopperAnchor",v5=M.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=m5(y5,r),o=M.useRef(null),u=mr(e,o);return M.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:m.jsx(Pt.div,{...i,ref:u})});v5.displayName=y5;var $C="PopperContent",[JG,eK]=p5($C),x5=M.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:_=!1,updatePositionStrategy:T="optimized",onPlaced:O,...E}=t,A=m5($C,r),[R,P]=M.useState(null),I=mr(e,Re=>P(Re)),[D,L]=M.useState(null),F=ZG(D),U=F?.width??0,H=F?.height??0,W=n+(s!=="center"?"-"+s:""),ce=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},K=Array.isArray(f)?f:[f],z=K.length>0,Z={padding:ce,boundary:K.filter(rK),altBoundary:z},{refs:Q,floatingStyles:Y,placement:J,isPositioned:re,middlewareData:ie}=UG({strategy:"fixed",placement:W,whileElementsMounted:(...Re)=>RG(...Re,{animationFrame:T==="always"}),elements:{reference:A.anchor},middleware:[VG({mainAxis:i+H,alignmentAxis:o}),d&&qG({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?zG():void 0,...Z}),d&&WG({...Z}),HG({...Z,apply:({elements:Re,rects:Be,availableWidth:Te,availableHeight:$e})=>{const{width:Ve,height:Ce}=Be.reference,et=Re.floating.style;et.setProperty("--radix-popper-available-width",`${Te}px`),et.setProperty("--radix-popper-available-height",`${$e}px`),et.setProperty("--radix-popper-anchor-width",`${Ve}px`),et.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),D&&KG({element:D,padding:u}),nK({arrowWidth:U,arrowHeight:H}),_&&GG({strategy:"referenceHidden",...Z})]}),[se,me]=_5(J),ne=Oi(O);ri(()=>{re&&ne?.()},[re,ne]);const ue=ie.arrow?.x,be=ie.arrow?.y,Pe=ie.arrow?.centerOffset!==0,[rt,Ie]=M.useState();return ri(()=>{R&&Ie(window.getComputedStyle(R).zIndex)},[R]),m.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:re?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rt,"--radix-popper-transform-origin":[ie.transformOrigin?.x,ie.transformOrigin?.y].join(" "),...ie.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(JG,{scope:r,placedSide:se,onArrowChange:L,arrowX:ue,arrowY:be,shouldHideArrow:Pe,children:m.jsx(Pt.div,{"data-side":se,"data-align":me,...E,ref:I,style:{...E.style,animation:re?void 0:"none"}})})})});x5.displayName=$C;var w5="PopperArrow",tK={top:"bottom",right:"left",bottom:"top",left:"right"},b5=M.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=eK(w5,n),o=tK[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(YG,{...i,ref:r,style:{...i.style,display:"block"}})})});b5.displayName=w5;function rK(t){return t!==null}var nK=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,u=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[f,g]=_5(r),x={start:"0%",center:"50%",end:"100%"}[g],_=(i.arrow?.x??0)+u/2,T=(i.arrow?.y??0)+d/2;let O="",E="";return f==="bottom"?(O=o?x:`${_}px`,E=`${-d}px`):f==="top"?(O=o?x:`${_}px`,E=`${n.floating.height+d}px`):f==="right"?(O=`${-d}px`,E=o?x:`${T}px`):f==="left"&&(O=`${n.floating.width+d}px`,E=o?x:`${T}px`),{data:{x:O,y:E}}}});function _5(t){const[e,r="center"]=t.split("-");return[e,r]}var S5=g5,VC=v5,qC=x5,zC=b5,[j1]=Ls("Tooltip",[Uf]),WC=Uf(),E5="TooltipProvider",iK=700,wP="tooltip.open",[sK,A5]=j1(E5),C5=t=>{const{__scopeTooltip:e,delayDuration:r=iK,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=M.useRef(!0),u=M.useRef(!1),d=M.useRef(0);return M.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),m.jsx(sK,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:M.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:M.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:s})};C5.displayName=E5;var T5="Tooltip",[c_e,k1]=j1(T5),gE="TooltipTrigger",aK=M.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=k1(gE,r),s=A5(gE,r),o=WC(r),u=M.useRef(null),d=mr(e,u,i.onTriggerChange),f=M.useRef(!1),g=M.useRef(!1),x=M.useCallback(()=>f.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),m.jsx(VC,{asChild:!0,...o,children:m.jsx(Pt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:st(t.onPointerMove,_=>{_.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:st(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:st(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:st(t.onBlur,i.onClose),onClick:st(t.onClick,i.onClose)})})});aK.displayName=gE;var oK="TooltipPortal",[u_e,lK]=j1(oK,{forceMount:void 0}),Xd="TooltipContent",O5=M.forwardRef((t,e)=>{const r=lK(Xd,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=k1(Xd,t.__scopeTooltip);return m.jsx(Ba,{present:n||o.open,children:o.disableHoverableContent?m.jsx(N5,{side:i,...s,ref:e}):m.jsx(cK,{side:i,...s,ref:e})})}),cK=M.forwardRef((t,e)=>{const r=k1(Xd,t.__scopeTooltip),n=A5(Xd,t.__scopeTooltip),i=M.useRef(null),s=mr(e,i),[o,u]=M.useState(null),{trigger:d,onClose:f}=r,g=i.current,{onPointerInTransitChange:x}=n,_=M.useCallback(()=>{u(null),x(!1)},[x]),T=M.useCallback((O,E)=>{const A=O.currentTarget,R={x:O.clientX,y:O.clientY},P=pK(R,A.getBoundingClientRect()),I=mK(R,P),D=gK(E.getBoundingClientRect()),L=vK([...I,...D]);u(L),x(!0)},[x]);return M.useEffect(()=>()=>_(),[_]),M.useEffect(()=>{if(d&&g){const O=A=>T(A,g),E=A=>T(A,d);return d.addEventListener("pointerleave",O),g.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",O),g.removeEventListener("pointerleave",E)}}},[d,g,T,_]),M.useEffect(()=>{if(o){const O=E=>{const A=E.target,R={x:E.clientX,y:E.clientY},P=d?.contains(A)||g?.contains(A),I=!yK(R,o);P?_():I&&(_(),f())};return document.addEventListener("pointermove",O),()=>document.removeEventListener("pointermove",O)}},[d,g,o,f,_]),m.jsx(N5,{...t,ref:s})}),[uK,dK]=j1(T5,{isInside:!1}),fK=v6("TooltipContent"),N5=M.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...u}=t,d=k1(Xd,r),f=WC(r),{onClose:g}=d;return M.useEffect(()=>(document.addEventListener(wP,g),()=>document.removeEventListener(wP,g)),[g]),M.useEffect(()=>{if(d.trigger){const x=_=>{_.target?.contains(d.trigger)&&g()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[d.trigger,g]),m.jsx(Df,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:x=>x.preventDefault(),onDismiss:g,children:m.jsxs(qC,{"data-state":d.stateAttribute,...f,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(fK,{children:n}),m.jsx(uK,{scope:r,isInside:!0,children:m.jsx(AW,{id:d.contentId,role:"tooltip",children:i||n})})]})})});O5.displayName=Xd;var I5="TooltipArrow",hK=M.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=WC(r);return dK(I5,r).isInside?null:m.jsx(zC,{...i,...n,ref:e})});hK.displayName=I5;function pK(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function mK(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function gK(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function yK(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const u=e[s].x,d=e[s].y,f=e[o].x,g=e[o].y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function vK(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),xK(e)}function xK(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var wK=C5,P5=O5;const bK=wK,_K=M.forwardRef(({className:t,sideOffset:e=4,...r},n)=>m.jsx(P5,{ref:n,sideOffset:e,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));_K.displayName=P5.displayName;var Xa=function(){return Xa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xa.apply(this,arguments)};function $f(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function SK(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})}function EK(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}const AK=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class HC extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class CK extends HC{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bP extends HC{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _P extends HC{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yE;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yE||(yE={}));class TK{constructor(e,{headers:r={},customFetch:n,region:i=yE.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=AK(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return SK(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:u,method:d,body:f,signal:g,timeout:x}=n;let _={},{region:T}=n;T||(T=this.region);const O=new URL(`${this.url}/${r}`);T&&T!=="any"&&(_["x-region"]=T,O.searchParams.set("forceFunctionRegion",T));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(_["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(_["Content-Type"]="application/json",E=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?E=JSON.stringify(f):E=f;let A=g;x&&(o=new AbortController,s=setTimeout(()=>o.abort(),x),g?(A=o.signal,g.addEventListener("abort",()=>o.abort())):A=o.signal);const R=yield this.fetch(O.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),u),body:E,signal:A}).catch(L=>{throw new CK(L)}),P=R.headers.get("x-relay-error");if(P&&P==="true")throw new bP(R);if(!R.ok)throw new _P(R);let I=((i=R.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),D;return I==="application/json"?D=yield R.json():I==="application/octet-stream"||I==="application/pdf"?D=yield R.blob():I==="text/event-stream"?D=R:I==="multipart/form-data"?D=yield R.formData():D=yield R.text(),{data:D,error:null,response:R}}catch(u){return{data:null,error:u,response:u instanceof _P||u instanceof bP?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var OK=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},NK=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,u=null,d=null,f=s.status,g=s.statusText;if(s.ok){var x,_;if(r.method!=="HEAD"){var T;const R=await s.text();R===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((T=r.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?u=R:u=JSON.parse(R))}const E=(x=r.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),A=(_=s.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");E&&A&&A.length>1&&(d=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var O;const E=await s.text();try{o=JSON.parse(E),Array.isArray(o)&&s.status===404&&(u=[],o=null,f=200,g="OK")}catch{s.status===404&&E===""?(f=204,g="No Content"):o={message:E}}if(o&&r.isMaybeSingle&&(!(o==null||(O=o.details)===null||O===void 0)&&O.includes("0 rows"))&&(o=null,f=200,g="OK"),o&&r.shouldThrowOnError)throw new OK(o)}return{error:o,data:u,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let u="";const d=s?.cause;if(d){var f,g,x,_;const O=(f=d?.message)!==null&&f!==void 0?f:"",E=(g=d?.code)!==null&&g!==void 0?g:"";u=`${(x=s?.name)!==null&&x!==void 0?x:"FetchError"}: ${s?.message}`,u+=`

Caused by: ${(_=d?.name)!==null&&_!==void 0?_:"Error"}: ${O}`,E&&(u+=` (${E})`),d?.stack&&(u+=`
${d.stack}`)}else{var T;u=(T=s?.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},IK=class extends NK{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${d}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const SP=new RegExp("[,()]");var yd=class extends IK{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&SP.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&SP.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},PK=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",o),n&&d.append("Prefer",`count=${n}`),new yd({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);s.searchParams.set("columns",d.join(","))}}return new yd({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(f.length>0){const g=[...new Set(f)].map(x=>`"${x}"`);u.searchParams.set("columns",g.join(","))}}return new yd({method:o,url:u,headers:d,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new yd({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new yd({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},RK=class R5{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PK(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new R5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let u;const d=new URL(`${this.url}/rpc/${e}`);let f;const g=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(g)),x=n&&Object.values(r).some(g);x?(u="POST",f=r):n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([T,O])=>O!==void 0).map(([T,O])=>[T,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([T,O])=>{d.searchParams.append(T,O)})):(u="POST",f=r);const _=new Headers(this.headers);return x?_.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&_.set("Prefer",`count=${s}`),new yd({method:u,url:d,headers:_,schema:this.schemaName,body:f,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class jK{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const kK="2.91.1",MK=`realtime-js/${kK}`,DK="1.0.0",j5="2.0.0",EP=j5,vE=1e4,LK=1e3,BK=100;var Dl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dl||(Dl={}));var Yn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Yn||(Yn={}));var ba;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ba||(ba={}));var xE;(function(t){t.websocket="websocket"})(xE||(xE={}));var qc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qc||(qc={}));class FK{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,s;const o=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",d=(s=e.join_ref)!==null&&s!==void 0?s:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+o.length+f.length+x.length,T=new ArrayBuffer(this.HEADER_LENGTH+_);let O=new DataView(T),E=0;O.setUint8(E++,this.KINDS.userBroadcastPush),O.setUint8(E++,d.length),O.setUint8(E++,u.length),O.setUint8(E++,o.length),O.setUint8(E++,f.length),O.setUint8(E++,x.length),O.setUint8(E++,r),Array.from(d,R=>O.setUint8(E++,R.charCodeAt(0))),Array.from(u,R=>O.setUint8(E++,R.charCodeAt(0))),Array.from(o,R=>O.setUint8(E++,R.charCodeAt(0))),Array.from(f,R=>O.setUint8(E++,R.charCodeAt(0))),Array.from(x,R=>O.setUint8(E++,R.charCodeAt(0)));var A=new Uint8Array(T.byteLength+n.byteLength);return A.set(new Uint8Array(T),0),A.set(new Uint8Array(n),T.byteLength),A.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,u,d]=n;return r({join_ref:i,ref:s,topic:o,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(e.slice(d,d+i));d=d+i;const g=n.decode(e.slice(d,d+s));d=d+s;const x=n.decode(e.slice(d,d+o));d=d+o;const _=e.slice(d,e.byteLength),T=u===this.JSON_ENCODING?JSON.parse(n.decode(_)):_,O={type:this.BROADCAST_EVENT,event:g,payload:T};return o>0&&(O.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class k5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qr||(qr={}));const AP=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=UK(o,t,e,i),s),{}):{}},UK=(t,e,r,n)=>{const i=e.find(u=>u.name===t),s=i?.type,o=r[t];return s&&!n.includes(s)?M5(s,o):wE(o)},M5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zK(e,r)}switch(t){case qr.bool:return $K(e);case qr.float4:case qr.float8:case qr.int2:case qr.int4:case qr.int8:case qr.numeric:case qr.oid:return VK(e);case qr.json:case qr.jsonb:return qK(e);case qr.timestamp:return WK(e);case qr.abstime:case qr.date:case qr.daterange:case qr.int4range:case qr.int8range:case qr.money:case qr.reltime:case qr.text:case qr.time:case qr.timestamptz:case qr.timetz:case qr.tsrange:case qr.tstzrange:return wE(e);default:return wE(e)}},wE=t=>t,$K=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},VK=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qK=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},zK=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(u=>M5(e,u))}return t},WK=t=>typeof t=="string"?t.replace(" ","T"):t,D5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Cw{constructor(e,r,n={},i=vE){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var CP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(CP||(CP={}));class mp{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mp.syncState(this.state,i,s,o),this.pendingDiffs.forEach(d=>{this.state=mp.syncDiff(this.state,d,s,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mp.syncDiff(this.state,i,s,o),u())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),u={},d={};return this.map(s,(f,g)=>{o[f]||(d[f]=g)}),this.map(o,(f,g)=>{const x=s[f];if(x){const _=g.map(A=>A.presence_ref),T=x.map(A=>A.presence_ref),O=g.filter(A=>T.indexOf(A.presence_ref)<0),E=x.filter(A=>_.indexOf(A.presence_ref)<0);O.length>0&&(u[f]=O),E.length>0&&(d[f]=E)}else u[f]=g}),this.syncDiff(s,{joins:u,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,d)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),g.length>0){const x=e[u].map(T=>T.presence_ref),_=g.filter(T=>x.indexOf(T.presence_ref)<0);e[u].unshift(..._)}n(u,g,d)}),this.map(o,(u,d)=>{let f=e[u];if(!f)return;const g=d.map(x=>x.presence_ref);f=f.filter(x=>g.indexOf(x.presence_ref)<0),e[u]=f,i(u,f,d),f.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var TP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(TP||(TP={}));var gp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gp||(gp={}));var ko;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ko||(ko={}));class Sd{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cw(this,ba.join,this.params,this.timeout),this.rejoinTimer=new k5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ba.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new mp(this),this.broadcastEndpointURL=D5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Yn.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(T=>T.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[gp.PRESENCE]&&this.bindings[gp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,x={},_={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(T=>e?.(ko.CHANNEL_ERROR,T)),this._onClose(()=>e?.(ko.CLOSED)),this.updateJoinPayload(Object.assign({config:_},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:T})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){e?.(ko.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,A=(O=E?.length)!==null&&O!==void 0?O:0,R=[];for(let P=0;P<A;P++){const I=E[P],{filter:{event:D,schema:L,table:F,filter:U}}=I,H=T&&T[P];if(H&&H.event===D&&Sd.isFilterValueEqual(H.schema,L)&&Sd.isFilterValueEqual(H.table,F)&&Sd.isFilterValueEqual(H.filter,U))R.push(Object.assign(Object.assign({},I),{id:H.id}));else{this.unsubscribe(),this.state=Yn.errored,e?.(ko.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(ko.SUBSCRIBED);return}}).receive("error",T=>{this.state=Yn.errored,e?.(ko.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{e?.(ko.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Yn.joined&&e===gp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,u,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Yn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ba.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Cw(this,ba.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Cw(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>BK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:g}=ba;if(n&&[u,d,f,g].indexOf(o)>=0&&n!==this._joinRef())return;let _=this._onMessage(o,r,n);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(T=>{var O,E,A;return((O=T.filter)===null||O===void 0?void 0:O.event)==="*"||((A=(E=T.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(T=>T.callback(_,n)):(s=this.bindings[o])===null||s===void 0||s.filter(T=>{var O,E,A,R,P,I,D,L;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in T){const F=T.id,U=(O=T.filter)===null||O===void 0?void 0:O.event;return F&&((E=r.ids)===null||E===void 0?void 0:E.includes(F))&&(U==="*"||U?.toLocaleLowerCase()===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))&&(!(!((R=T.filter)===null||R===void 0)&&R.table)||T.filter.table===((P=r.data)===null||P===void 0?void 0:P.table))}else{const F=(D=(I=T?.filter)===null||I===void 0?void 0:I.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return F==="*"||F===((L=r?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===o}).map(T=>{if(typeof _=="object"&&"ids"in _){const O=_.data,{schema:E,table:A,commit_timestamp:R,type:P,errors:I}=O;_=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:R,eventType:P,new:{},old:{},errors:I}),this._getPayloadRecords(O))}T.callback(_,n)})}_isClosed(){return this.state===Yn.closed}_isJoined(){return this.state===Yn.joined}_isJoining(){return this.state===Yn.joining}_isLeaving(){return this.state===Yn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Sd.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ba.close,{},e)}_onError(e){this._on(ba.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=AP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=AP(e.columns,e.old_record)),r}}const Tw=()=>{},p0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HK=[1e3,2e3,5e3,1e4],GK=1e4,KK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XK{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vE,this.transport=null,this.heartbeatIntervalMs=p0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tw,this.ref=0,this.reconnectTimer=null,this.vsn=EP,this.logger=Tw,this.conn=null,this.sendBuffer=[],this.serializer=new FK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${xE.websocket}`,this.httpEndpoint=D5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jK.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dl.connecting:return qc.Connecting;case Dl.open:return qc.Open;case Dl.closing:return qc.Closing;default:return qc.Closed}}isConnected(){return this.connectionState()===qc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Sd(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(LK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},p0.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:o}=r,u=o?`(${o})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Dl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dl.open||this.conn.readyState===Dl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ba.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([KK],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:MK};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ba.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new k5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},p0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,u,d,f,g,x,_,T;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:vE,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:p0.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Tw,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:EP,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(O=>HK[O-1]||GK),this.vsn){case DK:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((O,E)=>E(JSON.stringify(O))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((O,E)=>E(JSON.parse(O)));break;case j5:this.encode=(_=e?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(T=e?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Pp=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YK(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function ZK(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function QK(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:o}){const u=YK(t.baseUrl,n,i),d=await ZK(t.auth),f=await e(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...o},body:s?JSON.stringify(s):void 0}),g=await f.text(),x=(f.headers.get("content-type")||"").includes("application/json"),_=x&&g?JSON.parse(g):g;if(!f.ok){const T=x?_:void 0,O=T?.error;throw new Pp(O?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:O?.type,icebergCode:O?.code,details:T})}return{status:f.status,headers:f.headers,data:_}}}}function m0(t){return t.join("")}var JK=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:m0(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${m0(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${m0(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${m0(t.namespace)}`}),!0}catch(e){if(e instanceof Pp&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Pp&&r.status===409)return;throw r}}};function id(t){return t.join("")}var eX=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${id(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${id(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${id(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${id(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${id(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${id(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Pp&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Pp&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},tX=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=QK({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new JK(this.client,e),this.tableOps=new eX(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},M1=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function pn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var rX=class extends M1{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bE=class extends M1{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const GC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nX=()=>Response,_E=t=>{if(Array.isArray(t))return t.map(r=>_E(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=_E(n)}),e},iX=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sX=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function aX(t,e){if(Rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oX(t){var e=aX(t,"string");return Rp(e)=="symbol"?e:e+""}function lX(t,e,r){return(e=oX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){lX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Ow=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},cX=async(t,e,r)=>{t instanceof await nX()&&!r?.noResolveJson?t.json().then(n=>{const i=t.status||500,s=n?.statusCode||i+"";e(new rX(Ow(n),i,s))}).catch(n=>{e(new bE(Ow(n),n))}):e(new bE(Ow(t),t))},uX=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(iX(n)?(i.headers=kt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),kt(kt({},i),r))};async function Um(t,e,r,n,i,s){return new Promise((o,u)=>{t(r,uX(e,n,i,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>cX(d,u,n))})}async function jp(t,e,r,n){return Um(t,"GET",e,r,n)}async function xa(t,e,r,n,i){return Um(t,"POST",e,n,i,r)}async function SE(t,e,r,n,i){return Um(t,"PUT",e,n,i,r)}async function dX(t,e,r,n){return Um(t,"HEAD",e,kt(kt({},r),{},{noResolveJson:!0}),n)}async function KC(t,e,r,n,i){return Um(t,"DELETE",e,n,i,r)}var fX=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pn(e))return{data:null,error:e};throw e}}};let L5;L5=Symbol.toStringTag;var hX=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[L5]="BlobDownloadBuilder",this.promise=null}asStream(){return new fX(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pn(e))return{data:null,error:e};throw e}}};const pX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mX=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=GC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let s;const o=kt(kt({},NP),n);let u=kt(kt({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",i.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),d&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(u=kt(kt({},u),n.headers));const f=i._removeEmptyFolders(e),g=i._getFinalPath(f),x=await(t=="PUT"?SE:xa)(i.fetch,`${i.url}/object/${g}`,s,kt({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:x.Id,fullPath:x.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(pn(s))return{data:null,error:s};throw s}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),u=new URL(i.url+`/object/upload/sign/${o}`);u.searchParams.set("token",e);try{let d;const f=kt({upsert:NP.upsert},n),g=kt(kt({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{data:{path:s,fullPath:(await SE(i.fetch,u.toString(),d,{headers:g})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(pn(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=kt({},r.headers);e?.upsert&&(i["x-upsert"]="true");const s=await xa(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+s.url),u=o.searchParams.get("token");if(!u)throw new M1("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await xa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await xa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),s=await xa(n.fetch,`${n.url}/object/sign/${i}`,kt({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await xa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>kt(kt({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",s=this._getFinalPath(t),o=()=>jp(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new hX(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:_E(await jp(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await dX(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pn(n)&&n instanceof bE){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await KC(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=kt(kt(kt({},pX),e),{},{prefix:t||""});return{data:await xa(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pn(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=kt({},t);return{data:await xa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const B5="2.91.1",F5={"X-Client-Info":`storage-js/${B5}`};var gX=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=kt(kt({},F5),e),this.fetch=GC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await jp(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await jp(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await xa(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await SE(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await xa(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await KC(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},yX=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=kt(kt({},F5),e),this.fetch=GC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await xa(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await jp(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await KC(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!sX(t))throw new M1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new tX({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(i,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const XC={"X-Client-Info":`storage-js/${B5}`,"Content-Type":"application/json"};var U5=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Is(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Nw=class extends U5{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vX=class extends U5{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const YC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xX=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},IP=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wX=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const o=s?.statusCode||s?.code||n+"";e(new Nw(IP(s),n,o))}).catch(()=>{const s=n+"";e(new Nw(i.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new Nw(i.statusText||`HTTP ${n} error`,n,s))}}else e(new vX(IP(t),t))},bX=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(xX(n)?(i.headers=kt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,kt(kt({},i),r)):i};async function _X(t,e,r,n,i,s){return new Promise((o,u)=>{t(r,bX(e,n,i,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>wX(d,u,n))})}async function Ps(t,e,r,n,i){return _X(t,"POST",e,n,i,r)}var SX=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=kt(kt({},XC),e),this.fetch=YC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ps(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Ps(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Is(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Ps(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Ps(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Is(n))return{data:null,error:n};throw n}}},EX=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=kt(kt({},XC),e),this.fetch=YC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ps(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Ps(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ps(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Ps(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ps(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}},AX=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=kt(kt({},XC),e),this.fetch=YC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ps(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ps(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Ps(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ps(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Is(r))return{data:null,error:r};throw r}}},CX=class extends AX{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new TX(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},TX=class extends SX{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new OX(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},OX=class extends EX{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},NX=class extends gX{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new mX(this.url,this.headers,t,this.fetch)}get vectors(){return new CX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yX(this.url+"/iceberg",this.headers,this.fetch)}};const $5="2.91.1",vd=30*1e3,EE=3,Iw=EE*vd,IX="http://localhost:9999",PX="supabase.auth.token",RX={"X-Client-Info":`gotrue-js/${$5}`},AE="X-Supabase-Api-Version",V5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kX=600*1e3;class kp extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function bt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class MX extends kp{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function DX(t){return bt(t)&&t.name==="AuthApiError"}class zc extends kp{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jo extends kp{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class _s extends Jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LX(t){return bt(t)&&t.name==="AuthSessionMissingError"}class sd extends Jo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class g0 extends Jo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class y0 extends Jo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BX(t){return bt(t)&&t.name==="AuthImplicitGrantRedirectError"}class PP extends Jo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class FX extends Jo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class CE extends Jo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Pw(t){return bt(t)&&t.name==="AuthRetryableFetchError"}class RP extends Jo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class TE extends Jo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ey="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jP=` 	
\r=`.split(""),UX=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jP.length;e+=1)t[jP[e].charCodeAt(0)]=-2;for(let e=0;e<ey.length;e+=1)t[ey[e].charCodeAt(0)]=e;return t})();function kP(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ey[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ey[n]),e.queuedBits-=6}}function q5(t,e,r){const n=UX[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function MP(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{qX(o,n,r)};for(let o=0;o<t.length;o+=1)q5(t.charCodeAt(o),i,s);return e.join("")}function $X(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function VX(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}$X(n,e)}}function qX(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Md(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)q5(t.charCodeAt(i),r,n);return new Uint8Array(e)}function zX(t){const e=[];return VX(t,r=>e.push(r)),new Uint8Array(e)}function Hc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>kP(i,r,n)),kP(null,r,n),e.join("")}function WX(t){return Math.round(Date.now()/1e3)+t}function HX(){return Symbol("auth-callback")}const Ei=()=>typeof window<"u"&&typeof document<"u",kc={tested:!1,writable:!1},z5=()=>{if(!Ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kc.tested)return kc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),kc.tested=!0,kc.writable=!0}catch{kc.tested=!0,kc.writable=!1}return kc.writable};function GX(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const W5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),KX=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xd=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Mc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_i=async(t,e)=>{await t.removeItem(e)};class D1{constructor(){this.promise=new D1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}D1.promiseConstructor=Promise;function Rw(t){const e=t.split(".");if(e.length!==3)throw new TE("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!jX.test(e[n]))throw new TE("JWT not in base64url format");return{header:JSON.parse(MP(e[0])),payload:JSON.parse(MP(e[1])),signature:Md(e[2]),raw:{header:e[0],payload:e[1]}}}async function XX(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function YX(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function ZX(t){return("0"+t.toString(16)).substr(-2)}function QX(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ZX).join("")}async function JX(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function eY(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await JX(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ad(t,e,r=!1){const n=QX();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await xd(t,`${e}-code-verifier`,i);const s=await eY(n);return[s,n===s?"plain":"s256"]}const tY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rY(t){const e=t.headers.get(AE);if(!e||!e.match(tY))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nY(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function iY(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function od(t){if(!sY.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jw(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aY(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function DP(t){return JSON.parse(JSON.stringify(t))}const Fc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oY=[502,503,504];async function LP(t){var e;if(!KX(t))throw new CE(Fc(t),0);if(oY.includes(t.status))throw new CE(Fc(t),t.status);let r;try{r=await t.json()}catch(s){throw new zc(Fc(s),s)}let n;const i=rY(t);if(i&&i.getTime()>=V5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new RP(Fc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new _s}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new RP(Fc(r),t.status,r.weak_password.reasons);throw new MX(Fc(r),t.status||500,n)}const lY=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function jt(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[AE]||(s[AE]=V5["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await cY(t,e,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function cY(t,e,r,n,i,s){const o=lY(e,n,i,s);let u;try{u=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new CE(Fc(d),0)}if(u.ok||await LP(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await LP(d)}}function ya(t){var e;let r=null;fY(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=WX(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function BP(t){const e=ya(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uY(t){return{data:t,error:null}}function dY(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=$f(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function FP(t){return t}function fY(t){return t.access_token&&t.refresh_token&&t.expires_in}const kw=["global","local","others"];class hY{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=W5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=kw[0]){if(kw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kw.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fl})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=$f(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dY,redirectTo:r?.redirectTo})}catch(r){if(bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fl})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:FP});if(g.error)throw g.error;const x=await g.json(),_=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,T=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return T.length>0&&(T.forEach(O=>{const E=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(O.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(_)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(bt(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){od(e);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fl})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){od(e);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Fl})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){od(e);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fl})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){od(e.userId);try{const{data:r,error:n}=await jt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){od(e.userId),od(e.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:FP});if(g.error)throw g.error;const x=await g.json(),_=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,T=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return T.length>0&&(T.forEach(O=>{const E=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(O.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(_)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(bt(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await jt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await jt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}}function UP(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ld={debug:!!(globalThis&&z5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pY extends H5{}async function mY(t,e,r){ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ld.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pY(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ld.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function gY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function G5(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function yY(t){return parseInt(t,16)}function vY(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function xY(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:u,requestId:d,resources:f,scheme:g,uri:x,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const T=G5(t.address),O=g?`${g}://${n}`:n,E=t.statement?`${t.statement}
`:"",A=`${O} wants you to sign in with your Ethereum account:
${T}

${E}`;let R=`URI: ${x}
Version: ${_}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(R+=`
Expiration Time: ${i.toISOString()}`),u&&(R+=`
Not Before: ${u.toISOString()}`),d&&(R+=`
Request ID: ${d}`),f){let P=`
Resources:`;for(const I of f){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);P+=`
- ${I}`}R+=P}return`${A}
${R}`}class Ln extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class ty extends Ln{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function wY({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ln({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ln({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ln({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ln({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ln({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ln({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ln({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ln({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(K5(o)){if(s.rp.id!==o)return new Ln({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ln({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ln({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ln({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ln({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function bY({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ln({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ln({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(K5(n)){if(r.rpId!==n)return new Ln({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ln({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ln({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ln({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class _Y{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const SY=new _Y;function EY(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=$f(t,["challenge","user","excludeCredentials"]),s=Md(e).buffer,o=Object.assign(Object.assign({},r),{id:Md(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Md(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function AY(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=$f(t,["challenge","allowCredentials"]),i=Md(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},u),{id:Md(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function CY(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Hc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Hc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function TY(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Hc(new Uint8Array(i.authenticatorData)),clientDataJSON:Hc(new Uint8Array(i.clientDataJSON)),signature:Hc(new Uint8Array(i.signature)),userHandle:i.userHandle?Hc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function K5(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $P(){var t,e;return!!(Ei()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function OY(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ty("Browser returned unexpected credential type",e)}:{data:null,error:new ty("Empty credential response",e)}}catch(e){return{data:null,error:wY({error:e,options:t})}}}async function NY(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ty("Browser returned unexpected credential type",e)}:{data:null,error:new ty("Empty credential response",e)}}catch(e){return{data:null,error:bY({error:e,options:t})}}}const IY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ry(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const u=n[s];e(u)?n[s]=ry(u,o):n[s]=ry(o)}else n[s]=o}return n}function RY(t,e){return ry(IY,t,e||{})}function jY(t,e){return ry(PY,t,e||{})}class kY{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:u};const d=i??SY.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=RY(o.webauthn.credential_options.publicKey,s?.create),{data:g,error:x}=await OY({publicKey:f,signal:d});return g?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const f=jY(o.webauthn.credential_options.publicKey,s?.request),{data:g,error:x}=await NY(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return g?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new zc("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new kp("rpId is required for WebAuthn authentication")};try{if(!$P())return{data:null,error:new zc("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new zc("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new kp("rpId is required for WebAuthn registration")};try{if(!$P())return{data:null,error:new zc("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new zc("Unexpected error in register",o)}}}}gY();const MY={url:IX,storageKey:PX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function VP(t,e,r){return await r()}const cd={};class Mp{get jwks(){var e,r;return(r=(e=cd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){cd[this.storageKey]=Object.assign(Object.assign({},cd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=cd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cd[this.storageKey]=Object.assign(Object.assign({},cd[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},MY),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Mp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Mp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ei()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hY({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=W5(s.fetch),this.lock=s.lock||VP,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Ei()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=mY:this.lock=VP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:z5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=UP(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=UP(this.memoryStorage)),Ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ei()&&(r=GX(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ei()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),BX(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return bt(r)?this._returnResult({error:r}):this._returnResult({error:new zc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ya}),{data:o,error:u}=s;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(bt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:g,password:x,options:_}=e;let T=null,O=null;this.flowType==="pkce"&&([T,O]=await ad(this.storage,this.storageKey)),s=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:g,password:x,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:T,code_challenge_method:O},xform:ya})}else if("phone"in e){const{phone:g,password:x,options:_}=e;s=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(n=_?.data)!==null&&n!==void 0?n:{},channel:(i=_?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:ya})}else throw new g0("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u||!o)return await _i(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await _i(this.storage,`${this.storageKey}-code-verifier`),bt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:u}=e;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:BP})}else if("phone"in e){const{phone:s,password:o,options:u}=e;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:BP})}else throw new g0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new sd;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,u,d,f,g,x,_;let T,O;if("message"in e)T=e.message,O=e.signature;else{const{chain:E,wallet:A,statement:R,options:P}=e;let I;if(Ei())if(typeof A=="object")I=A;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")I=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=A}const D=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href),L=await I.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=G5(L[0]);let U=(n=P?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!U){const W=await I.request({method:"eth_chainId"});U=yY(W)}const H={domain:D.host,address:F,statement:R,uri:D.href,version:"1",chainId:U,nonce:(i=P?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=P?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=P?.signInWithEthereum)===null||g===void 0?void 0:g.resources};T=xY(H),O=await I.request({method:"personal_sign",params:[vY(T),F]})}try{const{data:E,error:A}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:O},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ya});if(A)throw A;if(!E||!E.session||!E.user){const R=new sd;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(bt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,n,i,s,o,u,d,f,g,x,_,T;let O,E;if("message"in e)O=e.message,E=e.signature;else{const{chain:A,wallet:R,statement:P,options:I}=e;let D;if(Ei())if(typeof R=="object")D=R;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))D=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=R}const L=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const F=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),P?{statement:P}:null));let U;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")U=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)U=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)O=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),E=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${L.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(n=I?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((o=I?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((d=I?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((f=I?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((x=(g=I?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...I.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const F=await D.signMessage(new TextEncoder().encode(O),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=F}}try{const{data:A,error:R}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Hc(E)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:ya});if(R)throw R;if(!A||!A.session||!A.user){const P=new sd;return this._returnResult({data:{user:null,session:null},error:P})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:R})}catch(A){if(bt(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const r=await Mc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new FX;const{data:s,error:o}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ya});if(await _i(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const u=new sd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await _i(this.storage,`${this.storageKey}-code-verifier`),bt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,u=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ya}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const g=new sd;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:u,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ad(this.storage,this.storageKey));const{error:x}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:g}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new g0("You must provide either an email or phone number.")}catch(u){if(await _i(this.storage,`${this.storageKey}-code-verifier`),bt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ya});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(bt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ad(this.storage,this.storageKey));const f=await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:uY});return!((s=f.data)===null||s===void 0)&&s.url&&Ei()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await _i(this.storage,`${this.storageKey}-code-verifier`),bt(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new _s;const{error:i}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(bt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:u}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:u})}throw new g0("You must provide either an email or phone number and a type")}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Mc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Iw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Mc(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=jw()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=aY(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fl}):await this._useSession(async r=>{var n,i,s;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _s}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Fl})})}catch(r){if(bt(r))return LX(r)&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new _s;const o=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await ad(this.storage,this.storageKey));const{data:f,error:g}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Fl});if(g)throw g;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await _i(this.storage,`${this.storageKey}-code-verifier`),bt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _s;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=Rw(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(bt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:u}=r;if(u)throw u;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new _s;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ei())throw new y0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new y0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new PP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new y0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new PP("No code detected.");const{data:P,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:u,expires_at:d,token_type:f}=e;if(!s||!u||!o||!f)throw new y0("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(u);let _=g+x;d&&(_=parseInt(d));const T=_-g;T*1e3<=vd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${x}s`);const O=_-x;g-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,_,g):g-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,_,g);const{data:E,error:A}=await this._getUser(s);if(A)throw A;const R={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:x,expires_at:_,refresh_token:o,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(n){if(bt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Mc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(DX(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=HX(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ad(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await _i(this.storage,`${this.storageKey}-code-verifier`),bt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,u,d,f,g;const{data:x,error:_}=s;if(_)throw _;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",T,{headers:this.headers,jwt:(g=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Ei()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(bt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:u,token:d,access_token:f,nonce:g}=e,x=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:ya}),{data:_,error:T}=x;return T?this._returnResult({data:{user:null,session:null},error:T}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new sd}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:T}))}catch(i){if(await _i(this.storage,`${this.storageKey}-code-verifier`),bt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await YX(async i=>(i>0&&await XX(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ya})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Pw(s)&&Date.now()+o-n<vd})}catch(n){if(this._debug(r,"error",n),bt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ei()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Mc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Mc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await xd(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:jw()}else if(i&&!i.user&&!i.user){const o=await Mc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await _i(this.storage,this.storageKey+"-user"),await xd(this.storage,this.storageKey,i)):i.user=jw()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Iw;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Iw}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Pw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new _s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new D1;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new _s;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),bt(s)){const o={data:null,error:s};return Pw(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(o),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _i(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await xd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=DP(i);await xd(this.storage,this.storageKey,s)}else{const i=DP(r);await xd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _i(this.storage,this.storageKey),await _i(this.storage,this.storageKey+"-code-verifier"),await _i(this.storage,this.storageKey+"-user"),this.userStorage&&await _i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ei()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/vd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vd}ms, refresh threshold is ${EE} ticks`),i<=EE&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof H5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ei()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await ad(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await jt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?CY(e.webauthn.credential_response):TY(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:EY(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:AY(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Rw(n.access_token);let o=null;s.aal&&(o=s.aal);let u=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=s.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await jt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new _s})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new _s});const o=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Ei()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new _s});const o=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Ei()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await jt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new _s})})}catch(e){if(bt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await jt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _s})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+kX>i)return n;const{data:s,error:o}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:T,error:O}=await this.getSession();if(O||!T.session)return this._returnResult({data:null,error:O});n=T.session.access_token}const{header:i,payload:s,signature:o,raw:{header:u,payload:d}}=Rw(n);r?.allowExpired||nY(s.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:T}=await this.getUser(n);if(T)throw T;return{data:{claims:s,header:i,signature:o},error:null}}const g=iY(i.alg),x=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,o,zX(`${u}.${d}`)))throw new TE("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}}Mp.nextInstanceID={};const DY=Mp,LY="2.91.1";let sp="";typeof Deno<"u"?sp="deno":typeof document<"u"?sp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sp="react-native":sp="node";const BY={"X-Client-Info":`supabase-js-${sp}/${LY}`},FY={headers:BY},UY={schema:"public"},$Y={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VY={};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function qY(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zY(t){var e=qY(t,"string");return Dp(e)=="symbol"?e:e+""}function WY(t,e,r){return(e=zY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){WY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const HY=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GY=()=>Headers,KY=(t,e,r)=>{const n=HY(r),i=GY();return async(s,o)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let f=new i(o?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(s,Sn(Sn({},o),{},{headers:f}))}};function XY(t){return t.endsWith("/")?t:t+"/"}function YY(t,e){var r,n;const{db:i,auth:s,realtime:o,global:u}=t,{db:d,auth:f,realtime:g,global:x}=e,_={db:Sn(Sn({},d),i),auth:Sn(Sn({},f),s),realtime:Sn(Sn({},g),o),storage:{},global:Sn(Sn(Sn({},x),u),{},{headers:Sn(Sn({},(r=x?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function ZY(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XY(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var QY=class extends DY{constructor(t){super(t)}},JY=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=ZY(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:UY,realtime:VY,auth:Sn(Sn({},$Y),{},{storageKey:o}),global:FY},d=YY(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=KY(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Sn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new RK(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new NX(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new TK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:u,debug:d,throwOnError:f},g,x){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QY({url:this.authUrl.href,headers:Sn(Sn({},_),g),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:u,debug:d,throwOnError:f,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new XK(this.realtimeUrl.href,Sn(Sn({},t),{},{params:Sn(Sn({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const eZ=(t,e,r)=>new JY(t,e,r);function tZ(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}tZ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rZ=void 0,nZ=void 0;throw new Error("Missing Supabase environment variables. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");const St=eZ(rZ,nZ),ny="attendance_user";function zP(){try{const t=localStorage.getItem(ny);if(t)return JSON.parse(t)}catch{localStorage.removeItem(ny)}return null}function Mw(t){t?localStorage.setItem(ny,JSON.stringify(t)):localStorage.removeItem(ny)}function $i(){const t=Qi(),[,e]=vu(),{toast:r}=hi(),{data:n,isLoading:i}=La({queryKey:["auth-user"],queryFn:async()=>zP(),retry:!1,staleTime:1/0}),s=Ds({mutationFn:async d=>{const{identifier:f,password:g}=d,x=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({identifier:f,password:g})});if(!x.ok){const O=await x.json().catch(()=>({}));throw new Error(O.message||"Invalid email/ID number or password")}const _=await x.json();return{id:_.id,idNumber:_.idNumber||_.id_number,email:_.email,password:"",fullName:_.fullName||_.full_name,role:_.role,profilePicture:_.profilePicture||_.profile_picture||null,createdAt:_.createdAt||_.created_at?new Date(_.createdAt||_.created_at):null}},onSuccess:d=>{Mw(d),t.setQueryData(["auth-user"],d),r({title:"Welcome back!",description:`Logged in as ${d.fullName}`}),e("/dashboard")},onError:d=>{r({title:"Login Failed",description:d.message,variant:"destructive"})}}),o=Ds({mutationFn:async()=>{Mw(null);try{await fetch("/api/logout",{method:"POST",credentials:"include"})}catch(d){console.warn("Express logout failed (non-blocking):",d)}return Promise.resolve()},onSuccess:()=>{t.setQueryData(["auth-user"],null),t.clear(),e("/login"),r({title:"Logged out",description:"See you next time!"})}}),u=async()=>{const d=zP();if(d?.id){const{data:f}=await St.from("users").select("id, id_number, email, full_name, role, profile_picture, created_at").eq("id",d.id).single();if(f){const g={id:f.id,idNumber:f.id_number,email:f.email,password:"",fullName:f.full_name,role:f.role,profilePicture:f.profile_picture,createdAt:f.created_at?new Date(f.created_at):null};Mw(g),t.setQueryData(["auth-user"],g)}}};return{user:n,isLoading:i,login:s.mutate,isLoggingIn:s.isPending,logout:o.mutate,isLoggingOut:o.isPending,refreshUser:u}}const jl={schoolName:"Robotics and Automation Solutions",systemTitle:"Erovoutika",tagline:"One-Stop-Shop Innovation Solutions",primaryColor:"#00008B",secondaryColor:"#ffffff",logoUrl:"/Logo.webp",faviconUrl:"/favicon.png",theme:"light",fontFamily:"inter"},X5=M.createContext(void 0),zh="attended-system-settings";function Dw(t){const e={...t},r=n=>{if(!n)return n;const i=n.match(/\/client\/public\/(.+)$/);return i?`/${i[1]}`:n};return e.logoUrl&&(e.logoUrl=r(e.logoUrl)),e.faviconUrl&&(e.faviconUrl=r(e.faviconUrl)),e}function WP(t){t=t.replace(/^#/,"");const e=parseInt(t.substring(0,2),16)/255,r=parseInt(t.substring(2,4),16)/255,n=parseInt(t.substring(4,6),16)/255,i=Math.max(e,r,n),s=Math.min(e,r,n);let o=0,u=0;const d=(i+s)/2;if(i!==s){const f=i-s;switch(u=d>.5?f/(2-i-s):f/(i+s),i){case e:o=((r-n)/f+(r<n?6:0))/6;break;case r:o=((n-e)/f+2)/6;break;case n:o=((e-r)/f+4)/6;break}}return`${Math.round(o*360)} ${Math.round(u*100)}% ${Math.round(d*100)}%`}function iZ(t){const e=document.documentElement,r=WP(t.primaryColor),n=WP(t.secondaryColor),s=r.split(" ")[0];e.style.setProperty("--primary",r),e.style.setProperty("--primary-foreground","0 0% 100%"),e.style.setProperty("--secondary",`${s} 30% 96%`),e.style.setProperty("--secondary-foreground",r),e.style.setProperty("--accent",n),e.style.setProperty("--accent-foreground","0 0% 100%"),e.style.setProperty("--ring",r),e.style.setProperty("--primary-hex",t.primaryColor),e.style.setProperty("--secondary-hex",t.secondaryColor)}function HP(t){const e=document.documentElement;if(t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches;e.classList.toggle("dark",r)}else e.classList.toggle("dark",t==="dark")}function sZ(t){const e=document.documentElement,r={inter:'"Inter", sans-serif',roboto:'"Roboto", sans-serif',poppins:'"Poppins", sans-serif',"open-sans":'"Open Sans", sans-serif'};e.style.setProperty("--font-sans",r[t]||r.inter)}function aZ(t){if(!t)return;let e=document.querySelector("link[rel~='icon']");e||(e=document.createElement("link"),e.rel="icon",document.head.appendChild(e)),e.href=t}function oZ({children:t}){const[e,r]=M.useState(jl),[n,i]=M.useState(!0);M.useEffect(()=>{(async()=>{try{const{data:d,error:f}=await St.from("system_settings").select("key, value");if(!f&&d&&d.length>0){const g={};d.forEach(_=>{const T=_.key;T in jl&&(g[T]=_.value)});const x=Dw(g);r({...jl,...x}),localStorage.setItem(zh,JSON.stringify({...jl,...x}))}else{const g=localStorage.getItem(zh);if(g){const x=JSON.parse(g),_=Dw(x);r({...jl,..._})}}}catch(d){console.error("Failed to load system settings from database:",d);try{const f=localStorage.getItem(zh);if(f){const g=JSON.parse(f),x=Dw(g);r({...jl,...x})}}catch(f){console.error("Failed to load system settings from localStorage:",f)}}i(!1)})()},[]),M.useEffect(()=>{n||(iZ(e),HP(e.theme),sZ(e.fontFamily),aZ(e.faviconUrl),document.title=`${e.systemTitle} - ${e.schoolName}`)},[e,n]),M.useEffect(()=>{if(e.theme!=="system")return;const u=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>HP("system");return u.addEventListener("change",d),()=>u.removeEventListener("change",d)},[e.theme]);const s=M.useCallback(async u=>{const d={...e,...u};r(d);try{localStorage.setItem(zh,JSON.stringify(d))}catch(f){console.error("Failed to save to localStorage:",f)}try{const f=Object.entries(u);for(const[g,x]of f){const{error:_}=await St.from("system_settings").upsert({key:g,value:String(x),updated_at:new Date().toISOString()},{onConflict:"key"});_&&console.error(`Failed to save setting ${g}:`,_)}}catch(f){console.error("Failed to save system settings to database:",f)}},[e]),o=M.useCallback(async()=>{r(jl);try{localStorage.removeItem(zh)}catch(u){console.error("Failed to clear localStorage:",u)}try{const u=Object.entries(jl);for(const[d,f]of u){const{error:g}=await St.from("system_settings").upsert({key:d,value:String(f),updated_at:new Date().toISOString()},{onConflict:"key"});g&&console.error(`Failed to reset setting ${d}:`,g)}}catch(u){console.error("Failed to reset system settings in database:",u)}},[]);return m.jsx(X5.Provider,{value:{settings:e,updateSettings:s,resetSettings:o,isLoading:n},children:t})}function Vf(){const t=M.useContext(X5);if(t===void 0)throw new Error("useSystemSettings must be used within a SystemSettingsProvider");return t}var $m=t=>t.type==="checkbox",Gc=t=>t instanceof Date,Hi=t=>t==null;const Y5=t=>typeof t=="object";var jn=t=>!Hi(t)&&!Array.isArray(t)&&Y5(t)&&!Gc(t),Z5=t=>jn(t)&&t.target?$m(t.target)?t.target.checked:t.target.value:t,lZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Q5=(t,e)=>t.has(lZ(e)),cZ=t=>{const e=t.constructor&&t.constructor.prototype;return jn(e)&&e.hasOwnProperty("isPrototypeOf")},ZC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ai(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ZC&&(t instanceof Blob||n))&&(r||jn(t)))if(e=r?[]:{},!r&&!cZ(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ai(t[i]));else return t;return e}var L1=t=>Array.isArray(t)?t.filter(Boolean):[],Pn=t=>t===void 0,it=(t,e,r)=>{if(!e||!jn(t))return r;const n=L1(e.split(/[,[\].]+?/)).reduce((i,s)=>Hi(i)?i:i[s],t);return Pn(n)||n===t?Pn(t[e])?r:t[e]:n},Cs=t=>typeof t=="boolean",QC=t=>/^\w*$/.test(t),J5=t=>L1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Er=(t,e,r)=>{let n=-1;const i=QC(e)?[e]:J5(e),s=i.length,o=s-1;for(;++n<s;){const u=i[n];let d=r;if(n!==o){const f=t[u];d=jn(f)||Array.isArray(f)?f:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}};const iy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Aa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},No={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eL=oe.createContext(null),B1=()=>oe.useContext(eL),uZ=t=>{const{children:e,...r}=t;return oe.createElement(eL.Provider,{value:r},e)};var tL=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Aa.all&&(e._proxyFormState[o]=!n||Aa.all),r&&(r[o]=!0),t[o]}});return i};function dZ(t){const e=B1(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[o,u]=oe.useState(r._formState),d=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=oe.useRef(i);return f.current=i,oe.useEffect(()=>r._subscribe({name:f.current,formState:d.current,exact:s,callback:g=>{!n&&u({...r._formState,...g})}}),[r,n,s]),oe.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),oe.useMemo(()=>tL(o,r,d.current,!1),[o,r])}var Ya=t=>typeof t=="string",rL=(t,e,r,n,i)=>Ya(t)?(n&&e.watch.add(t),it(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),it(r,s))):(n&&(e.watchAll=!0),r);function fZ(t){const e=B1(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:o}=t||{},u=oe.useRef(n),d=oe.useRef(i);u.current=n,oe.useEffect(()=>r._subscribe({name:u.current,formState:{values:!0},exact:o,callback:x=>!s&&g(rL(u.current,r._names,x.values||r._formValues,!1,d.current))}),[r,s,o]);const[f,g]=oe.useState(r._getWatch(n,i));return oe.useEffect(()=>r._removeUnmounted()),f}function hZ(t){const e=B1(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,o=Q5(i._names.array,r),u=fZ({control:i,name:r,defaultValue:it(i._formValues,r,it(i._defaultValues,r,t.defaultValue)),exact:!0}),d=dZ({control:i,name:r,exact:!0}),f=oe.useRef(t),g=oe.useRef(i.register(r,{...t.rules,value:u,...Cs(t.disabled)?{disabled:t.disabled}:{}})),x=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!it(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!it(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!it(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!it(d.validatingFields,r)},error:{enumerable:!0,get:()=>it(d.errors,r)}}),[d,r]),_=oe.useCallback(A=>g.current.onChange({target:{value:Z5(A),name:r},type:iy.CHANGE}),[r]),T=oe.useCallback(()=>g.current.onBlur({target:{value:it(i._formValues,r),name:r},type:iy.BLUR}),[r,i._formValues]),O=oe.useCallback(A=>{const R=it(i._fields,r);R&&A&&(R._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:P=>A.setCustomValidity(P),reportValidity:()=>A.reportValidity()})},[i._fields,r]),E=oe.useMemo(()=>({name:r,value:u,...Cs(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:_,onBlur:T,ref:O}),[r,n,d.disabled,_,T,O,u]);return oe.useEffect(()=>{const A=i._options.shouldUnregister||s;i.register(r,{...f.current.rules,...Cs(f.current.disabled)?{disabled:f.current.disabled}:{}});const R=(P,I)=>{const D=it(i._fields,P);D&&D._f&&(D._f.mount=I)};if(R(r,!0),A){const P=Ai(it(i._options.defaultValues,r));Er(i._defaultValues,r,P),Pn(it(i._formValues,r))&&Er(i._formValues,r,P)}return!o&&i.register(r),()=>{(o?A&&!i._state.action:A)?i.unregister(r):R(r,!1)}},[r,i,o,s]),oe.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),oe.useMemo(()=>({field:E,formState:d,fieldState:x}),[E,d,x])}const pZ=t=>t.render(hZ(t));var nL=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},yp=t=>Array.isArray(t)?t:[t],GP=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},OE=t=>Hi(t)||!Y5(t);function Ul(t,e){if(OE(t)||OE(e))return t===e;if(Gc(t)&&Gc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Gc(s)&&Gc(o)||jn(s)&&jn(o)||Array.isArray(s)&&Array.isArray(o)?!Ul(s,o):s!==o)return!1}}return!0}var Wi=t=>jn(t)&&!Object.keys(t).length,JC=t=>t.type==="file",Ca=t=>typeof t=="function",sy=t=>{if(!ZC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},iL=t=>t.type==="select-multiple",eT=t=>t.type==="radio",mZ=t=>eT(t)||$m(t),Lw=t=>sy(t)&&t.isConnected;function gZ(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Pn(t)?n++:t[e[n++]];return t}function yZ(t){for(const e in t)if(t.hasOwnProperty(e)&&!Pn(t[e]))return!1;return!0}function Zn(t,e){const r=Array.isArray(e)?e:QC(e)?[e]:J5(e),n=r.length===1?t:gZ(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(jn(n)&&Wi(n)||Array.isArray(n)&&yZ(n))&&Zn(t,r.slice(0,-1)),t}var sL=t=>{for(const e in t)if(Ca(t[e]))return!0;return!1};function ay(t,e={}){const r=Array.isArray(t);if(jn(t)||r)for(const n in t)Array.isArray(t[n])||jn(t[n])&&!sL(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ay(t[n],e[n])):Hi(t[n])||(e[n]=!0);return e}function aL(t,e,r){const n=Array.isArray(t);if(jn(t)||n)for(const i in t)Array.isArray(t[i])||jn(t[i])&&!sL(t[i])?Pn(e)||OE(r[i])?r[i]=Array.isArray(t[i])?ay(t[i],[]):{...ay(t[i])}:aL(t[i],Hi(e)?{}:e[i],r[i]):r[i]=!Ul(t[i],e[i]);return r}var Wh=(t,e)=>aL(t,e,ay(e));const KP={value:!1,isValid:!1},XP={value:!0,isValid:!0};var oL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Pn(t[0].attributes.value)?Pn(t[0].value)||t[0].value===""?XP:{value:t[0].value,isValid:!0}:XP:KP}return KP},lL=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Pn(t)?t:e?t===""?NaN:t&&+t:r&&Ya(t)?new Date(t):n?n(t):t;const YP={isValid:!1,value:null};var cL=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,YP):YP;function ZP(t){const e=t.ref;return JC(e)?e.files:eT(e)?cL(t.refs).value:iL(e)?[...e.selectedOptions].map(({value:r})=>r):$m(e)?oL(t.refs).value:lL(Pn(e.value)?t.ref.value:e.value,t)}var vZ=(t,e,r,n)=>{const i={};for(const s of t){const o=it(e,s);o&&Er(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},oy=t=>t instanceof RegExp,Hh=t=>Pn(t)?t:oy(t)?t.source:jn(t)?oy(t.value)?t.value.source:t.value:t,QP=t=>({isOnSubmit:!t||t===Aa.onSubmit,isOnBlur:t===Aa.onBlur,isOnChange:t===Aa.onChange,isOnAll:t===Aa.all,isOnTouch:t===Aa.onTouched});const JP="AsyncFunction";var xZ=t=>!!t&&!!t.validate&&!!(Ca(t.validate)&&t.validate.constructor.name===JP||jn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===JP)),wZ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),e3=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const vp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=it(t,i);if(s){const{_f:o,...u}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(vp(u,e))break}else if(jn(u)&&vp(u,e))break}}};function t3(t,e,r){const n=it(t,r);if(n||QC(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=it(e,s),u=it(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(u&&u.type)return{name:s,error:u};i.pop()}return{name:r}}var bZ=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Wi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Aa.all))},_Z=(t,e,r)=>!t||!e||t===e||yp(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),SZ=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,EZ=(t,e)=>!L1(it(t,e)).length&&Zn(t,e),AZ=(t,e,r)=>{const n=yp(it(t,r));return Er(n,"root",e[r]),Er(t,r,n),t},U0=t=>Ya(t);function r3(t,e,r="validate"){if(U0(t)||Array.isArray(t)&&t.every(U0)||Cs(t)&&!t)return{type:r,message:U0(t)?t:"",ref:e}}var ud=t=>jn(t)&&!oy(t)?t:{value:t,message:""},n3=async(t,e,r,n,i,s)=>{const{ref:o,refs:u,required:d,maxLength:f,minLength:g,min:x,max:_,pattern:T,validate:O,name:E,valueAsNumber:A,mount:R}=t._f,P=it(r,E);if(!R||e.has(E))return{};const I=u?u[0]:o,D=z=>{i&&I.reportValidity&&(I.setCustomValidity(Cs(z)?"":z||""),I.reportValidity())},L={},F=eT(o),U=$m(o),H=F||U,W=(A||JC(o))&&Pn(o.value)&&Pn(P)||sy(o)&&o.value===""||P===""||Array.isArray(P)&&!P.length,ce=nL.bind(null,E,n,L),K=(z,Z,Q,Y=No.maxLength,J=No.minLength)=>{const re=z?Z:Q;L[E]={type:z?Y:J,message:re,ref:o,...ce(z?Y:J,re)}};if(s?!Array.isArray(P)||!P.length:d&&(!H&&(W||Hi(P))||Cs(P)&&!P||U&&!oL(u).isValid||F&&!cL(u).isValid)){const{value:z,message:Z}=U0(d)?{value:!!d,message:d}:ud(d);if(z&&(L[E]={type:No.required,message:Z,ref:I,...ce(No.required,Z)},!n))return D(Z),L}if(!W&&(!Hi(x)||!Hi(_))){let z,Z;const Q=ud(_),Y=ud(x);if(!Hi(P)&&!isNaN(P)){const J=o.valueAsNumber||P&&+P;Hi(Q.value)||(z=J>Q.value),Hi(Y.value)||(Z=J<Y.value)}else{const J=o.valueAsDate||new Date(P),re=me=>new Date(new Date().toDateString()+" "+me),ie=o.type=="time",se=o.type=="week";Ya(Q.value)&&P&&(z=ie?re(P)>re(Q.value):se?P>Q.value:J>new Date(Q.value)),Ya(Y.value)&&P&&(Z=ie?re(P)<re(Y.value):se?P<Y.value:J<new Date(Y.value))}if((z||Z)&&(K(!!z,Q.message,Y.message,No.max,No.min),!n))return D(L[E].message),L}if((f||g)&&!W&&(Ya(P)||s&&Array.isArray(P))){const z=ud(f),Z=ud(g),Q=!Hi(z.value)&&P.length>+z.value,Y=!Hi(Z.value)&&P.length<+Z.value;if((Q||Y)&&(K(Q,z.message,Z.message),!n))return D(L[E].message),L}if(T&&!W&&Ya(P)){const{value:z,message:Z}=ud(T);if(oy(z)&&!P.match(z)&&(L[E]={type:No.pattern,message:Z,ref:o,...ce(No.pattern,Z)},!n))return D(Z),L}if(O){if(Ca(O)){const z=await O(P,r),Z=r3(z,I);if(Z&&(L[E]={...Z,...ce(No.validate,Z.message)},!n))return D(Z.message),L}else if(jn(O)){let z={};for(const Z in O){if(!Wi(z)&&!n)break;const Q=r3(await O[Z](P,r),I,Z);Q&&(z={...Q,...ce(Z,Q.message)},D(Q.message),n&&(L[E]=z))}if(!Wi(z)&&(L[E]={ref:I,...z},!n))return L}}return D(!0),L};const CZ={mode:Aa.onSubmit,reValidateMode:Aa.onChange,shouldFocusError:!0};function TZ(t={}){let e={...CZ,...t},r={submitCount:0,isDirty:!1,isLoading:Ca(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=jn(e.defaultValues)||jn(e.values)?Ai(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:Ai(i),o={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...g};const _={array:GP(),state:GP()},T=QP(e.mode),O=QP(e.reValidateMode),E=e.criteriaMode===Aa.all,A=le=>xe=>{clearTimeout(f),f=setTimeout(le,xe)},R=async le=>{if(!e.disabled&&(g.isValid||x.isValid||le)){const xe=e.resolver?Wi((await W()).errors):await K(n,!0);xe!==r.isValid&&_.state.next({isValid:xe})}},P=(le,xe)=>{!e.disabled&&(g.isValidating||g.validatingFields||x.isValidating||x.validatingFields)&&((le||Array.from(u.mount)).forEach(Ae=>{Ae&&(xe?Er(r.validatingFields,Ae,xe):Zn(r.validatingFields,Ae))}),_.state.next({validatingFields:r.validatingFields,isValidating:!Wi(r.validatingFields)}))},I=(le,xe=[],Ae,tt,Ge=!0,We=!0)=>{if(tt&&Ae&&!e.disabled){if(o.action=!0,We&&Array.isArray(it(n,le))){const nt=Ae(it(n,le),tt.argA,tt.argB);Ge&&Er(n,le,nt)}if(We&&Array.isArray(it(r.errors,le))){const nt=Ae(it(r.errors,le),tt.argA,tt.argB);Ge&&Er(r.errors,le,nt),EZ(r.errors,le)}if((g.touchedFields||x.touchedFields)&&We&&Array.isArray(it(r.touchedFields,le))){const nt=Ae(it(r.touchedFields,le),tt.argA,tt.argB);Ge&&Er(r.touchedFields,le,nt)}(g.dirtyFields||x.dirtyFields)&&(r.dirtyFields=Wh(i,s)),_.state.next({name:le,isDirty:Z(le,xe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Er(s,le,xe)},D=(le,xe)=>{Er(r.errors,le,xe),_.state.next({errors:r.errors})},L=le=>{r.errors=le,_.state.next({errors:r.errors,isValid:!1})},F=(le,xe,Ae,tt)=>{const Ge=it(n,le);if(Ge){const We=it(s,le,Pn(Ae)?it(i,le):Ae);Pn(We)||tt&&tt.defaultChecked||xe?Er(s,le,xe?We:ZP(Ge._f)):J(le,We),o.mount&&R()}},U=(le,xe,Ae,tt,Ge)=>{let We=!1,nt=!1;const Nt={name:le};if(!e.disabled){if(!Ae||tt){(g.isDirty||x.isDirty)&&(nt=r.isDirty,r.isDirty=Nt.isDirty=Z(),We=nt!==Nt.isDirty);const Cr=Ul(it(i,le),xe);nt=!!it(r.dirtyFields,le),Cr?Zn(r.dirtyFields,le):Er(r.dirtyFields,le,!0),Nt.dirtyFields=r.dirtyFields,We=We||(g.dirtyFields||x.dirtyFields)&&nt!==!Cr}if(Ae){const Cr=it(r.touchedFields,le);Cr||(Er(r.touchedFields,le,Ae),Nt.touchedFields=r.touchedFields,We=We||(g.touchedFields||x.touchedFields)&&Cr!==Ae)}We&&Ge&&_.state.next(Nt)}return We?Nt:{}},H=(le,xe,Ae,tt)=>{const Ge=it(r.errors,le),We=(g.isValid||x.isValid)&&Cs(xe)&&r.isValid!==xe;if(e.delayError&&Ae?(d=A(()=>D(le,Ae)),d(e.delayError)):(clearTimeout(f),d=null,Ae?Er(r.errors,le,Ae):Zn(r.errors,le)),(Ae?!Ul(Ge,Ae):Ge)||!Wi(tt)||We){const nt={...tt,...We&&Cs(xe)?{isValid:xe}:{},errors:r.errors,name:le};r={...r,...nt},_.state.next(nt)}},W=async le=>{P(le,!0);const xe=await e.resolver(s,e.context,vZ(le||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return P(le),xe},ce=async le=>{const{errors:xe}=await W(le);if(le)for(const Ae of le){const tt=it(xe,Ae);tt?Er(r.errors,Ae,tt):Zn(r.errors,Ae)}else r.errors=xe;return xe},K=async(le,xe,Ae={valid:!0})=>{for(const tt in le){const Ge=le[tt];if(Ge){const{_f:We,...nt}=Ge;if(We){const Nt=u.array.has(We.name),Cr=Ge._f&&xZ(Ge._f);Cr&&g.validatingFields&&P([tt],!0);const kr=await n3(Ge,u.disabled,s,E,e.shouldUseNativeValidation&&!xe,Nt);if(Cr&&g.validatingFields&&P([tt]),kr[We.name]&&(Ae.valid=!1,xe))break;!xe&&(it(kr,We.name)?Nt?AZ(r.errors,kr,We.name):Er(r.errors,We.name,kr[We.name]):Zn(r.errors,We.name))}!Wi(nt)&&await K(nt,xe,Ae)}}return Ae.valid},z=()=>{for(const le of u.unMount){const xe=it(n,le);xe&&(xe._f.refs?xe._f.refs.every(Ae=>!Lw(Ae)):!Lw(xe._f.ref))&&Te(le)}u.unMount=new Set},Z=(le,xe)=>!e.disabled&&(le&&xe&&Er(s,le,xe),!Ul(ue(),i)),Q=(le,xe,Ae)=>rL(le,u,{...o.mount?s:Pn(xe)?i:Ya(le)?{[le]:xe}:xe},Ae,xe),Y=le=>L1(it(o.mount?s:i,le,e.shouldUnregister?it(i,le,[]):[])),J=(le,xe,Ae={})=>{const tt=it(n,le);let Ge=xe;if(tt){const We=tt._f;We&&(!We.disabled&&Er(s,le,lL(xe,We)),Ge=sy(We.ref)&&Hi(xe)?"":xe,iL(We.ref)?[...We.ref.options].forEach(nt=>nt.selected=Ge.includes(nt.value)):We.refs?$m(We.ref)?We.refs.length>1?We.refs.forEach(nt=>(!nt.defaultChecked||!nt.disabled)&&(nt.checked=Array.isArray(Ge)?!!Ge.find(Nt=>Nt===nt.value):Ge===nt.value)):We.refs[0]&&(We.refs[0].checked=!!Ge):We.refs.forEach(nt=>nt.checked=nt.value===Ge):JC(We.ref)?We.ref.value="":(We.ref.value=Ge,We.ref.type||_.state.next({name:le,values:Ai(s)})))}(Ae.shouldDirty||Ae.shouldTouch)&&U(le,Ge,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&ne(le)},re=(le,xe,Ae)=>{for(const tt in xe){const Ge=xe[tt],We=`${le}.${tt}`,nt=it(n,We);(u.array.has(le)||jn(Ge)||nt&&!nt._f)&&!Gc(Ge)?re(We,Ge,Ae):J(We,Ge,Ae)}},ie=(le,xe,Ae={})=>{const tt=it(n,le),Ge=u.array.has(le),We=Ai(xe);Er(s,le,We),Ge?(_.array.next({name:le,values:Ai(s)}),(g.isDirty||g.dirtyFields||x.isDirty||x.dirtyFields)&&Ae.shouldDirty&&_.state.next({name:le,dirtyFields:Wh(i,s),isDirty:Z(le,We)})):tt&&!tt._f&&!Hi(We)?re(le,We,Ae):J(le,We,Ae),e3(le,u)&&_.state.next({...r}),_.state.next({name:o.mount?le:void 0,values:Ai(s)})},se=async le=>{o.mount=!0;const xe=le.target;let Ae=xe.name,tt=!0;const Ge=it(n,Ae),We=nt=>{tt=Number.isNaN(nt)||Gc(nt)&&isNaN(nt.getTime())||Ul(nt,it(s,Ae,nt))};if(Ge){let nt,Nt;const Cr=xe.type?ZP(Ge._f):Z5(le),kr=le.type===iy.BLUR||le.type===iy.FOCUS_OUT,eh=!wZ(Ge._f)&&!e.resolver&&!it(r.errors,Ae)&&!Ge._f.deps||SZ(kr,it(r.touchedFields,Ae),r.isSubmitted,O,T),Mr=e3(Ae,u,kr);Er(s,Ae,Cr),kr?(Ge._f.onBlur&&Ge._f.onBlur(le),d&&d(0)):Ge._f.onChange&&Ge._f.onChange(le);const Ye=U(Ae,Cr,kr),cn=!Wi(Ye)||Mr;if(!kr&&_.state.next({name:Ae,type:le.type,values:Ai(s)}),eh)return(g.isValid||x.isValid)&&(e.mode==="onBlur"?kr&&R():kr||R()),cn&&_.state.next({name:Ae,...Mr?{}:Ye});if(!kr&&Mr&&_.state.next({...r}),e.resolver){const{errors:dr}=await W([Ae]);if(We(Cr),tt){const Ir=t3(r.errors,n,Ae),Bs=t3(dr,n,Ir.name||Ae);nt=Bs.error,Ae=Bs.name,Nt=Wi(dr)}}else P([Ae],!0),nt=(await n3(Ge,u.disabled,s,E,e.shouldUseNativeValidation))[Ae],P([Ae]),We(Cr),tt&&(nt?Nt=!1:(g.isValid||x.isValid)&&(Nt=await K(n,!0)));tt&&(Ge._f.deps&&ne(Ge._f.deps),H(Ae,Nt,nt,Ye))}},me=(le,xe)=>{if(it(r.errors,xe)&&le.focus)return le.focus(),1},ne=async(le,xe={})=>{let Ae,tt;const Ge=yp(le);if(e.resolver){const We=await ce(Pn(le)?le:Ge);Ae=Wi(We),tt=le?!Ge.some(nt=>it(We,nt)):Ae}else le?(tt=(await Promise.all(Ge.map(async We=>{const nt=it(n,We);return await K(nt&&nt._f?{[We]:nt}:nt)}))).every(Boolean),!(!tt&&!r.isValid)&&R()):tt=Ae=await K(n);return _.state.next({...!Ya(le)||(g.isValid||x.isValid)&&Ae!==r.isValid?{}:{name:le},...e.resolver||!le?{isValid:Ae}:{},errors:r.errors}),xe.shouldFocus&&!tt&&vp(n,me,le?Ge:u.mount),tt},ue=le=>{const xe={...o.mount?s:i};return Pn(le)?xe:Ya(le)?it(xe,le):le.map(Ae=>it(xe,Ae))},be=(le,xe)=>({invalid:!!it((xe||r).errors,le),isDirty:!!it((xe||r).dirtyFields,le),error:it((xe||r).errors,le),isValidating:!!it(r.validatingFields,le),isTouched:!!it((xe||r).touchedFields,le)}),Pe=le=>{le&&yp(le).forEach(xe=>Zn(r.errors,xe)),_.state.next({errors:le?r.errors:{}})},rt=(le,xe,Ae)=>{const tt=(it(n,le,{_f:{}})._f||{}).ref,Ge=it(r.errors,le)||{},{ref:We,message:nt,type:Nt,...Cr}=Ge;Er(r.errors,le,{...Cr,...xe,ref:tt}),_.state.next({name:le,errors:r.errors,isValid:!1}),Ae&&Ae.shouldFocus&&tt&&tt.focus&&tt.focus()},Ie=(le,xe)=>Ca(le)?_.state.subscribe({next:Ae=>le(Q(void 0,xe),Ae)}):Q(le,xe,!0),Re=le=>_.state.subscribe({next:xe=>{_Z(le.name,xe.name,le.exact)&&bZ(xe,le.formState||g,dt,le.reRenderRoot)&&le.callback({values:{...s},...r,...xe})}}).unsubscribe,Be=le=>(o.mount=!0,x={...x,...le.formState},Re({...le,formState:x})),Te=(le,xe={})=>{for(const Ae of le?yp(le):u.mount)u.mount.delete(Ae),u.array.delete(Ae),xe.keepValue||(Zn(n,Ae),Zn(s,Ae)),!xe.keepError&&Zn(r.errors,Ae),!xe.keepDirty&&Zn(r.dirtyFields,Ae),!xe.keepTouched&&Zn(r.touchedFields,Ae),!xe.keepIsValidating&&Zn(r.validatingFields,Ae),!e.shouldUnregister&&!xe.keepDefaultValue&&Zn(i,Ae);_.state.next({values:Ai(s)}),_.state.next({...r,...xe.keepDirty?{isDirty:Z()}:{}}),!xe.keepIsValid&&R()},$e=({disabled:le,name:xe})=>{(Cs(le)&&o.mount||le||u.disabled.has(xe))&&(le?u.disabled.add(xe):u.disabled.delete(xe))},Ve=(le,xe={})=>{let Ae=it(n,le);const tt=Cs(xe.disabled)||Cs(e.disabled);return Er(n,le,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:le}},name:le,mount:!0,...xe}}),u.mount.add(le),Ae?$e({disabled:Cs(xe.disabled)?xe.disabled:e.disabled,name:le}):F(le,!0,xe.value),{...tt?{disabled:xe.disabled||e.disabled}:{},...e.progressive?{required:!!xe.required,min:Hh(xe.min),max:Hh(xe.max),minLength:Hh(xe.minLength),maxLength:Hh(xe.maxLength),pattern:Hh(xe.pattern)}:{},name:le,onChange:se,onBlur:se,ref:Ge=>{if(Ge){Ve(le,xe),Ae=it(n,le);const We=Pn(Ge.value)&&Ge.querySelectorAll&&Ge.querySelectorAll("input,select,textarea")[0]||Ge,nt=mZ(We),Nt=Ae._f.refs||[];if(nt?Nt.find(Cr=>Cr===We):We===Ae._f.ref)return;Er(n,le,{_f:{...Ae._f,...nt?{refs:[...Nt.filter(Lw),We,...Array.isArray(it(i,le))?[{}]:[]],ref:{type:We.type,name:le}}:{ref:We}}}),F(le,!1,void 0,We)}else Ae=it(n,le,{}),Ae._f&&(Ae._f.mount=!1),(e.shouldUnregister||xe.shouldUnregister)&&!(Q5(u.array,le)&&o.action)&&u.unMount.add(le)}}},Ce=()=>e.shouldFocusError&&vp(n,me,u.mount),et=le=>{Cs(le)&&(_.state.next({disabled:le}),vp(n,(xe,Ae)=>{const tt=it(n,Ae);tt&&(xe.disabled=tt._f.disabled||le,Array.isArray(tt._f.refs)&&tt._f.refs.forEach(Ge=>{Ge.disabled=tt._f.disabled||le}))},0,!1))},_t=(le,xe)=>async Ae=>{let tt;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let Ge=Ai(s);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:We,values:nt}=await W();r.errors=We,Ge=nt}else await K(n);if(u.disabled.size)for(const We of u.disabled)Er(Ge,We,void 0);if(Zn(r.errors,"root"),Wi(r.errors)){_.state.next({errors:{}});try{await le(Ge,Ae)}catch(We){tt=We}}else xe&&await xe({...r.errors},Ae),Ce(),setTimeout(Ce);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wi(r.errors)&&!tt,submitCount:r.submitCount+1,errors:r.errors}),tt)throw tt},Ne=(le,xe={})=>{it(n,le)&&(Pn(xe.defaultValue)?ie(le,Ai(it(i,le))):(ie(le,xe.defaultValue),Er(i,le,Ai(xe.defaultValue))),xe.keepTouched||Zn(r.touchedFields,le),xe.keepDirty||(Zn(r.dirtyFields,le),r.isDirty=xe.defaultValue?Z(le,Ai(it(i,le))):Z()),xe.keepError||(Zn(r.errors,le),g.isValid&&R()),_.state.next({...r}))},Ke=(le,xe={})=>{const Ae=le?Ai(le):i,tt=Ai(Ae),Ge=Wi(le),We=Ge?i:tt;if(xe.keepDefaultValues||(i=Ae),!xe.keepValues){if(xe.keepDirtyValues){const nt=new Set([...u.mount,...Object.keys(Wh(i,s))]);for(const Nt of Array.from(nt))it(r.dirtyFields,Nt)?Er(We,Nt,it(s,Nt)):ie(Nt,it(We,Nt))}else{if(ZC&&Pn(le))for(const nt of u.mount){const Nt=it(n,nt);if(Nt&&Nt._f){const Cr=Array.isArray(Nt._f.refs)?Nt._f.refs[0]:Nt._f.ref;if(sy(Cr)){const kr=Cr.closest("form");if(kr){kr.reset();break}}}}for(const nt of u.mount)ie(nt,it(We,nt))}s=Ai(We),_.array.next({values:{...We}}),_.state.next({values:{...We}})}u={mount:xe.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!g.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues,o.watch=!!e.shouldUnregister,_.state.next({submitCount:xe.keepSubmitCount?r.submitCount:0,isDirty:Ge?!1:xe.keepDirty?r.isDirty:!!(xe.keepDefaultValues&&!Ul(le,i)),isSubmitted:xe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ge?{}:xe.keepDirtyValues?xe.keepDefaultValues&&s?Wh(i,s):r.dirtyFields:xe.keepDefaultValues&&le?Wh(i,le):xe.keepDirty?r.dirtyFields:{},touchedFields:xe.keepTouched?r.touchedFields:{},errors:xe.keepErrors?r.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ot=(le,xe)=>Ke(Ca(le)?le(s):le,xe),Ze=(le,xe={})=>{const Ae=it(n,le),tt=Ae&&Ae._f;if(tt){const Ge=tt.refs?tt.refs[0]:tt.ref;Ge.focus&&(Ge.focus(),xe.shouldSelect&&Ca(Ge.select)&&Ge.select())}},dt=le=>{r={...r,...le}},Fe={control:{register:Ve,unregister:Te,getFieldState:be,handleSubmit:_t,setError:rt,_subscribe:Re,_runSchema:W,_getWatch:Q,_getDirty:Z,_setValid:R,_setFieldArray:I,_setDisabledField:$e,_setErrors:L,_getFieldArray:Y,_reset:Ke,_resetDefaultValues:()=>Ca(e.defaultValues)&&e.defaultValues().then(le=>{ot(le,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:et,_subjects:_,_proxyFormState:g,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(le){o=le},get _defaultValues(){return i},get _names(){return u},set _names(le){u=le},get _formState(){return r},get _options(){return e},set _options(le){e={...e,...le}}},subscribe:Be,trigger:ne,register:Ve,handleSubmit:_t,watch:Ie,setValue:ie,getValues:ue,reset:ot,resetField:Ne,clearErrors:Pe,unregister:Te,setError:rt,setFocus:Ze,getFieldState:be};return{...Fe,formControl:Fe}}function xu(t={}){const e=oe.useRef(void 0),r=oe.useRef(void 0),[n,i]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Ca(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ca(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:TZ(t),formState:n},t.formControl&&t.defaultValues&&!Ca(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,oe.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),oe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),oe.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),oe.useEffect(()=>{t.values&&!Ul(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),oe.useEffect(()=>{t.errors&&!Wi(t.errors)&&s._setErrors(t.errors)},[t.errors,s]),oe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),oe.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=tL(n,s),e.current}const i3=(t,e,r)=>{if(t&&"reportValidity"in t){const n=it(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},uL=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?i3(n.ref,r,t):n.refs&&n.refs.forEach(i=>i3(i,r,t))}},OZ=(t,e)=>{e.shouldUseNativeValidation&&uL(t,e);const r={};for(const n in t){const i=it(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(NZ(e.names||Object.keys(t),n)){const o=Object.assign({},it(r,n));Er(o,"root",s),Er(r,n,o)}else Er(r,n,s)}return r},NZ=(t,e)=>t.some(r=>r.startsWith(e+"."));var IZ=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[o]={message:u.message,type:u.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(x){return t.push(x)})}),e){var d=r[o].types,f=d&&d[n.code];r[o]=nL(o,e,r,i,f?[].concat(f,n.message):n.message)}t.shift()}return r},wu=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve((function(o,u){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(f){return s.shouldUseNativeValidation&&uL({},s),{errors:{},values:r.raw?n:f}})}catch(f){return u(f)}return d&&d.then?d.then(void 0,u):d})(0,function(o){if((function(u){return Array.isArray(u?.errors)})(o))return{values:{},errors:OZ(IZ(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},fr;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),o={};for(const u of s)o[u]=i[u];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(fr||(fr={}));var NE;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(NE||(NE={}));const ut=fr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Do=t=>{switch(typeof t){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return isNaN(t)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(t)?ut.array:t===null?ut.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ut.promise:typeof Map<"u"&&t instanceof Map?ut.map:typeof Set<"u"&&t instanceof Set?ut.set:typeof Date<"u"&&t instanceof Date?ut.date:ut.object;default:return ut.unknown}},ze=fr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),PZ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ks extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let u=n,d=0;for(;d<o.path.length;){const f=o.path[d];d===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(r(o))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return i(this),n}static assert(e){if(!(e instanceof ks))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ks.create=t=>new ks(t);const Yd=(t,e)=>{let r;switch(t.code){case ze.invalid_type:t.received===ut.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ze.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,fr.jsonStringifyReplacer)}`;break;case ze.unrecognized_keys:r=`Unrecognized key(s) in object: ${fr.joinValues(t.keys,", ")}`;break;case ze.invalid_union:r="Invalid input";break;case ze.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${fr.joinValues(t.options)}`;break;case ze.invalid_enum_value:r=`Invalid enum value. Expected ${fr.joinValues(t.options)}, received '${t.received}'`;break;case ze.invalid_arguments:r="Invalid function arguments";break;case ze.invalid_return_type:r="Invalid function return type";break;case ze.invalid_date:r="Invalid date";break;case ze.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:fr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ze.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ze.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ze.custom:r="Invalid input";break;case ze.invalid_intersection_types:r="Intersection results could not be merged";break;case ze.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ze.not_finite:r="Number must be finite";break;default:r=e.defaultError,fr.assertNever(t)}return{message:r}};let dL=Yd;function RZ(t){dL=t}function ly(){return dL}const cy=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let u="";const d=n.filter(f=>!!f).slice().reverse();for(const f of d)u=f(o,{data:e,defaultError:u}).message;return{...i,path:s,message:u}},jZ=[];function at(t,e){const r=ly(),n=cy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Yd?void 0:Yd].filter(i=>!!i)});t.common.issues.push(n)}class Ui{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Lt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return Ui.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Lt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const Lt=Object.freeze({status:"aborted"}),Ed=t=>({status:"dirty",value:t}),Zi=t=>({status:"valid",value:t}),IE=t=>t.status==="aborted",PE=t=>t.status==="dirty",au=t=>t.status==="valid",Lp=t=>typeof Promise<"u"&&t instanceof Promise;function uy(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function fL(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var xt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(xt||(xt={}));var ap,op;class so{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s3=(t,e)=>{if(au(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ks(t.common.issues);return this._error=r,this._error}}};function Yt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,u)=>{var d,f;const{message:g}=t;return o.code==="invalid_enum_value"?{message:g??u.defaultError}:typeof u.data>"u"?{message:(d=g??n)!==null&&d!==void 0?d:u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:(f=g??r)!==null&&f!==void 0?f:u.defaultError}},description:i}}class er{get description(){return this._def.description}_getType(e){return Do(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ui,ctx:{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Lp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},s=this._parseSync({data:e,path:i.path,parent:i});return s3(i,s)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return au(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>au(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Lp(i)?i:Promise.resolve(i));return s3(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),u=()=>s.addIssue({code:ze.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Da({schema:this,typeName:Mt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return eo.create(this,this._def)}nullable(){return Ql.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ja.create(this)}promise(){return Qd.create(this,this._def)}or(e){return $p.create([this,e],this._def)}and(e){return Vp.create(this,e,this._def)}transform(e){return new Da({...Yt(this._def),schema:this,typeName:Mt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Gp({...Yt(this._def),innerType:this,defaultValue:r,typeName:Mt.ZodDefault})}brand(){return new tT({typeName:Mt.ZodBranded,type:this,...Yt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Kp({...Yt(this._def),innerType:this,catchValue:r,typeName:Mt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Vm.create(this,e)}readonly(){return Xp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kZ=/^c[^\s-]{8,}$/i,MZ=/^[0-9a-z]+$/,DZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,LZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BZ=/^[a-z0-9_-]{21}$/i,FZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$Z=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bw;const qZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,HZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XZ=new RegExp(`^${hL}$`);function pL(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function YZ(t){return new RegExp(`^${pL(t)}$`)}function mL(t){let e=`${hL}T${pL(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function ZZ(t,e){return!!((e==="v4"||!e)&&qZ.test(t)||(e==="v6"||!e)&&WZ.test(t))}function QZ(t,e){if(!FZ.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function JZ(t,e){return!!((e==="v4"||!e)&&zZ.test(t)||(e==="v6"||!e)&&HZ.test(t))}class Ia extends er{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ut.string){const s=this._getOrReturnCtx(e);return at(s,{code:ze.invalid_type,expected:ut.string,received:s.parsedType}),Lt}const n=new Ui;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:ze.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:ze.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,u=e.data.length<s.value;(o||u)&&(i=this._getOrReturnCtx(e,i),o?at(i,{code:ze.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&at(i,{code:ze.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")$Z.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"email",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Bw||(Bw=new RegExp(VZ,"u")),Bw.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"emoji",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")LZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"uuid",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")BZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"nanoid",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")kZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"cuid",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")MZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"cuid2",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")DZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"ulid",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),at(i,{validation:"url",code:ze.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"regex",code:ze.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?mL(s).test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?XZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?YZ(s).test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?UZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"duration",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?ZZ(e.data,s.version)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"ip",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?QZ(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"jwt",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?JZ(e.data,s.version)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"cidr",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?GZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"base64",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?KZ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"base64url",code:ze.invalid_string,message:s.message}),n.dirty()):fr.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ze.invalid_string,...xt.errToObj(n)})}_addCheck(e){return new Ia({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...xt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...xt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...xt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...xt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...xt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...xt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...xt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...xt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...xt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...xt.errToObj(r)})}nonempty(e){return this.min(1,xt.errToObj(e))}trim(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ia({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ia.create=t=>{var e;return new Ia({checks:[],typeName:Mt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Yt(t)})};function eQ(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Xl extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ut.number){const s=this._getOrReturnCtx(e);return at(s,{code:ze.invalid_type,expected:ut.number,received:s.parsedType}),Lt}let n;const i=new Ui;for(const s of this._def.checks)s.kind==="int"?fr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),at(n,{code:ze.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?eQ(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),at(n,{code:ze.not_finite,message:s.message}),i.dirty()):fr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xt.toString(r))}setLimit(e,r,n,i){return new Xl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:xt.toString(i)}]})}_addCheck(e){return new Xl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:xt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&fr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Xl.create=t=>new Xl({checks:[],typeName:Mt.ZodNumber,coerce:t?.coerce||!1,...Yt(t)});class Yl extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ut.bigint)return this._getInvalidInput(e);let n;const i=new Ui;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):fr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return at(r,{code:ze.invalid_type,expected:ut.bigint,received:r.parsedType}),Lt}gte(e,r){return this.setLimit("min",e,!0,xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xt.toString(r))}setLimit(e,r,n,i){return new Yl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:xt.toString(i)}]})}_addCheck(e){return new Yl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Yl.create=t=>{var e;return new Yl({checks:[],typeName:Mt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Yt(t)})};class Bp extends er{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ut.boolean){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.boolean,received:n.parsedType}),Lt}return Zi(e.data)}}Bp.create=t=>new Bp({typeName:Mt.ZodBoolean,coerce:t?.coerce||!1,...Yt(t)});class ou extends er{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ut.date){const s=this._getOrReturnCtx(e);return at(s,{code:ze.invalid_type,expected:ut.date,received:s.parsedType}),Lt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return at(s,{code:ze.invalid_date}),Lt}const n=new Ui;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:ze.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:ze.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):fr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ou({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:xt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:xt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ou.create=t=>new ou({checks:[],coerce:t?.coerce||!1,typeName:Mt.ZodDate,...Yt(t)});class dy extends er{_parse(e){if(this._getType(e)!==ut.symbol){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.symbol,received:n.parsedType}),Lt}return Zi(e.data)}}dy.create=t=>new dy({typeName:Mt.ZodSymbol,...Yt(t)});class Fp extends er{_parse(e){if(this._getType(e)!==ut.undefined){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.undefined,received:n.parsedType}),Lt}return Zi(e.data)}}Fp.create=t=>new Fp({typeName:Mt.ZodUndefined,...Yt(t)});class Up extends er{_parse(e){if(this._getType(e)!==ut.null){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.null,received:n.parsedType}),Lt}return Zi(e.data)}}Up.create=t=>new Up({typeName:Mt.ZodNull,...Yt(t)});class Zd extends er{constructor(){super(...arguments),this._any=!0}_parse(e){return Zi(e.data)}}Zd.create=t=>new Zd({typeName:Mt.ZodAny,...Yt(t)});class Qc extends er{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zi(e.data)}}Qc.create=t=>new Qc({typeName:Mt.ZodUnknown,...Yt(t)});class Ho extends er{_parse(e){const r=this._getOrReturnCtx(e);return at(r,{code:ze.invalid_type,expected:ut.never,received:r.parsedType}),Lt}}Ho.create=t=>new Ho({typeName:Mt.ZodNever,...Yt(t)});class fy extends er{_parse(e){if(this._getType(e)!==ut.undefined){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.void,received:n.parsedType}),Lt}return Zi(e.data)}}fy.create=t=>new fy({typeName:Mt.ZodVoid,...Yt(t)});class ja extends er{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ut.array)return at(r,{code:ze.invalid_type,expected:ut.array,received:r.parsedType}),Lt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,u=r.data.length<i.exactLength.value;(o||u)&&(at(r,{code:o?ze.too_big:ze.too_small,minimum:u?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(at(r,{code:ze.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(at(r,{code:ze.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,u)=>i.type._parseAsync(new so(r,o,r.path,u)))).then(o=>Ui.mergeArray(n,o));const s=[...r.data].map((o,u)=>i.type._parseSync(new so(r,o,r.path,u)));return Ui.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new ja({...this._def,minLength:{value:e,message:xt.toString(r)}})}max(e,r){return new ja({...this._def,maxLength:{value:e,message:xt.toString(r)}})}length(e,r){return new ja({...this._def,exactLength:{value:e,message:xt.toString(r)}})}nonempty(e){return this.min(1,e)}}ja.create=(t,e)=>new ja({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Mt.ZodArray,...Yt(e)});function wd(t){if(t instanceof mn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=eo.create(wd(n))}return new mn({...t._def,shape:()=>e})}else return t instanceof ja?new ja({...t._def,type:wd(t.element)}):t instanceof eo?eo.create(wd(t.unwrap())):t instanceof Ql?Ql.create(wd(t.unwrap())):t instanceof ao?ao.create(t.items.map(e=>wd(e))):t}class mn extends er{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=fr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ut.object){const f=this._getOrReturnCtx(e);return at(f,{code:ze.invalid_type,expected:ut.object,received:f.parsedType}),Lt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ho&&this._def.unknownKeys==="strip"))for(const f in i.data)o.includes(f)||u.push(f);const d=[];for(const f of o){const g=s[f],x=i.data[f];d.push({key:{status:"valid",value:f},value:g._parse(new so(i,x,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Ho){const f=this._def.unknownKeys;if(f==="passthrough")for(const g of u)d.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(f==="strict")u.length>0&&(at(i,{code:ze.unrecognized_keys,keys:u}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const g of u){const x=i.data[g];d.push({key:{status:"valid",value:g},value:f._parse(new so(i,x,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const g of d){const x=await g.key,_=await g.value;f.push({key:x,value:_,alwaysSet:g.alwaysSet})}return f}).then(f=>Ui.mergeObjectSync(n,f)):Ui.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return xt.errToObj,new mn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,u;const d=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=xt.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new mn({...this._def,unknownKeys:"strip"})}passthrough(){return new mn({...this._def,unknownKeys:"passthrough"})}extend(e){return new mn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new mn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Mt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new mn({...this._def,catchall:e})}pick(e){const r={};return fr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new mn({...this._def,shape:()=>r})}omit(e){const r={};return fr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new mn({...this._def,shape:()=>r})}deepPartial(){return wd(this)}partial(e){const r={};return fr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new mn({...this._def,shape:()=>r})}required(e){const r={};return fr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof eo;)s=s._def.innerType;r[n]=s}}),new mn({...this._def,shape:()=>r})}keyof(){return gL(fr.objectKeys(this.shape))}}mn.create=(t,e)=>new mn({shape:()=>t,unknownKeys:"strip",catchall:Ho.create(),typeName:Mt.ZodObject,...Yt(e)});mn.strictCreate=(t,e)=>new mn({shape:()=>t,unknownKeys:"strict",catchall:Ho.create(),typeName:Mt.ZodObject,...Yt(e)});mn.lazycreate=(t,e)=>new mn({shape:t,unknownKeys:"strip",catchall:Ho.create(),typeName:Mt.ZodObject,...Yt(e)});class $p extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const o=s.map(u=>new ks(u.ctx.common.issues));return at(r,{code:ze.invalid_union,unionErrors:o}),Lt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const d of n){const f={...r,common:{...r.common,issues:[]},parent:null},g=d._parseSync({data:r.data,path:r.path,parent:f});if(g.status==="valid")return g;g.status==="dirty"&&!s&&(s={result:g,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const u=o.map(d=>new ks(d));return at(r,{code:ze.invalid_union,unionErrors:u}),Lt}}get options(){return this._def.options}}$p.create=(t,e)=>new $p({options:t,typeName:Mt.ZodUnion,...Yt(e)});const Ro=t=>t instanceof zp?Ro(t.schema):t instanceof Da?Ro(t.innerType()):t instanceof Wp?[t.value]:t instanceof Zl?t.options:t instanceof Hp?fr.objectValues(t.enum):t instanceof Gp?Ro(t._def.innerType):t instanceof Fp?[void 0]:t instanceof Up?[null]:t instanceof eo?[void 0,...Ro(t.unwrap())]:t instanceof Ql?[null,...Ro(t.unwrap())]:t instanceof tT||t instanceof Xp?Ro(t.unwrap()):t instanceof Kp?Ro(t._def.innerType):[];class F1 extends er{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.object)return at(r,{code:ze.invalid_type,expected:ut.object,received:r.parsedType}),Lt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(at(r,{code:ze.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=Ro(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of o){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,s)}}return new F1({typeName:Mt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Yt(n)})}}function RE(t,e){const r=Do(t),n=Do(e);if(t===e)return{valid:!0,data:t};if(r===ut.object&&n===ut.object){const i=fr.objectKeys(e),s=fr.objectKeys(t).filter(u=>i.indexOf(u)!==-1),o={...t,...e};for(const u of s){const d=RE(t[u],e[u]);if(!d.valid)return{valid:!1};o[u]=d.data}return{valid:!0,data:o}}else if(r===ut.array&&n===ut.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],u=e[s],d=RE(o,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return r===ut.date&&n===ut.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vp extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(IE(s)||IE(o))return Lt;const u=RE(s.value,o.value);return u.valid?((PE(s)||PE(o))&&r.dirty(),{status:r.value,value:u.data}):(at(n,{code:ze.invalid_intersection_types}),Lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Vp.create=(t,e,r)=>new Vp({left:t,right:e,typeName:Mt.ZodIntersection,...Yt(r)});class ao extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.array)return at(n,{code:ze.invalid_type,expected:ut.array,received:n.parsedType}),Lt;if(n.data.length<this._def.items.length)return at(n,{code:ze.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lt;!this._def.rest&&n.data.length>this._def.items.length&&(at(n,{code:ze.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new so(n,o,n.path,u)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Ui.mergeArray(r,o)):Ui.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ao({...this._def,rest:e})}}ao.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ao({items:t,typeName:Mt.ZodTuple,rest:null,...Yt(e)})};class qp extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.object)return at(n,{code:ze.invalid_type,expected:ut.object,received:n.parsedType}),Lt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const u in n.data)i.push({key:s._parse(new so(n,u,n.path,u)),value:o._parse(new so(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Ui.mergeObjectAsync(r,i):Ui.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof er?new qp({keyType:e,valueType:r,typeName:Mt.ZodRecord,...Yt(n)}):new qp({keyType:Ia.create(),valueType:e,typeName:Mt.ZodRecord,...Yt(r)})}}class hy extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.map)return at(n,{code:ze.invalid_type,expected:ut.map,received:n.parsedType}),Lt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([u,d],f)=>({key:i._parse(new so(n,u,n.path,[f,"key"])),value:s._parse(new so(n,d,n.path,[f,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of o){const f=await d.key,g=await d.value;if(f.status==="aborted"||g.status==="aborted")return Lt;(f.status==="dirty"||g.status==="dirty")&&r.dirty(),u.set(f.value,g.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of o){const f=d.key,g=d.value;if(f.status==="aborted"||g.status==="aborted")return Lt;(f.status==="dirty"||g.status==="dirty")&&r.dirty(),u.set(f.value,g.value)}return{status:r.value,value:u}}}}hy.create=(t,e,r)=>new hy({valueType:e,keyType:t,typeName:Mt.ZodMap,...Yt(r)});class lu extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.set)return at(n,{code:ze.invalid_type,expected:ut.set,received:n.parsedType}),Lt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(at(n,{code:ze.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(at(n,{code:ze.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(d){const f=new Set;for(const g of d){if(g.status==="aborted")return Lt;g.status==="dirty"&&r.dirty(),f.add(g.value)}return{status:r.value,value:f}}const u=[...n.data.values()].map((d,f)=>s._parse(new so(n,d,n.path,f)));return n.common.async?Promise.all(u).then(d=>o(d)):o(u)}min(e,r){return new lu({...this._def,minSize:{value:e,message:xt.toString(r)}})}max(e,r){return new lu({...this._def,maxSize:{value:e,message:xt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}lu.create=(t,e)=>new lu({valueType:t,minSize:null,maxSize:null,typeName:Mt.ZodSet,...Yt(e)});class Dd extends er{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.function)return at(r,{code:ze.invalid_type,expected:ut.function,received:r.parsedType}),Lt;function n(u,d){return cy({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ly(),Yd].filter(f=>!!f),issueData:{code:ze.invalid_arguments,argumentsError:d}})}function i(u,d){return cy({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ly(),Yd].filter(f=>!!f),issueData:{code:ze.invalid_return_type,returnTypeError:d}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Qd){const u=this;return Zi(async function(...d){const f=new ks([]),g=await u._def.args.parseAsync(d,s).catch(T=>{throw f.addIssue(n(d,T)),f}),x=await Reflect.apply(o,this,g);return await u._def.returns._def.type.parseAsync(x,s).catch(T=>{throw f.addIssue(i(x,T)),f})})}else{const u=this;return Zi(function(...d){const f=u._def.args.safeParse(d,s);if(!f.success)throw new ks([n(d,f.error)]);const g=Reflect.apply(o,this,f.data),x=u._def.returns.safeParse(g,s);if(!x.success)throw new ks([i(g,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Dd({...this._def,args:ao.create(e).rest(Qc.create())})}returns(e){return new Dd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Dd({args:e||ao.create([]).rest(Qc.create()),returns:r||Qc.create(),typeName:Mt.ZodFunction,...Yt(n)})}}class zp extends er{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}zp.create=(t,e)=>new zp({getter:t,typeName:Mt.ZodLazy,...Yt(e)});class Wp extends er{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return at(r,{received:r.data,code:ze.invalid_literal,expected:this._def.value}),Lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Wp.create=(t,e)=>new Wp({value:t,typeName:Mt.ZodLiteral,...Yt(e)});function gL(t,e){return new Zl({values:t,typeName:Mt.ZodEnum,...Yt(e)})}class Zl extends er{constructor(){super(...arguments),ap.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return at(r,{expected:fr.joinValues(n),received:r.parsedType,code:ze.invalid_type}),Lt}if(uy(this,ap)||fL(this,ap,new Set(this._def.values)),!uy(this,ap).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return at(r,{received:r.data,code:ze.invalid_enum_value,options:n}),Lt}return Zi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Zl.create(e,{...this._def,...r})}exclude(e,r=this._def){return Zl.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}ap=new WeakMap;Zl.create=gL;class Hp extends er{constructor(){super(...arguments),op.set(this,void 0)}_parse(e){const r=fr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ut.string&&n.parsedType!==ut.number){const i=fr.objectValues(r);return at(n,{expected:fr.joinValues(i),received:n.parsedType,code:ze.invalid_type}),Lt}if(uy(this,op)||fL(this,op,new Set(fr.getValidEnumValues(this._def.values))),!uy(this,op).has(e.data)){const i=fr.objectValues(r);return at(n,{received:n.data,code:ze.invalid_enum_value,options:i}),Lt}return Zi(e.data)}get enum(){return this._def.values}}op=new WeakMap;Hp.create=(t,e)=>new Hp({values:t,typeName:Mt.ZodNativeEnum,...Yt(e)});class Qd extends er{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.promise&&r.common.async===!1)return at(r,{code:ze.invalid_type,expected:ut.promise,received:r.parsedType}),Lt;const n=r.parsedType===ut.promise?r.data:Promise.resolve(r.data);return Zi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Qd.create=(t,e)=>new Qd({type:t,typeName:Mt.ZodPromise,...Yt(e)});class Da extends er{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Mt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{at(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async u=>{if(r.value==="aborted")return Lt;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?Lt:d.status==="dirty"||r.value==="dirty"?Ed(d.value):d});{if(r.value==="aborted")return Lt;const u=this._def.schema._parseSync({data:o,path:n.path,parent:n});return u.status==="aborted"?Lt:u.status==="dirty"||r.value==="dirty"?Ed(u.value):u}}if(i.type==="refinement"){const o=u=>{const d=i.refinement(u,s);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Lt:(u.status==="dirty"&&r.dirty(),o(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Lt:(u.status==="dirty"&&r.dirty(),o(u.value).then(()=>({status:r.value,value:u.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!au(o))return o;const u=i.transform(o.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>au(o)?Promise.resolve(i.transform(o.value,s)).then(u=>({status:r.value,value:u})):o);fr.assertNever(i)}}Da.create=(t,e,r)=>new Da({schema:t,typeName:Mt.ZodEffects,effect:e,...Yt(r)});Da.createWithPreprocess=(t,e,r)=>new Da({schema:e,effect:{type:"preprocess",transform:t},typeName:Mt.ZodEffects,...Yt(r)});class eo extends er{_parse(e){return this._getType(e)===ut.undefined?Zi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eo.create=(t,e)=>new eo({innerType:t,typeName:Mt.ZodOptional,...Yt(e)});class Ql extends er{_parse(e){return this._getType(e)===ut.null?Zi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ql.create=(t,e)=>new Ql({innerType:t,typeName:Mt.ZodNullable,...Yt(e)});class Gp extends er{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ut.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Gp.create=(t,e)=>new Gp({innerType:t,typeName:Mt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Yt(e)});class Kp extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Lp(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ks(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ks(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Kp.create=(t,e)=>new Kp({innerType:t,typeName:Mt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Yt(e)});class py extends er{_parse(e){if(this._getType(e)!==ut.nan){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.nan,received:n.parsedType}),Lt}return{status:"valid",value:e.data}}}py.create=t=>new py({typeName:Mt.ZodNaN,...Yt(t)});const tQ=Symbol("zod_brand");class tT extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Vm extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Lt:s.status==="dirty"?(r.dirty(),Ed(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Lt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Vm({in:e,out:r,typeName:Mt.ZodPipeline})}}class Xp extends er{_parse(e){const r=this._def.innerType._parse(e),n=i=>(au(i)&&(i.value=Object.freeze(i.value)),i);return Lp(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Xp.create=(t,e)=>new Xp({innerType:t,typeName:Mt.ZodReadonly,...Yt(e)});function a3(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function yL(t,e={},r){return t?Zd.create().superRefine((n,i)=>{var s,o;const u=t(n);if(u instanceof Promise)return u.then(d=>{var f,g;if(!d){const x=a3(e,n),_=(g=(f=x.fatal)!==null&&f!==void 0?f:r)!==null&&g!==void 0?g:!0;i.addIssue({code:"custom",...x,fatal:_})}});if(!u){const d=a3(e,n),f=(o=(s=d.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...d,fatal:f})}}):Zd.create()}const rQ={object:mn.lazycreate};var Mt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Mt||(Mt={}));const nQ=(t,e={message:`Input not instance of ${t.name}`})=>yL(r=>r instanceof t,e),vL=Ia.create,xL=Xl.create,iQ=py.create,sQ=Yl.create,wL=Bp.create,aQ=ou.create,oQ=dy.create,lQ=Fp.create,cQ=Up.create,uQ=Zd.create,dQ=Qc.create,fQ=Ho.create,hQ=fy.create,pQ=ja.create,mQ=mn.create,gQ=mn.strictCreate,yQ=$p.create,vQ=F1.create,xQ=Vp.create,wQ=ao.create,bQ=qp.create,_Q=hy.create,SQ=lu.create,EQ=Dd.create,AQ=zp.create,CQ=Wp.create,TQ=Zl.create,OQ=Hp.create,NQ=Qd.create,o3=Da.create,IQ=eo.create,PQ=Ql.create,RQ=Da.createWithPreprocess,jQ=Vm.create,kQ=()=>vL().optional(),MQ=()=>xL().optional(),DQ=()=>wL().optional(),LQ={string:(t=>Ia.create({...t,coerce:!0})),number:(t=>Xl.create({...t,coerce:!0})),boolean:(t=>Bp.create({...t,coerce:!0})),bigint:(t=>Yl.create({...t,coerce:!0})),date:(t=>ou.create({...t,coerce:!0}))},BQ=Lt;var lr=Object.freeze({__proto__:null,defaultErrorMap:Yd,setErrorMap:RZ,getErrorMap:ly,makeIssue:cy,EMPTY_PATH:jZ,addIssueToContext:at,ParseStatus:Ui,INVALID:Lt,DIRTY:Ed,OK:Zi,isAborted:IE,isDirty:PE,isValid:au,isAsync:Lp,get util(){return fr},get objectUtil(){return NE},ZodParsedType:ut,getParsedType:Do,ZodType:er,datetimeRegex:mL,ZodString:Ia,ZodNumber:Xl,ZodBigInt:Yl,ZodBoolean:Bp,ZodDate:ou,ZodSymbol:dy,ZodUndefined:Fp,ZodNull:Up,ZodAny:Zd,ZodUnknown:Qc,ZodNever:Ho,ZodVoid:fy,ZodArray:ja,ZodObject:mn,ZodUnion:$p,ZodDiscriminatedUnion:F1,ZodIntersection:Vp,ZodTuple:ao,ZodRecord:qp,ZodMap:hy,ZodSet:lu,ZodFunction:Dd,ZodLazy:zp,ZodLiteral:Wp,ZodEnum:Zl,ZodNativeEnum:Hp,ZodPromise:Qd,ZodEffects:Da,ZodTransformer:Da,ZodOptional:eo,ZodNullable:Ql,ZodDefault:Gp,ZodCatch:Kp,ZodNaN:py,BRAND:tQ,ZodBranded:tT,ZodPipeline:Vm,ZodReadonly:Xp,custom:yL,Schema:er,ZodSchema:er,late:rQ,get ZodFirstPartyTypeKind(){return Mt},coerce:LQ,any:uQ,array:pQ,bigint:sQ,boolean:wL,date:aQ,discriminatedUnion:vQ,effect:o3,enum:TQ,function:EQ,instanceof:nQ,intersection:xQ,lazy:AQ,literal:CQ,map:_Q,nan:iQ,nativeEnum:OQ,never:fQ,null:cQ,nullable:PQ,number:xL,object:mQ,oboolean:DQ,onumber:MQ,optional:IQ,ostring:kQ,pipeline:jQ,preprocess:RQ,promise:NQ,record:bQ,set:SQ,strictObject:gQ,string:vL,symbol:oQ,transformer:o3,tuple:wQ,undefined:lQ,union:yQ,unknown:dQ,void:hQ,NEVER:BQ,ZodIssueCode:ze,quotelessJson:PZ,ZodError:ks}),FQ="Label",bL=M.forwardRef((t,e)=>m.jsx(Pt.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bL.displayName=FQ;var _L=bL;const UQ=Bm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pa=M.forwardRef(({className:t,...e},r)=>m.jsx(_L,{ref:r,className:Je(UQ(),t),...e}));Pa.displayName=_L.displayName;const bu=uZ,SL=M.createContext({}),yn=({...t})=>m.jsx(SL.Provider,{value:{name:t.name},children:m.jsx(pZ,{...t})}),U1=()=>{const t=M.useContext(SL),e=M.useContext(EL),{getFieldState:r,formState:n}=B1(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},EL=M.createContext({}),nn=M.forwardRef(({className:t,...e},r)=>{const n=M.useId();return m.jsx(EL.Provider,{value:{id:n},children:m.jsx("div",{ref:r,className:Je("space-y-2",t),...e})})});nn.displayName="FormItem";const sn=M.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=U1();return m.jsx(Pa,{ref:r,className:Je(n&&"text-destructive",t),htmlFor:i,...e})});sn.displayName="FormLabel";const an=M.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=U1();return m.jsx(g6,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});an.displayName="FormControl";const bd=M.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=U1();return m.jsx("p",{ref:r,id:n,className:Je("text-sm text-muted-foreground",t),...e})});bd.displayName="FormDescription";const on=M.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=U1(),o=i?String(i?.message??""):e;return o?m.jsx("p",{ref:n,id:s,className:Je("text-sm font-medium text-destructive",t),...r,children:o}):null});on.displayName="FormMessage";const jr=M.forwardRef(({className:t,type:e,...r},n)=>m.jsx("input",{type:e,className:Je("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));jr.displayName="Input";const rT=Bm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),yt=M.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?g6:"button";return m.jsx(o,{className:Je(rT({variant:e,size:r,className:t})),ref:s,...i})});yt.displayName="Button";var $Q=M.createContext(void 0);function $1(t){const e=M.useContext($Q);return t||e||"ltr"}var Fw="rovingFocusGroup.onEntryFocus",VQ={bubbles:!1,cancelable:!0},V1="RovingFocusGroup",[jE,AL,qQ]=T1(V1),[zQ,q1]=Ls(V1,[qQ]),[WQ,HQ]=zQ(V1),CL=M.forwardRef((t,e)=>m.jsx(jE.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(jE.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(GQ,{...t,ref:e})})}));CL.displayName=V1;var GQ=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...x}=t,_=M.useRef(null),T=mr(e,_),O=$1(s),[E=null,A]=iu({prop:o,defaultProp:u,onChange:d}),[R,P]=M.useState(!1),I=Oi(f),D=AL(r),L=M.useRef(!1),[F,U]=M.useState(0);return M.useEffect(()=>{const H=_.current;if(H)return H.addEventListener(Fw,I),()=>H.removeEventListener(Fw,I)},[I]),m.jsx(WQ,{scope:r,orientation:n,dir:O,loop:i,currentTabStopId:E,onItemFocus:M.useCallback(H=>A(H),[A]),onItemShiftTab:M.useCallback(()=>P(!0),[]),onFocusableItemAdd:M.useCallback(()=>U(H=>H+1),[]),onFocusableItemRemove:M.useCallback(()=>U(H=>H-1),[]),children:m.jsx(Pt.div,{tabIndex:R||F===0?-1:0,"data-orientation":n,...x,ref:T,style:{outline:"none",...t.style},onMouseDown:st(t.onMouseDown,()=>{L.current=!0}),onFocus:st(t.onFocus,H=>{const W=!L.current;if(H.target===H.currentTarget&&W&&!R){const ce=new CustomEvent(Fw,VQ);if(H.currentTarget.dispatchEvent(ce),!ce.defaultPrevented){const K=D().filter(J=>J.focusable),z=K.find(J=>J.active),Z=K.find(J=>J.id===E),Y=[z,Z,...K].filter(Boolean).map(J=>J.ref.current);NL(Y,g)}}L.current=!1}),onBlur:st(t.onBlur,()=>P(!1))})})}),TL="RovingFocusGroupItem",OL=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=t,u=Qa(),d=s||u,f=HQ(TL,r),g=f.currentTabStopId===d,x=AL(r),{onFocusableItemAdd:_,onFocusableItemRemove:T}=f;return M.useEffect(()=>{if(n)return _(),()=>T()},[n,_,T]),m.jsx(jE.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:m.jsx(Pt.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:st(t.onMouseDown,O=>{n?f.onItemFocus(d):O.preventDefault()}),onFocus:st(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:st(t.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){f.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const E=YQ(O,f.orientation,f.dir);if(E!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let R=x().filter(P=>P.focusable).map(P=>P.ref.current);if(E==="last")R.reverse();else if(E==="prev"||E==="next"){E==="prev"&&R.reverse();const P=R.indexOf(O.currentTarget);R=f.loop?ZQ(R,P+1):R.slice(P+1)}setTimeout(()=>NL(R))}})})})});OL.displayName=TL;var KQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YQ(t,e,r){const n=XQ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return KQ[n]}function NL(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function ZQ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var IL=CL,PL=OL,nT="Tabs",[QQ]=Ls(nT,[q1]),RL=q1(),[JQ,iT]=QQ(nT),jL=M.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:u,activationMode:d="automatic",...f}=t,g=$1(u),[x,_]=iu({prop:n,onChange:i,defaultProp:s});return m.jsx(JQ,{scope:r,baseId:Qa(),value:x,onValueChange:_,orientation:o,dir:g,activationMode:d,children:m.jsx(Pt.div,{dir:g,"data-orientation":o,...f,ref:e})})});jL.displayName=nT;var kL="TabsList",ML=M.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=iT(kL,r),o=RL(r);return m.jsx(IL,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:m.jsx(Pt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});ML.displayName=kL;var DL="TabsTrigger",LL=M.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=iT(DL,r),u=RL(r),d=UL(o.baseId,n),f=$L(o.baseId,n),g=n===o.value;return m.jsx(PL,{asChild:!0,...u,focusable:!i,active:g,children:m.jsx(Pt.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:e,onMouseDown:st(t.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?o.onValueChange(n):x.preventDefault()}),onKeyDown:st(t.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&o.onValueChange(n)}),onFocus:st(t.onFocus,()=>{const x=o.activationMode!=="manual";!g&&!i&&x&&o.onValueChange(n)})})})});LL.displayName=DL;var BL="TabsContent",FL=M.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,u=iT(BL,r),d=UL(u.baseId,n),f=$L(u.baseId,n),g=n===u.value,x=M.useRef(g);return M.useEffect(()=>{const _=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(_)},[]),m.jsx(Ba,{present:i||g,children:({present:_})=>m.jsx(Pt.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!_,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:x.current?"0s":void 0},children:_&&s})})});FL.displayName=BL;function UL(t,e){return`${t}-trigger-${e}`}function $L(t,e){return`${t}-content-${e}`}var eJ=jL,VL=ML,qL=LL,zL=FL;const sT=eJ,aT=M.forwardRef(({className:t,...e},r)=>m.jsx(VL,{ref:r,className:Je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));aT.displayName=VL.displayName;const Ld=M.forwardRef(({className:t,...e},r)=>m.jsx(qL,{ref:r,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ld.displayName=qL.displayName;const kE=M.forwardRef(({className:t,...e},r)=>m.jsx(zL,{ref:r,className:Je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));kE.displayName=zL.displayName;const zt=M.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Je("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));zt.displayName="Card";const Qr=M.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Je("flex flex-col space-y-1.5 p-6",t),...e}));Qr.displayName="CardHeader";const Jr=M.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Jr.displayName="CardTitle";const Rn=M.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));Rn.displayName="CardDescription";const Xt=M.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Je("p-6 pt-0",t),...e}));Xt.displayName="CardContent";const tJ=M.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Je("flex items-center p-6 pt-0",t),...e}));tJ.displayName="CardFooter";const rJ=Bm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Jd=M.forwardRef(({className:t,variant:e,...r},n)=>m.jsx("div",{ref:n,role:"alert",className:Je(rJ({variant:e}),t),...r}));Jd.displayName="Alert";const my=M.forwardRef(({className:t,...e},r)=>m.jsx("h5",{ref:r,className:Je("mb-1 font-medium leading-none tracking-tight",t),...e}));my.displayName="AlertTitle";const ef=M.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Je("text-sm [&_p]:leading-relaxed",t),...e}));ef.displayName="AlertDescription";const nJ=lr.object({identifier:lr.string().min(1,"Email or ID Number is required"),password:lr.string().min(1,"Password is required"),role:lr.enum(["student","teacher","superadmin"])});function iJ(){const{login:t,isLoggingIn:e,user:r}=$i(),{settings:n}=Vf(),[,i]=vu(),[s,o]=M.useState("student"),[u,d]=M.useState(!1);if(M.useEffect(()=>{const x=new URLSearchParams(window.location.search),_=x.get("scan"),T=x.get("token"),O=x.get("subjectId");_==="attendance"&&T&&O&&(sessionStorage.setItem("pendingAttendanceScan",JSON.stringify({token:T,subjectId:O,timestamp:Date.now()})),d(!0),o("student"))},[]),r)return sessionStorage.getItem("pendingAttendanceScan")&&r.role==="student"?i("/attendance"):i("/dashboard"),null;const f=xu({resolver:wu(nJ),defaultValues:{identifier:"",password:"",role:"student"}}),g=x=>{t({...x,role:s})};return m.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2 bg-gray-50",children:[m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsxs("div",{className:"w-full max-w-md space-y-8",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary text-white shadow-xl shadow-primary/20 mb-4",children:n.logoUrl?m.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-8 h-8 object-contain"}):m.jsx(Tp,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight text-gray-900",children:"Welcome Back Erovoutika"}),m.jsxs("p",{className:"text-muted-foreground",children:["Sign in to your ",n.systemTitle," account"]})]}),u&&m.jsxs(Jd,{className:"bg-primary/10 border-primary/20",children:[m.jsx(NC,{className:"h-4 w-4 text-primary"}),m.jsxs(ef,{className:"text-primary",children:[m.jsx("strong",{children:"Attendance QR Code Detected!"}),m.jsx("br",{}),"Please sign in with your student account to record your attendance."]})]}),m.jsx(sT,{defaultValue:"student",value:s,onValueChange:x=>o(x),className:"w-full",children:m.jsx(bu,{...f,children:m.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-6",children:[m.jsx(yn,{control:f.control,name:"identifier",render:({field:x})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Email or ID Number"}),m.jsx(an,{children:m.jsxs("div",{className:"relative",children:[m.jsx(H6,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{className:"pl-9 h-11",placeholder:"Email or ID Number",...x})]})}),m.jsx(on,{})]})}),m.jsx(yn,{control:f.control,name:"password",render:({field:x})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Password"}),m.jsx(an,{children:m.jsxs("div",{className:"relative",children:[m.jsx(OC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{type:"password",className:"pl-9 h-11",placeholder:"",...x})]})}),m.jsx(on,{})]})}),m.jsx(yt,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all",disabled:e,children:e?m.jsxs(m.Fragment,{children:[m.jsx(Yi,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),m.jsx("div",{className:"text-center",children:m.jsx(Na,{href:"/forgot-password",children:m.jsx(yt,{variant:"ghost",type:"button",className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})})]})})})]})}),m.jsxs("div",{className:"hidden lg:flex relative bg-primary items-center justify-center p-12 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1541339907198-e08756dedf3f?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center opacity-10 mix-blend-overlay"}),m.jsxs("div",{className:"relative z-10 max-w-lg text-white space-y-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h2",{className:"text-4xl font-display font-bold leading-tight",children:[n.tagline||"Streamlining Academic Attendance"," at ",n.schoolName]}),m.jsx("p",{className:"text-lg text-primary-foreground/80 leading-relaxed",children:"Efficient, accurate, and real-time attendance monitoring for students and faculty."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsx(zt,{className:"bg-white/10 border-white/20 backdrop-blur-sm",children:m.jsxs(Qr,{className:"space-y-1",children:[m.jsx(Ra,{className:"w-8 h-8 mb-2 text-white"}),m.jsx(Jr,{className:"text-white text-lg",children:"Smart Tracking"}),m.jsx(Rn,{className:"text-white/60",children:"Automated attendance management for all classes"})]})}),m.jsx(zt,{className:"bg-white/10 border-white/20 backdrop-blur-sm",children:m.jsxs(Qr,{className:"space-y-1",children:[m.jsx(W6,{className:"w-8 h-8 mb-2 text-white"}),m.jsx(Jr,{className:"text-white text-lg",children:"Secure Access"}),m.jsx(Rn,{className:"text-white/60",children:"Role-based permissions and data protection"})]})})]})]})]})]})}const sJ=lr.object({email:lr.string().email("Please enter a valid email address")});function aJ(){const{settings:t}=Vf(),{toast:e}=hi(),[r,n]=M.useState(!1),[i,s]=M.useState(!1),[o,u]=M.useState(""),d=hz(),f=new URLSearchParams(d).get("from")==="profile",g=xu({resolver:wu(sJ),defaultValues:{email:""}}),x=async _=>{n(!0);try{const{count:T,error:O}=await St.from("users").select("*",{count:"exact",head:!0}).eq("email",_.email.toLowerCase());if(!O&&T&&T>0){const A=crypto.randomUUID();await St.auth.signUp({email:_.email.toLowerCase(),password:A});const P=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`${window.location.origin}/reset-password`:"https://dlsuqr.vercel.app/reset-password",{error:I}=await St.auth.resetPasswordForEmail(_.email.toLowerCase(),{redirectTo:P});if(I&&(I.message.includes("rate")||I.message.includes("limit"))){e({title:"Too Many Requests",description:"Please wait a few minutes before requesting another reset email.",variant:"destructive"}),n(!1);return}}e({title:"Request Received",description:"If an account with that email exists, a reset link will be sent shortly."}),u(_.email),s(!0)}catch{e({title:"Request Received",description:"If an account with that email exists, a reset link will be sent shortly."}),u(_.email),s(!0)}finally{n(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary text-white shadow-xl shadow-primary/20 mb-4",children:t.logoUrl?m.jsx("img",{src:t.logoUrl,alt:"Logo",className:"w-8 h-8 object-contain"}):m.jsx(Tp,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-2xl font-display font-bold tracking-tight text-gray-900",children:f?"Reset Password":"Forgot Password?"}),m.jsx("p",{className:"text-muted-foreground",children:"No worries, we'll send you reset instructions."})]}),m.jsx(zt,{className:"shadow-lg",children:m.jsx(Xt,{className:"pt-6",children:i?m.jsxs("div",{className:"space-y-6",children:[m.jsxs(Jd,{className:"border-green-200 bg-green-50",children:[m.jsx(Ts,{className:"h-4 w-4 text-green-600"}),m.jsx(my,{className:"text-green-800",children:"Check your email"}),m.jsxs(ef,{className:"text-green-700",children:["If an account exists for ",m.jsx("span",{className:"font-medium",children:o}),", you will receive a password reset link shortly."]})]}),m.jsx("div",{className:"rounded-lg bg-amber-50 border border-amber-200 p-4",children:m.jsxs("p",{className:"text-sm text-amber-800",children:[m.jsx("strong",{children:" Note:"})," The email may arrive in your ",m.jsx("strong",{children:"spam/junk folder"}),". Please check there if you don't see it in your inbox."]})}),m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Didn't receive the email? Check your spam folder or"}),m.jsx(yt,{variant:"outline",onClick:()=>{s(!1),g.reset()},children:"Try another email"})]}),m.jsx("div",{className:"pt-4 border-t",children:m.jsx(Na,{href:f?"/profile":"/login",children:m.jsxs(yt,{variant:"ghost",className:"w-full",children:[m.jsx(G0,{className:"mr-2 h-4 w-4"}),f?"Back":"Back to login"]})})})]}):m.jsx(bu,{...g,children:m.jsxs("form",{onSubmit:g.handleSubmit(x),className:"space-y-6",children:[m.jsx(yn,{control:g.control,name:"email",render:({field:_})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Email Address"}),m.jsx(an,{children:m.jsxs("div",{className:"relative",children:[m.jsx(rH,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{className:"pl-9 h-11",placeholder:"Enter your email address",type:"email",..._})]})}),m.jsx(on,{})]})}),m.jsx(yt,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all",disabled:r,children:r?m.jsxs(m.Fragment,{children:[m.jsx(Yi,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"}),m.jsx("div",{className:"text-center",children:m.jsx(Na,{href:f?"/profile":"/login",children:m.jsxs(yt,{variant:"ghost",className:"text-sm",children:[m.jsx(G0,{className:"mr-2 h-4 w-4"}),f?"Back":"Back to login"]})})})]})})})}),m.jsxs(Jd,{variant:"default",className:"bg-blue-50 border-blue-200",children:[m.jsx(no,{className:"h-4 w-4 text-blue-600"}),m.jsx(ef,{className:"text-blue-700 text-sm",children:"For your security, password reset links expire after 1 hour and can only be used once."})]})]})})}var oT="Progress",lT=100,[oJ]=Ls(oT),[lJ,cJ]=oJ(oT),WL=M.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=uJ,...o}=t;(i||i===0)&&!l3(i)&&console.error(dJ(`${i}`,"Progress"));const u=l3(i)?i:lT;n!==null&&!c3(n,u)&&console.error(fJ(`${n}`,"Progress"));const d=c3(n,u)?n:null,f=gy(d)?s(d,u):void 0;return m.jsx(lJ,{scope:r,value:d,max:u,children:m.jsx(Pt.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":gy(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":KL(d,u),"data-value":d??void 0,"data-max":u,...o,ref:e})})});WL.displayName=oT;var HL="ProgressIndicator",GL=M.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=cJ(HL,r);return m.jsx(Pt.div,{"data-state":KL(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});GL.displayName=HL;function uJ(t,e){return`${Math.round(t/e*100)}%`}function KL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gy(t){return typeof t=="number"}function l3(t){return gy(t)&&!isNaN(t)&&t>0}function c3(t,e){return gy(t)&&!isNaN(t)&&t<=e&&t>=0}function dJ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lT}\`.`}function fJ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var XL=WL,hJ=GL;const YL=M.forwardRef(({className:t,value:e,...r},n)=>m.jsx(XL,{ref:n,className:Je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:m.jsx(hJ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));YL.displayName=XL.displayName;const pJ=lr.object({password:lr.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:lr.string()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function mJ(t){let e=0;return t.length>=8&&(e+=25),t.length>=12&&(e+=10),/[A-Z]/.test(t)&&(e+=20),/[a-z]/.test(t)&&(e+=15),/[0-9]/.test(t)&&(e+=15),/[^A-Za-z0-9]/.test(t)&&(e+=15),e<40?{score:e,label:"Weak",color:"bg-red-500"}:e<70?{score:e,label:"Fair",color:"bg-yellow-500"}:e<90?{score:e,label:"Good",color:"bg-blue-500"}:{score:Math.min(e,100),label:"Strong",color:"bg-green-500"}}function gJ(){const{settings:t}=Vf(),{toast:e}=hi();vu();const[r,n]=M.useState(!1),[i,s]=M.useState(!0),[o,u]=M.useState(!1),[d,f]=M.useState(!1),[g,x]=M.useState(null),[_,T]=M.useState(!1),[O,E]=M.useState(!1),[A,R]=M.useState(null),P=xu({resolver:wu(pJ),defaultValues:{password:"",confirmPassword:""}}),I=P.watch("password"),D=mJ(I||"");M.useEffect(()=>{const F=new URLSearchParams(window.location.hash.substring(1)),U=F.get("access_token"),H=F.get("type"),W=F.get("error_description");F.get("error_code");const ce=F.get("error");if(ce||W){const z=W?decodeURIComponent(W.replace(/\+/g," ")):ce||"Unknown error";console.error(" Error from URL:",z),R(z),s(!1),u(!1);return}if(H==="recovery"&&U){const z=F.get("refresh_token");U&&z?St.auth.setSession({access_token:U,refresh_token:z}).then(({data:Z,error:Q})=>{Q?(console.error("Error setting session:",Q),R("Invalid or expired reset link."),u(!1)):Z.user&&(x(Z.user.email||null),u(!0)),s(!1)}):(R("Invalid reset link."),s(!1),u(!1))}else St.auth.getSession().then(({data:{session:z}})=>{z?(x(z.user.email||null),u(!0)):(R("No valid password reset session found. Please request a new reset link."),u(!1)),s(!1)});const{data:{subscription:K}}=St.auth.onAuthStateChange((z,Z)=>{z==="PASSWORD_RECOVERY"&&(x(Z?.user.email||null),u(!0),s(!1))});return()=>{K.unsubscribe()}},[]);const L=async F=>{n(!0);try{const{error:U}=await St.auth.updateUser({password:F.password});if(U)throw U;g&&await St.from("users").update({password:F.password}).eq("email",g.toLowerCase()),await St.auth.signOut(),f(!0),e({title:"Password Reset Successful",description:"Your password has been updated. You can now log in with your new password."})}catch(U){console.error("Reset password error:",U),e({title:"Error",description:U.message||"Failed to reset password. Please try again.",variant:"destructive"})}finally{n(!1)}};return i?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx(Yi,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),m.jsx("p",{className:"text-muted-foreground",children:"Validating reset link..."})]})}):o?d?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-green-100 text-green-600 mb-4",children:m.jsx(Ts,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-2xl font-display font-bold tracking-tight text-gray-900",children:"Password Reset Complete"}),m.jsx("p",{className:"text-muted-foreground",children:"Your password has been successfully updated."})]}),m.jsx(zt,{className:"shadow-lg",children:m.jsxs(Xt,{className:"pt-6 space-y-4",children:[m.jsxs(Jd,{className:"border-green-200 bg-green-50",children:[m.jsx(Ts,{className:"h-4 w-4 text-green-600"}),m.jsx(my,{className:"text-green-800",children:"Success!"}),m.jsx(ef,{className:"text-green-700",children:"You can now log in with your new password. For your security, you've been logged out of all other devices."})]}),m.jsx(Na,{href:"/login",children:m.jsx(yt,{className:"w-full h-11 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all",children:"Continue to Login"})})]})})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary text-white shadow-xl shadow-primary/20 mb-4",children:t.logoUrl?m.jsx("img",{src:t.logoUrl,alt:"Logo",className:"w-8 h-8 object-contain"}):m.jsx(Tp,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-2xl font-display font-bold tracking-tight text-gray-900",children:"Reset Your Password"}),m.jsx("p",{className:"text-muted-foreground",children:g?`Resetting password for ${g}`:"Create a new password for your account."})]}),m.jsx(zt,{className:"shadow-lg",children:m.jsx(Xt,{className:"pt-6",children:m.jsx(bu,{...P,children:m.jsxs("form",{onSubmit:P.handleSubmit(L),className:"space-y-6",children:[m.jsx(yn,{control:P.control,name:"password",render:({field:F})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"New Password"}),m.jsx(an,{children:m.jsxs("div",{className:"relative",children:[m.jsx(OC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{type:_?"text":"password",className:"pl-9 pr-10 h-11",placeholder:"Enter new password",...F}),m.jsx(yt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-10 hover:bg-transparent",onClick:()=>T(!_),children:_?m.jsx(sP,{className:"h-4 w-4 text-muted-foreground"}):m.jsx(aP,{className:"h-4 w-4 text-muted-foreground"})})]})}),I&&m.jsxs("div",{className:"space-y-2 mt-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"Password strength:"}),m.jsx("span",{className:`font-medium ${D.label==="Weak"?"text-red-500":D.label==="Fair"?"text-yellow-500":D.label==="Good"?"text-blue-500":"text-green-500"}`,children:D.label})]}),m.jsx(YL,{value:D.score,className:"h-1.5"})]}),m.jsx(on,{})]})}),m.jsx(yn,{control:P.control,name:"confirmPassword",render:({field:F})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Confirm Password"}),m.jsx(an,{children:m.jsxs("div",{className:"relative",children:[m.jsx(W6,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{type:O?"text":"password",className:"pl-9 pr-10 h-11",placeholder:"Confirm new password",...F}),m.jsx(yt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-10 hover:bg-transparent",onClick:()=>E(!O),children:O?m.jsx(sP,{className:"h-4 w-4 text-muted-foreground"}):m.jsx(aP,{className:"h-4 w-4 text-muted-foreground"})})]})}),m.jsx(on,{})]})}),m.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 space-y-2",children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Password must contain:"}),m.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[m.jsxs("li",{className:`flex items-center gap-2 ${I?.length>=8?"text-green-600":""}`,children:[m.jsx(Ts,{className:`h-3 w-3 ${I?.length>=8?"text-green-600":"text-muted-foreground/50"}`}),"At least 8 characters"]}),m.jsxs("li",{className:`flex items-center gap-2 ${/[A-Z]/.test(I||"")?"text-green-600":""}`,children:[m.jsx(Ts,{className:`h-3 w-3 ${/[A-Z]/.test(I||"")?"text-green-600":"text-muted-foreground/50"}`}),"One uppercase letter"]}),m.jsxs("li",{className:`flex items-center gap-2 ${/[a-z]/.test(I||"")?"text-green-600":""}`,children:[m.jsx(Ts,{className:`h-3 w-3 ${/[a-z]/.test(I||"")?"text-green-600":"text-muted-foreground/50"}`}),"One lowercase letter"]}),m.jsxs("li",{className:`flex items-center gap-2 ${/[0-9]/.test(I||"")?"text-green-600":""}`,children:[m.jsx(Ts,{className:`h-3 w-3 ${/[0-9]/.test(I||"")?"text-green-600":"text-muted-foreground/50"}`}),"One number"]})]})]}),m.jsx(yt,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all",disabled:r,children:r?m.jsxs(m.Fragment,{children:[m.jsx(Yi,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting Password..."]}):"Reset Password"}),m.jsx("div",{className:"text-center",children:m.jsx(Na,{href:"/login",children:m.jsxs(yt,{variant:"ghost",className:"text-sm",children:[m.jsx(G0,{className:"mr-2 h-4 w-4"}),"Back to login"]})})})]})})})})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-red-100 text-red-600 mb-4",children:m.jsx(no,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-2xl font-display font-bold tracking-tight text-gray-900",children:"Invalid or Expired Link"}),m.jsx("p",{className:"text-muted-foreground",children:"This password reset link is invalid, expired, or has already been used."})]}),m.jsx(zt,{className:"shadow-lg",children:m.jsxs(Xt,{className:"pt-6 space-y-4",children:[m.jsxs(Jd,{variant:"destructive",children:[m.jsx(no,{className:"h-4 w-4"}),m.jsx(my,{children:"Link Not Valid"}),m.jsx(ef,{children:A||"Password reset links expire after 1 hour and can only be used once. Please request a new reset link if you still need to reset your password."})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Na,{href:"/forgot-password",children:m.jsx(yt,{className:"w-full",children:"Request New Reset Link"})}),m.jsx(Na,{href:"/login",children:m.jsxs(yt,{variant:"outline",className:"w-full",children:[m.jsx(G0,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})]})})]})})}function yJ(t){if(!t)return null;const e=t.replace("Z","");return new Date(e)}function vJ(t){return{id:t.id,studentId:t.student_id,subjectId:t.subject_id,date:t.date,status:t.status,timeIn:yJ(t.time_in),remarks:t.remarks,studentName:t.student?.full_name||t.users?.full_name||"Unknown",subjectName:t.subject?.name||t.subjects?.name||"Unknown"}}function cT(t,e){return La({queryKey:["attendance",t],refetchInterval:e?.refetchInterval,queryFn:async()=>{let n=St.from("attendance").select(`
          id, student_id, subject_id, date, status, time_in, remarks,
          student:users!student_id(full_name),
          subject:subjects!subject_id(name)
        `);t?.subjectId&&(n=n.eq("subject_id",t.subjectId)),t?.studentId&&(n=n.eq("student_id",t.studentId)),t?.date&&(n=n.eq("date",t.date));const{data:i,error:s}=await n;if(s)throw new Error("Failed to fetch attendance: "+s.message);return(i||[]).map(vJ)}})}function uT(t){return{id:t.id,name:t.name,code:t.code,teacherId:t.teacher_id,description:t.description}}function xJ(t){return{id:t.id,idNumber:t.id_number,email:t.email,password:"",fullName:t.full_name,role:t.role,profilePicture:t.profile_picture,createdAt:t.created_at?new Date(t.created_at):null}}function qf(){return La({queryKey:["subjects"],queryFn:async()=>{const{data:t,error:e}=await St.from("subjects").select("*");if(e)throw new Error("Failed to fetch subjects");return(t||[]).map(uT)}})}function dT(t){return La({queryKey:["student-subjects",t],queryFn:async()=>{if(!t)return[];const{data:e,error:r}=await St.from("enrollments").select("subject_id").eq("student_id",t);if(r)throw new Error("Failed to fetch enrollments");if(!e||e.length===0)return[];const n=e.map(o=>o.subject_id),{data:i,error:s}=await St.from("subjects").select("*").in("id",n);if(s)throw new Error("Failed to fetch subjects");return(i||[]).map(uT)},enabled:!!t})}function z1(t){return La({queryKey:["subject-students",t],queryFn:async()=>{const{data:e,error:r}=await St.from("enrollments").select("student_id").eq("subject_id",t);if(r)throw new Error("Failed to fetch enrollments");if(!e||e.length===0)return[];const n=e.map(o=>o.student_id),{data:i,error:s}=await St.from("users").select("id, id_number, email, full_name, role, profile_picture, created_at").in("id",n);if(s)throw new Error("Failed to fetch students");return(i||[]).map(xJ)},enabled:!!t})}function wJ(){const t=Qi(),{toast:e}=hi();return Ds({mutationFn:async r=>{const n={name:r.name,code:r.code,teacher_id:r.teacherId,description:r.description},{data:i,error:s}=await St.from("subjects").insert(n).select().single();if(s)throw new Error("Failed to create subject");return uT(i)},onSuccess:()=>{t.invalidateQueries({queryKey:["subjects"]}),e({title:"Subject Created",description:"New subject has been added to the catalog."})}})}function bJ(){const t=Qi(),{toast:e}=hi();return Ds({mutationFn:async({subjectId:r,studentId:n})=>{const{data:i,error:s}=await St.from("enrollments").insert({subject_id:r,student_id:n}).select().single();if(s)throw new Error("Failed to enroll student");return i},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["subject-students",n.subjectId]}),t.invalidateQueries({queryKey:["student-subjects"]}),e({title:"Enrolled",description:"Student successfully enrolled in the subject."})}})}function _J(){const t=Qi(),{toast:e}=hi();return Ds({mutationFn:async({subjectId:r,studentId:n})=>{const{error:i}=await St.from("enrollments").delete().eq("subject_id",r).eq("student_id",n);if(i)throw new Error("Failed to unenroll student")},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["subject-students",n.subjectId]}),t.invalidateQueries({queryKey:["student-subjects"]}),e({title:"Unenrolled",description:"Student has been removed from the subject."})}})}function ZL(){return $i(),La({queryKey:["teacher-schedules"],queryFn:async()=>{const{data:t,error:e}=await St.from("schedules").select("*");if(e)throw console.error("Failed to fetch schedules:",e),new Error("Failed to fetch schedules");const r=[...new Set(t?.map(o=>o.subject_id)||[])],{data:n,error:i}=await St.from("subjects").select("id, name, code").in("id",r),s=n?.reduce((o,u)=>(o[u.id]={name:u.name,code:u.code},o),{})||{};return(t||[]).map(o=>({id:o.id,subjectId:o.subject_id,dayOfWeek:o.day_of_week,startTime:o.start_time,endTime:o.end_time,room:o.room,subjectName:s[o.subject_id]?.name,subjectCode:s[o.subject_id]?.code}))},enabled:!0})}function SJ(t){return La({queryKey:["subject-schedules",t],queryFn:async()=>{const{data:e,error:r}=await St.from("subjects").select("name, code").eq("id",t).single();r&&console.error("Failed to fetch subject:",r);const{data:n,error:i}=await St.from("schedules").select("*").eq("subject_id",t);if(i)throw console.error("Failed to fetch schedules:",i),new Error("Failed to fetch schedules");return(n||[]).map(s=>({id:s.id,subjectId:s.subject_id,dayOfWeek:s.day_of_week,startTime:s.start_time,endTime:s.end_time,room:s.room,subjectName:e?.name,subjectCode:e?.code}))},enabled:!!t})}function EJ(){const t=Qi(),{toast:e}=hi();return Ds({mutationFn:async r=>{const n={subject_id:r.subjectId,day_of_week:r.dayOfWeek,start_time:r.startTime,end_time:r.endTime,room:r.room},{data:i,error:s}=await St.from("schedules").insert(n).select("*").single();if(s)throw console.error("Failed to create schedule:",s),new Error("Failed to create schedule");return{id:i.id,subjectId:i.subject_id,dayOfWeek:i.day_of_week,startTime:i.start_time,endTime:i.end_time,room:i.room}},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["teacher-schedules"]}),t.invalidateQueries({queryKey:["subject-schedules",n.subjectId]}),e({title:"Schedule Created",description:"New schedule has been added."})},onError:()=>{e({title:"Error",description:"Failed to create schedule.",variant:"destructive"})}})}function AJ(){const t=Qi(),{toast:e}=hi();return Ds({mutationFn:async r=>{const{error:n}=await St.from("schedules").delete().eq("id",r);if(n)throw new Error("Failed to delete schedule")},onSuccess:()=>{t.invalidateQueries({queryKey:["teacher-schedules"]}),t.invalidateQueries({queryKey:["subject-schedules"]}),e({title:"Schedule Deleted",description:"Schedule has been removed."})},onError:()=>{e({title:"Error",description:"Failed to delete schedule.",variant:"destructive"})}})}function CJ({status:t,className:e}){const n={present:"bg-green-100 text-green-700 border-green-200",late:"bg-orange-100 text-orange-700 border-orange-200",absent:"bg-red-100 text-red-700 border-red-200",excused:"bg-blue-100 text-blue-700 border-blue-200"}[t]||"bg-gray-100 text-gray-700 border-gray-200";return m.jsx("span",{className:Je("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border capitalize",n,e),children:t})}var Uw,u3;function ds(){if(u3)return Uw;u3=1;var t=Array.isArray;return Uw=t,Uw}var $w,d3;function QL(){if(d3)return $w;d3=1;var t=typeof $l=="object"&&$l&&$l.Object===Object&&$l;return $w=t,$w}var Vw,f3;function ho(){if(f3)return Vw;f3=1;var t=QL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Vw=r,Vw}var qw,h3;function qm(){if(h3)return qw;h3=1;var t=ho(),e=t.Symbol;return qw=e,qw}var zw,p3;function TJ(){if(p3)return zw;p3=1;var t=qm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var u=r.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var g=n.call(o);return f&&(u?o[i]=d:delete o[i]),g}return zw=s,zw}var Ww,m3;function OJ(){if(m3)return Ww;m3=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Ww=r,Ww}var Hw,g3;function el(){if(g3)return Hw;g3=1;var t=qm(),e=TJ(),r=OJ(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:s&&s in Object(u)?e(u):r(u)}return Hw=o,Hw}var Gw,y3;function tl(){if(y3)return Gw;y3=1;function t(e){return e!=null&&typeof e=="object"}return Gw=t,Gw}var Kw,v3;function zf(){if(v3)return Kw;v3=1;var t=el(),e=tl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Kw=n,Kw}var Xw,x3;function fT(){if(x3)return Xw;x3=1;var t=ds(),e=zf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return Xw=i,Xw}var Yw,w3;function Jl(){if(w3)return Yw;w3=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Yw=t,Yw}var Zw,b3;function hT(){if(b3)return Zw;b3=1;var t=el(),e=Jl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==s}return Zw=o,Zw}var Qw,_3;function NJ(){if(_3)return Qw;_3=1;var t=ho(),e=t["__core-js_shared__"];return Qw=e,Qw}var Jw,S3;function IJ(){if(S3)return Jw;S3=1;var t=NJ(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Jw=r,Jw}var eb,E3;function JL(){if(E3)return eb;E3=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return eb=r,eb}var tb,A3;function PJ(){if(A3)return tb;A3=1;var t=hT(),e=IJ(),r=Jl(),n=JL(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,g=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x(_){if(!r(_)||e(_))return!1;var T=t(_)?g:s;return T.test(n(_))}return tb=x,tb}var rb,C3;function RJ(){if(C3)return rb;C3=1;function t(e,r){return e?.[r]}return rb=t,rb}var nb,T3;function _u(){if(T3)return nb;T3=1;var t=PJ(),e=RJ();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return nb=r,nb}var ib,O3;function W1(){if(O3)return ib;O3=1;var t=_u(),e=t(Object,"create");return ib=e,ib}var sb,N3;function jJ(){if(N3)return sb;N3=1;var t=W1();function e(){this.__data__=t?t(null):{},this.size=0}return sb=e,sb}var ab,I3;function kJ(){if(I3)return ab;I3=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ab=t,ab}var ob,P3;function MJ(){if(P3)return ob;P3=1;var t=W1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var u=o[s];return u===e?void 0:u}return n.call(o,s)?o[s]:void 0}return ob=i,ob}var lb,R3;function DJ(){if(R3)return lb;R3=1;var t=W1(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return lb=n,lb}var cb,j3;function LJ(){if(j3)return cb;j3=1;var t=W1(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return cb=r,cb}var ub,k3;function BJ(){if(k3)return ub;k3=1;var t=jJ(),e=kJ(),r=MJ(),n=DJ(),i=LJ();function s(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,ub=s,ub}var db,M3;function FJ(){if(M3)return db;M3=1;function t(){this.__data__=[],this.size=0}return db=t,db}var fb,D3;function pT(){if(D3)return fb;D3=1;function t(e,r){return e===r||e!==e&&r!==r}return fb=t,fb}var hb,L3;function H1(){if(L3)return hb;L3=1;var t=pT();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return hb=e,hb}var pb,B3;function UJ(){if(B3)return pb;B3=1;var t=H1(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var u=s.length-1;return o==u?s.pop():r.call(s,o,1),--this.size,!0}return pb=n,pb}var mb,F3;function $J(){if(F3)return mb;F3=1;var t=H1();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return mb=e,mb}var gb,U3;function VJ(){if(U3)return gb;U3=1;var t=H1();function e(r){return t(this.__data__,r)>-1}return gb=e,gb}var yb,$3;function qJ(){if($3)return yb;$3=1;var t=H1();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return yb=e,yb}var vb,V3;function G1(){if(V3)return vb;V3=1;var t=FJ(),e=UJ(),r=$J(),n=VJ(),i=qJ();function s(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,vb=s,vb}var xb,q3;function mT(){if(q3)return xb;q3=1;var t=_u(),e=ho(),r=t(e,"Map");return xb=r,xb}var wb,z3;function zJ(){if(z3)return wb;z3=1;var t=BJ(),e=G1(),r=mT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return wb=n,wb}var bb,W3;function WJ(){if(W3)return bb;W3=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return bb=t,bb}var _b,H3;function K1(){if(H3)return _b;H3=1;var t=WJ();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return _b=e,_b}var Sb,G3;function HJ(){if(G3)return Sb;G3=1;var t=K1();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Sb=e,Sb}var Eb,K3;function GJ(){if(K3)return Eb;K3=1;var t=K1();function e(r){return t(this,r).get(r)}return Eb=e,Eb}var Ab,X3;function KJ(){if(X3)return Ab;X3=1;var t=K1();function e(r){return t(this,r).has(r)}return Ab=e,Ab}var Cb,Y3;function XJ(){if(Y3)return Cb;Y3=1;var t=K1();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return Cb=e,Cb}var Tb,Z3;function gT(){if(Z3)return Tb;Z3=1;var t=zJ(),e=HJ(),r=GJ(),n=KJ(),i=XJ();function s(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Tb=s,Tb}var Ob,Q3;function e7(){if(Q3)return Ob;Q3=1;var t=gT(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,u=i?i.apply(this,o):o[0],d=s.cache;if(d.has(u))return d.get(u);var f=n.apply(this,o);return s.cache=d.set(u,f)||d,f};return s.cache=new(r.Cache||t),s}return r.Cache=t,Ob=r,Ob}var Nb,J3;function YJ(){if(J3)return Nb;J3=1;var t=e7(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return Nb=r,Nb}var Ib,eR;function ZJ(){if(eR)return Ib;eR=1;var t=YJ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,u,d,f){s.push(d?f.replace(r,"$1"):u||o)}),s});return Ib=n,Ib}var Pb,tR;function yT(){if(tR)return Pb;tR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return Pb=t,Pb}var Rb,rR;function QJ(){if(rR)return Rb;rR=1;var t=qm(),e=yT(),r=ds(),n=zf(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Rb=o,Rb}var jb,nR;function t7(){if(nR)return jb;nR=1;var t=QJ();function e(r){return r==null?"":t(r)}return jb=e,jb}var kb,iR;function r7(){if(iR)return kb;iR=1;var t=ds(),e=fT(),r=ZJ(),n=t7();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return kb=i,kb}var Mb,sR;function X1(){if(sR)return Mb;sR=1;var t=zf();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Mb=e,Mb}var Db,aR;function vT(){if(aR)return Db;aR=1;var t=r7(),e=X1();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return Db=r,Db}var Lb,oR;function n7(){if(oR)return Lb;oR=1;var t=vT();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return Lb=e,Lb}var JJ=n7();const Ms=Ar(JJ);var Bb,lR;function eee(){if(lR)return Bb;lR=1;function t(e){return e==null}return Bb=t,Bb}var tee=eee();const ir=Ar(tee);var Fb,cR;function ree(){if(cR)return Fb;cR=1;var t=el(),e=ds(),r=tl(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Fb=i,Fb}var nee=ree();const cu=Ar(nee);var iee=hT();const Ht=Ar(iee);var see=Jl();const Wf=Ar(see);var Ub={exports:{}},_r={};var uR;function aee(){if(uR)return _r;uR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),O;O=Symbol.for("react.module.reference");function E(A){if(typeof A=="object"&&A!==null){var R=A.$$typeof;switch(R){case t:switch(A=A.type,A){case r:case i:case n:case f:case g:return A;default:switch(A=A&&A.$$typeof,A){case u:case o:case d:case _:case x:case s:return A;default:return R}}case e:return R}}}return _r.ContextConsumer=o,_r.ContextProvider=s,_r.Element=t,_r.ForwardRef=d,_r.Fragment=r,_r.Lazy=_,_r.Memo=x,_r.Portal=e,_r.Profiler=i,_r.StrictMode=n,_r.Suspense=f,_r.SuspenseList=g,_r.isAsyncMode=function(){return!1},_r.isConcurrentMode=function(){return!1},_r.isContextConsumer=function(A){return E(A)===o},_r.isContextProvider=function(A){return E(A)===s},_r.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},_r.isForwardRef=function(A){return E(A)===d},_r.isFragment=function(A){return E(A)===r},_r.isLazy=function(A){return E(A)===_},_r.isMemo=function(A){return E(A)===x},_r.isPortal=function(A){return E(A)===e},_r.isProfiler=function(A){return E(A)===i},_r.isStrictMode=function(A){return E(A)===n},_r.isSuspense=function(A){return E(A)===f},_r.isSuspenseList=function(A){return E(A)===g},_r.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===i||A===n||A===f||A===g||A===T||typeof A=="object"&&A!==null&&(A.$$typeof===_||A.$$typeof===x||A.$$typeof===s||A.$$typeof===o||A.$$typeof===d||A.$$typeof===O||A.getModuleId!==void 0)},_r.typeOf=E,_r}var dR;function oee(){return dR||(dR=1,Ub.exports=aee()),Ub.exports}var lee=oee(),$b,fR;function i7(){if(fR)return $b;fR=1;var t=el(),e=tl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return $b=n,$b}var Vb,hR;function cee(){if(hR)return Vb;hR=1;var t=i7();function e(r){return t(r)&&r!=+r}return Vb=e,Vb}var uee=cee();const zm=Ar(uee);var dee=i7();const fee=Ar(dee);var Gi=function(e){return e===0?0:e>0?1:-1},Kc=function(e){return cu(e)&&e.indexOf("%")===e.length-1},Qe=function(e){return fee(e)&&!zm(e)},hee=function(e){return ir(e)},Jn=function(e){return Qe(e)||cu(e)},pee=0,Wm=function(e){var r=++pee;return"".concat(e||"").concat(r)},Ki=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(e)&&!cu(e))return n;var s;if(Kc(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return zm(s)&&(s=n),i&&s>r&&(s=r),s},_d=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},mee=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ll=function(e,r){return Qe(e)&&Qe(r)?function(n){return e+n*(r-e)}:function(){return r}};function ME(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ms(n,e))===r})}var gee=function(e,r){return Qe(e)&&Qe(r)?e-r:cu(e)&&cu(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Bd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function DE(t){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(t)}var yee=["viewBox","children"],vee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pR=["points","pathLength"],qb={svg:yee,polygon:pR,polyline:pR},xT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yy=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),!Wf(n))return null;var i={};return Object.keys(n).forEach(function(s){xT.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},xee=function(e,r,n){return function(i){return e(r,n,i),null}},uu=function(e,r,n){if(!Wf(e)||DE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];xT.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=xee(o,r,n))}),i},wee=["children"],bee=["children"];function mR(t,e){if(t==null)return{};var r=_ee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Uo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yR=null,zb=null,wT=function t(e){if(e===yR&&Array.isArray(zb))return zb;var r=[];return M.Children.forEach(e,function(n){ir(n)||(lee.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),zb=r,yR=e,r};function na(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Uo(i)}):n=[Uo(e)],wT(t).forEach(function(i){var s=Ms(i,"type.displayName")||Ms(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function As(t,e){var r=na(t,e);return r&&r[0]}var vR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Qe(n)||n<=0||!Qe(i)||i<=0)},See=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Eee=function(e){return e&&e.type&&cu(e.type)&&See.indexOf(e.type)>=0},Aee=function(e,r,n,i){var s,o=(s=qb?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ht(e)&&(i&&o.includes(r)||vee.includes(r))||n&&xT.includes(r)},Ut=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!Wf(i))return null;var s={};return Object.keys(i).forEach(function(o){var u;Aee((u=i)===null||u===void 0?void 0:u[o],o,r,n)&&(s[o]=i[o])}),s},LE=function t(e,r){if(e===r)return!0;var n=M.Children.count(e);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return xR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!xR(s,o))return!1}return!0},xR=function(e,r){if(ir(e)&&ir(r))return!0;if(!ir(e)&&!ir(r)){var n=e.props||{},i=n.children,s=mR(n,wee),o=r.props||{},u=o.children,d=mR(o,bee);return i&&u?Bd(s,d)&&LE(i,u):!i&&!u?Bd(s,d):!1}return!1},wR=function(e,r){var n=[],i={};return wT(e).forEach(function(s,o){if(Eee(s))n.push(s);else if(s){var u=Uo(s.type),d=r[u]||{},f=d.handler,g=d.once;if(f&&(!g||!i[u])){var x=f(s,u,o);n.push(x),i[u]=!0}}}),n},Cee=function(e){var r=e&&e.type;return r&&gR[r]?gR[r]:null},Tee=function(e,r){return wT(r).indexOf(e)},Oee=["children","width","height","viewBox","className","style","title","desc"];function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BE.apply(this,arguments)}function Nee(t,e){if(t==null)return{};var r=Iee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FE(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,u=t.title,d=t.desc,f=Nee(t,Oee),g=i||{width:r,height:n,x:0,y:0},x=Qt("recharts-surface",s);return oe.createElement("svg",BE({},Ut(f,!0,"svg"),{className:x,width:r,height:n,style:o,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),oe.createElement("title",null,u),oe.createElement("desc",null,d),e)}var Pee=["children","className"];function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UE.apply(this,arguments)}function Ree(t,e){if(t==null)return{};var r=jee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nr=oe.forwardRef(function(t,e){var r=t.children,n=t.className,i=Ree(t,Pee),s=Qt("recharts-layer",n);return oe.createElement("g",UE({className:s},Ut(i,!0),{ref:e}),r)}),$o=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},Wb,bR;function kee(){if(bR)return Wb;bR=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return Wb=t,Wb}var Hb,_R;function Mee(){if(_R)return Hb;_R=1;var t=kee();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return Hb=e,Hb}var Gb,SR;function s7(){if(SR)return Gb;SR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+s+"]");function d(f){return u.test(f)}return Gb=d,Gb}var Kb,ER;function Dee(){if(ER)return Kb;ER=1;function t(e){return e.split("")}return Kb=t,Kb}var Xb,AR;function Lee(){if(AR)return Xb;AR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",g="[^"+t+"]",x="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",T="\\u200d",O=f+"?",E="["+s+"]?",A="(?:"+T+"(?:"+[g,x,_].join("|")+")"+E+O+")*",R=E+O+A,P="(?:"+[g+u+"?",u,x,_,o].join("|")+")",I=RegExp(d+"(?="+d+")|"+P+R,"g");function D(L){return L.match(I)||[]}return Xb=D,Xb}var Yb,CR;function Bee(){if(CR)return Yb;CR=1;var t=Dee(),e=s7(),r=Lee();function n(i){return e(i)?r(i):t(i)}return Yb=n,Yb}var Zb,TR;function Fee(){if(TR)return Zb;TR=1;var t=Mee(),e=s7(),r=Bee(),n=t7();function i(s){return function(o){o=n(o);var u=e(o)?r(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[s]()+f}}return Zb=i,Zb}var Qb,OR;function Uee(){if(OR)return Qb;OR=1;var t=Fee(),e=t("toUpperCase");return Qb=e,Qb}var $ee=Uee();const Y1=Ar($ee);function Wr(t){return function(){return t}}const a7=Math.cos,vy=Math.sin,Fa=Math.sqrt,xy=Math.PI,Z1=2*xy,$E=Math.PI,VE=2*$E,Uc=1e-6,Vee=VE-Uc;function o7(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function qee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return o7;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class zee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?o7:qee(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,d=n-e,f=i-r,g=o-e,x=u-r,_=g*g+x*x;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(_>Uc)if(!(Math.abs(x*d-f*g)>Uc)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let T=n-o,O=i-u,E=d*d+f*f,A=T*T+O*O,R=Math.sqrt(E),P=Math.sqrt(_),I=s*Math.tan(($E-Math.acos((E+_-A)/(2*R*P)))/2),D=I/P,L=I/R;Math.abs(D-1)>Uc&&this._append`L${e+D*g},${r+D*x}`,this._append`A${s},${s},0,0,${+(x*T>g*O)},${this._x1=e+L*d},${this._y1=r+L*f}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=e+u,g=r+d,x=1^o,_=o?i-s:s-i;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>Uc||Math.abs(this._y1-g)>Uc)&&this._append`L${f},${g}`,n&&(_<0&&(_=_%VE+VE),_>Vee?this._append`A${n},${n},0,1,${x},${e-u},${r-d}A${n},${n},0,1,${x},${this._x1=f},${this._y1=g}`:_>Uc&&this._append`A${n},${n},0,${+(_>=$E)},${x},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function bT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new zee(e)}function _T(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function l7(t){this._context=t}l7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Q1(t){return new l7(t)}function c7(t){return t[0]}function u7(t){return t[1]}function d7(t,e){var r=Wr(!0),n=null,i=Q1,s=null,o=bT(u);t=typeof t=="function"?t:t===void 0?c7:Wr(t),e=typeof e=="function"?e:e===void 0?u7:Wr(e);function u(d){var f,g=(d=_T(d)).length,x,_=!1,T;for(n==null&&(s=i(T=o())),f=0;f<=g;++f)!(f<g&&r(x=d[f],f,d))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+t(x,f,d),+e(x,f,d));if(T)return s=null,T+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Wr(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Wr(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Wr(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(s=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=s=null:s=i(n=d),u):n},u}function v0(t,e,r){var n=null,i=Wr(!0),s=null,o=Q1,u=null,d=bT(f);t=typeof t=="function"?t:t===void 0?c7:Wr(+t),e=typeof e=="function"?e:Wr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?u7:Wr(+r);function f(x){var _,T,O,E=(x=_T(x)).length,A,R=!1,P,I=new Array(E),D=new Array(E);for(s==null&&(u=o(P=d())),_=0;_<=E;++_){if(!(_<E&&i(A=x[_],_,x))===R)if(R=!R)T=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),O=_-1;O>=T;--O)u.point(I[O],D[O]);u.lineEnd(),u.areaEnd()}R&&(I[_]=+t(A,_,x),D[_]=+e(A,_,x),u.point(n?+n(A,_,x):I[_],r?+r(A,_,x):D[_]))}if(P)return u=null,P+""||null}function g(){return d7().defined(i).curve(o).context(s)}return f.x=function(x){return arguments.length?(t=typeof x=="function"?x:Wr(+x),n=null,f):t},f.x0=function(x){return arguments.length?(t=typeof x=="function"?x:Wr(+x),f):t},f.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Wr(+x),f):n},f.y=function(x){return arguments.length?(e=typeof x=="function"?x:Wr(+x),r=null,f):e},f.y0=function(x){return arguments.length?(e=typeof x=="function"?x:Wr(+x),f):e},f.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Wr(+x),f):r},f.lineX0=f.lineY0=function(){return g().x(t).y(e)},f.lineY1=function(){return g().x(t).y(r)},f.lineX1=function(){return g().x(n).y(e)},f.defined=function(x){return arguments.length?(i=typeof x=="function"?x:Wr(!!x),f):i},f.curve=function(x){return arguments.length?(o=x,s!=null&&(u=o(s)),f):o},f.context=function(x){return arguments.length?(x==null?s=u=null:u=o(s=x),f):s},f}class f7{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Wee(t){return new f7(t,!0)}function Hee(t){return new f7(t,!1)}const ST={draw(t,e){const r=Fa(e/xy);t.moveTo(r,0),t.arc(0,0,r,0,Z1)}},Gee={draw(t,e){const r=Fa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},h7=Fa(1/3),Kee=h7*2,Xee={draw(t,e){const r=Fa(e/Kee),n=r*h7;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Yee={draw(t,e){const r=Fa(e),n=-r/2;t.rect(n,n,r,r)}},Zee=.8908130915292852,p7=vy(xy/10)/vy(7*xy/10),Qee=vy(Z1/10)*p7,Jee=-a7(Z1/10)*p7,ete={draw(t,e){const r=Fa(e*Zee),n=Qee*r,i=Jee*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=Z1*s/5,u=a7(o),d=vy(o);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},Jb=Fa(3),tte={draw(t,e){const r=-Fa(e/(Jb*3));t.moveTo(0,r*2),t.lineTo(-Jb*r,-r),t.lineTo(Jb*r,-r),t.closePath()}},Ys=-.5,Zs=Fa(3)/2,qE=1/Fa(12),rte=(qE/2+1)*3,nte={draw(t,e){const r=Fa(e/rte),n=r/2,i=r*qE,s=n,o=r*qE+r,u=-s,d=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(u,d),t.lineTo(Ys*n-Zs*i,Zs*n+Ys*i),t.lineTo(Ys*s-Zs*o,Zs*s+Ys*o),t.lineTo(Ys*u-Zs*d,Zs*u+Ys*d),t.lineTo(Ys*n+Zs*i,Ys*i-Zs*n),t.lineTo(Ys*s+Zs*o,Ys*o-Zs*s),t.lineTo(Ys*u+Zs*d,Ys*d-Zs*u),t.closePath()}};function ite(t,e){let r=null,n=bT(i);t=typeof t=="function"?t:Wr(t||ST),e=typeof e=="function"?e:Wr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Wr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Wr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function wy(){}function by(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function m7(t){this._context=t}m7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:by(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:by(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ste(t){return new m7(t)}function g7(t){this._context=t}g7.prototype={areaStart:wy,areaEnd:wy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:by(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ate(t){return new g7(t)}function y7(t){this._context=t}y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:by(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ote(t){return new y7(t)}function v7(t){this._context=t}v7.prototype={areaStart:wy,areaEnd:wy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lte(t){return new v7(t)}function NR(t){return t<0?-1:1}function IR(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),u=(s*i+o*n)/(n+i);return(NR(s)+NR(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function PR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function e2(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,u=(s-n)/3;t._context.bezierCurveTo(n+u,i+u*e,s-u,o-u*r,s,o)}function _y(t){this._context=t}_y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e2(this,this._t0,PR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,e2(this,PR(this,r=IR(this,t,e)),r);break;default:e2(this,this._t0,r=IR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function x7(t){this._context=new w7(t)}(x7.prototype=Object.create(_y.prototype)).point=function(t,e){_y.prototype.point.call(this,e,t)};function w7(t){this._context=t}w7.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function cte(t){return new _y(t)}function ute(t){return new x7(t)}function b7(t){this._context=t}b7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=RR(t),i=RR(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RR(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function dte(t){return new b7(t)}function J1(t,e){this._context=t,this._t=e}J1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function fte(t){return new J1(t,.5)}function hte(t){return new J1(t,0)}function pte(t){return new J1(t,1)}function tf(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,u=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function zE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function mte(t,e){return t[e]}function gte(t){const e=[];return e.key=t,e}function yte(){var t=Wr([]),e=zE,r=tf,n=mte;function i(s){var o=Array.from(t.apply(this,arguments),gte),u,d=o.length,f=-1,g;for(const x of s)for(u=0,++f;u<d;++u)(o[u][f]=[0,+n(x,o[u].key,f,s)]).data=x;for(u=0,g=_T(e(o));u<d;++u)o[g[u]].index=u;return r(o,g),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Wr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Wr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?zE:typeof s=="function"?s:Wr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??tf,i):r},i}function vte(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}tf(t,e)}}function xte(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,u=0;o<i;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}tf(t,e)}}function wte(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var u=0,d=0,f=0;u<o;++u){for(var g=t[e[u]],x=g[n][1]||0,_=g[n-1][1]||0,T=(x-_)/2,O=0;O<u;++O){var E=t[e[O]],A=E[n][1]||0,R=E[n-1][1]||0;T+=A-R}d+=x,f+=T*x}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,tf(t,e)}}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}var bte=["type","size","sizeType"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WE.apply(this,arguments)}function jR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(r),!0).forEach(function(n){_te(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _te(t,e,r){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ste(t){var e=Ete(t,"string");return Yp(e)=="symbol"?e:e+""}function Ete(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ate(t,e){if(t==null)return{};var r=Cte(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _7={symbolCircle:ST,symbolCross:Gee,symbolDiamond:Xee,symbolSquare:Yee,symbolStar:ete,symbolTriangle:tte,symbolWye:nte},Tte=Math.PI/180,Ote=function(e){var r="symbol".concat(Y1(e));return _7[r]||ST},Nte=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Tte;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ite=function(e,r){_7["symbol".concat(Y1(e))]=r},ET=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,d=Ate(e,bte),f=kR(kR({},d),{},{type:n,size:s,sizeType:u}),g=function(){var A=Ote(n),R=ite().type(A).size(Nte(s,u,n));return R()},x=f.className,_=f.cx,T=f.cy,O=Ut(f,!0);return _===+_&&T===+T&&s===+s?oe.createElement("path",WE({},O,{className:Qt("recharts-symbols",x),transform:"translate(".concat(_,", ").concat(T,")"),d:g()})):null};ET.registerSymbol=Ite;function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HE.apply(this,arguments)}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){Zp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E7(n.key),n)}}function kte(t,e,r){return e&&jte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mte(t,e,r){return e=Sy(e),Dte(t,S7()?Reflect.construct(e,r||[],Sy(t).constructor):e.apply(t,r))}function Dte(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lte(t)}function Lte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!t})()}function Sy(t){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(t)}function Bte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GE(t,e)}function Zp(t,e,r){return e=E7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E7(t){var e=Fte(t,"string");return rf(e)=="symbol"?e:e+""}function Fte(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qs=32,AT=(function(t){function e(){return Rte(this,e),Mte(this,e,arguments)}return Bte(e,t),kte(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Qs/2,o=Qs/6,u=Qs/3,d=n.inactive?i:n.color;if(n.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Qs,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Qs,"M").concat(2*u,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return oe.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Qs/8,"h").concat(Qs,"v").concat(Qs*3/4,"h").concat(-Qs,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(n.legendIcon)){var f=Pte({},n);return delete f.legendIcon,oe.cloneElement(n.legendIcon,f)}return oe.createElement(ET,{fill:d,cx:s,cy:s,size:Qs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,g={x:0,y:0,width:Qs,height:Qs},x={display:u==="horizontal"?"inline-block":"block",marginRight:10},_={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(T,O){var E=T.formatter||d,A=Qt(Zp(Zp({"recharts-legend-item":!0},"legend-item-".concat(O),!0),"inactive",T.inactive));if(T.type==="none")return null;var R=Ht(T.value)?null:T.value;$o(!Ht(T.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=T.inactive?f:T.color;return oe.createElement("li",HE({className:A,style:x,key:"legend-item-".concat(O)},uu(n.props,T,O)),oe.createElement(FE,{width:o,height:o,viewBox:g,style:_},n.renderIcon(T)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},E?E(R,T,O):R))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(M.PureComponent);Zp(AT,"displayName","Legend");Zp(AT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var t2,DR;function Ute(){if(DR)return t2;DR=1;var t=G1();function e(){this.__data__=new t,this.size=0}return t2=e,t2}var r2,LR;function $te(){if(LR)return r2;LR=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return r2=t,r2}var n2,BR;function Vte(){if(BR)return n2;BR=1;function t(e){return this.__data__.get(e)}return n2=t,n2}var i2,FR;function qte(){if(FR)return i2;FR=1;function t(e){return this.__data__.has(e)}return i2=t,i2}var s2,UR;function zte(){if(UR)return s2;UR=1;var t=G1(),e=mT(),r=gT(),n=200;function i(s,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([s,o]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,o),this.size=u.size,this}return s2=i,s2}var a2,$R;function A7(){if($R)return a2;$R=1;var t=G1(),e=Ute(),r=$te(),n=Vte(),i=qte(),s=zte();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,a2=o,a2}var o2,VR;function Wte(){if(VR)return o2;VR=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return o2=e,o2}var l2,qR;function Hte(){if(qR)return l2;qR=1;function t(e){return this.__data__.has(e)}return l2=t,l2}var c2,zR;function C7(){if(zR)return c2;zR=1;var t=gT(),e=Wte(),r=Hte();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,c2=n,c2}var u2,WR;function T7(){if(WR)return u2;WR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return u2=t,u2}var d2,HR;function O7(){if(HR)return d2;HR=1;function t(e,r){return e.has(r)}return d2=t,d2}var f2,GR;function N7(){if(GR)return f2;GR=1;var t=C7(),e=T7(),r=O7(),n=1,i=2;function s(o,u,d,f,g,x){var _=d&n,T=o.length,O=u.length;if(T!=O&&!(_&&O>T))return!1;var E=x.get(o),A=x.get(u);if(E&&A)return E==u&&A==o;var R=-1,P=!0,I=d&i?new t:void 0;for(x.set(o,u),x.set(u,o);++R<T;){var D=o[R],L=u[R];if(f)var F=_?f(L,D,R,u,o,x):f(D,L,R,o,u,x);if(F!==void 0){if(F)continue;P=!1;break}if(I){if(!e(u,function(U,H){if(!r(I,H)&&(D===U||g(D,U,d,f,x)))return I.push(H)})){P=!1;break}}else if(!(D===L||g(D,L,d,f,x))){P=!1;break}}return x.delete(o),x.delete(u),P}return f2=s,f2}var h2,KR;function Gte(){if(KR)return h2;KR=1;var t=ho(),e=t.Uint8Array;return h2=e,h2}var p2,XR;function Kte(){if(XR)return p2;XR=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return p2=t,p2}var m2,YR;function CT(){if(YR)return m2;YR=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return m2=t,m2}var g2,ZR;function Xte(){if(ZR)return g2;ZR=1;var t=qm(),e=Gte(),r=pT(),n=N7(),i=Kte(),s=CT(),o=1,u=2,d="[object Boolean]",f="[object Date]",g="[object Error]",x="[object Map]",_="[object Number]",T="[object RegExp]",O="[object Set]",E="[object String]",A="[object Symbol]",R="[object ArrayBuffer]",P="[object DataView]",I=t?t.prototype:void 0,D=I?I.valueOf:void 0;function L(F,U,H,W,ce,K,z){switch(H){case P:if(F.byteLength!=U.byteLength||F.byteOffset!=U.byteOffset)return!1;F=F.buffer,U=U.buffer;case R:return!(F.byteLength!=U.byteLength||!K(new e(F),new e(U)));case d:case f:case _:return r(+F,+U);case g:return F.name==U.name&&F.message==U.message;case T:case E:return F==U+"";case x:var Z=i;case O:var Q=W&o;if(Z||(Z=s),F.size!=U.size&&!Q)return!1;var Y=z.get(F);if(Y)return Y==U;W|=u,z.set(F,U);var J=n(Z(F),Z(U),W,ce,K,z);return z.delete(F),J;case A:if(D)return D.call(F)==D.call(U)}return!1}return g2=L,g2}var y2,QR;function I7(){if(QR)return y2;QR=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return y2=t,y2}var v2,JR;function Yte(){if(JR)return v2;JR=1;var t=I7(),e=ds();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return v2=r,v2}var x2,ej;function Zte(){if(ej)return x2;ej=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var u=e[n];r(u,n,e)&&(o[s++]=u)}return o}return x2=t,x2}var w2,tj;function Qte(){if(tj)return w2;tj=1;function t(){return[]}return w2=t,w2}var b2,rj;function Jte(){if(rj)return b2;rj=1;var t=Zte(),e=Qte(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return n.call(o,u)}))}:e;return b2=s,b2}var _2,nj;function ere(){if(nj)return _2;nj=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return _2=t,_2}var S2,ij;function tre(){if(ij)return S2;ij=1;var t=el(),e=tl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return S2=n,S2}var E2,sj;function TT(){if(sj)return E2;sj=1;var t=tre(),e=tl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return E2=s,E2}var lp={exports:{}},A2,aj;function rre(){if(aj)return A2;aj=1;function t(){return!1}return A2=t,A2}lp.exports;var oj;function P7(){return oj||(oj=1,(function(t,e){var r=ho(),n=rre(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,u=o?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;t.exports=f})(lp,lp.exports)),lp.exports}var C2,lj;function OT(){if(lj)return C2;lj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return C2=r,C2}var T2,cj;function NT(){if(cj)return T2;cj=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return T2=e,T2}var O2,uj;function nre(){if(uj)return O2;uj=1;var t=el(),e=NT(),r=tl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",g="[object Number]",x="[object Object]",_="[object RegExp]",T="[object Set]",O="[object String]",E="[object WeakMap]",A="[object ArrayBuffer]",R="[object DataView]",P="[object Float32Array]",I="[object Float64Array]",D="[object Int8Array]",L="[object Int16Array]",F="[object Int32Array]",U="[object Uint8Array]",H="[object Uint8ClampedArray]",W="[object Uint16Array]",ce="[object Uint32Array]",K={};K[P]=K[I]=K[D]=K[L]=K[F]=K[U]=K[H]=K[W]=K[ce]=!0,K[n]=K[i]=K[A]=K[s]=K[R]=K[o]=K[u]=K[d]=K[f]=K[g]=K[x]=K[_]=K[T]=K[O]=K[E]=!1;function z(Z){return r(Z)&&e(Z.length)&&!!K[t(Z)]}return O2=z,O2}var N2,dj;function R7(){if(dj)return N2;dj=1;function t(e){return function(r){return e(r)}}return N2=t,N2}var cp={exports:{}};cp.exports;var fj;function ire(){return fj||(fj=1,(function(t,e){var r=QL(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(cp,cp.exports)),cp.exports}var I2,hj;function j7(){if(hj)return I2;hj=1;var t=nre(),e=R7(),r=ire(),n=r&&r.isTypedArray,i=n?e(n):t;return I2=i,I2}var P2,pj;function sre(){if(pj)return P2;pj=1;var t=ere(),e=TT(),r=ds(),n=P7(),i=OT(),s=j7(),o=Object.prototype,u=o.hasOwnProperty;function d(f,g){var x=r(f),_=!x&&e(f),T=!x&&!_&&n(f),O=!x&&!_&&!T&&s(f),E=x||_||T||O,A=E?t(f.length,String):[],R=A.length;for(var P in f)(g||u.call(f,P))&&!(E&&(P=="length"||T&&(P=="offset"||P=="parent")||O&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||i(P,R)))&&A.push(P);return A}return P2=d,P2}var R2,mj;function are(){if(mj)return R2;mj=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return R2=e,R2}var j2,gj;function k7(){if(gj)return j2;gj=1;function t(e,r){return function(n){return e(r(n))}}return j2=t,j2}var k2,yj;function ore(){if(yj)return k2;yj=1;var t=k7(),e=t(Object.keys,Object);return k2=e,k2}var M2,vj;function lre(){if(vj)return M2;vj=1;var t=are(),e=ore(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&o.push(u);return o}return M2=i,M2}var D2,xj;function Hm(){if(xj)return D2;xj=1;var t=hT(),e=NT();function r(n){return n!=null&&e(n.length)&&!t(n)}return D2=r,D2}var L2,wj;function ev(){if(wj)return L2;wj=1;var t=sre(),e=lre(),r=Hm();function n(i){return r(i)?t(i):e(i)}return L2=n,L2}var B2,bj;function cre(){if(bj)return B2;bj=1;var t=Yte(),e=Jte(),r=ev();function n(i){return t(i,r,e)}return B2=n,B2}var F2,_j;function ure(){if(_j)return F2;_j=1;var t=cre(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,u,d,f,g){var x=u&e,_=t(s),T=_.length,O=t(o),E=O.length;if(T!=E&&!x)return!1;for(var A=T;A--;){var R=_[A];if(!(x?R in o:n.call(o,R)))return!1}var P=g.get(s),I=g.get(o);if(P&&I)return P==o&&I==s;var D=!0;g.set(s,o),g.set(o,s);for(var L=x;++A<T;){R=_[A];var F=s[R],U=o[R];if(d)var H=x?d(U,F,R,o,s,g):d(F,U,R,s,o,g);if(!(H===void 0?F===U||f(F,U,u,d,g):H)){D=!1;break}L||(L=R=="constructor")}if(D&&!L){var W=s.constructor,ce=o.constructor;W!=ce&&"constructor"in s&&"constructor"in o&&!(typeof W=="function"&&W instanceof W&&typeof ce=="function"&&ce instanceof ce)&&(D=!1)}return g.delete(s),g.delete(o),D}return F2=i,F2}var U2,Sj;function dre(){if(Sj)return U2;Sj=1;var t=_u(),e=ho(),r=t(e,"DataView");return U2=r,U2}var $2,Ej;function fre(){if(Ej)return $2;Ej=1;var t=_u(),e=ho(),r=t(e,"Promise");return $2=r,$2}var V2,Aj;function M7(){if(Aj)return V2;Aj=1;var t=_u(),e=ho(),r=t(e,"Set");return V2=r,V2}var q2,Cj;function hre(){if(Cj)return q2;Cj=1;var t=_u(),e=ho(),r=t(e,"WeakMap");return q2=r,q2}var z2,Tj;function pre(){if(Tj)return z2;Tj=1;var t=dre(),e=mT(),r=fre(),n=M7(),i=hre(),s=el(),o=JL(),u="[object Map]",d="[object Object]",f="[object Promise]",g="[object Set]",x="[object WeakMap]",_="[object DataView]",T=o(t),O=o(e),E=o(r),A=o(n),R=o(i),P=s;return(t&&P(new t(new ArrayBuffer(1)))!=_||e&&P(new e)!=u||r&&P(r.resolve())!=f||n&&P(new n)!=g||i&&P(new i)!=x)&&(P=function(I){var D=s(I),L=D==d?I.constructor:void 0,F=L?o(L):"";if(F)switch(F){case T:return _;case O:return u;case E:return f;case A:return g;case R:return x}return D}),z2=P,z2}var W2,Oj;function mre(){if(Oj)return W2;Oj=1;var t=A7(),e=N7(),r=Xte(),n=ure(),i=pre(),s=ds(),o=P7(),u=j7(),d=1,f="[object Arguments]",g="[object Array]",x="[object Object]",_=Object.prototype,T=_.hasOwnProperty;function O(E,A,R,P,I,D){var L=s(E),F=s(A),U=L?g:i(E),H=F?g:i(A);U=U==f?x:U,H=H==f?x:H;var W=U==x,ce=H==x,K=U==H;if(K&&o(E)){if(!o(A))return!1;L=!0,W=!1}if(K&&!W)return D||(D=new t),L||u(E)?e(E,A,R,P,I,D):r(E,A,U,R,P,I,D);if(!(R&d)){var z=W&&T.call(E,"__wrapped__"),Z=ce&&T.call(A,"__wrapped__");if(z||Z){var Q=z?E.value():E,Y=Z?A.value():A;return D||(D=new t),I(Q,Y,R,P,D)}}return K?(D||(D=new t),n(E,A,R,P,I,D)):!1}return W2=O,W2}var H2,Nj;function IT(){if(Nj)return H2;Nj=1;var t=mre(),e=tl();function r(n,i,s,o,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,u)}return H2=r,H2}var G2,Ij;function gre(){if(Ij)return G2;Ij=1;var t=A7(),e=IT(),r=1,n=2;function i(s,o,u,d){var f=u.length,g=f,x=!d;if(s==null)return!g;for(s=Object(s);f--;){var _=u[f];if(x&&_[2]?_[1]!==s[_[0]]:!(_[0]in s))return!1}for(;++f<g;){_=u[f];var T=_[0],O=s[T],E=_[1];if(x&&_[2]){if(O===void 0&&!(T in s))return!1}else{var A=new t;if(d)var R=d(O,E,T,s,o,A);if(!(R===void 0?e(E,O,r|n,d,A):R))return!1}}return!0}return G2=i,G2}var K2,Pj;function D7(){if(Pj)return K2;Pj=1;var t=Jl();function e(r){return r===r&&!t(r)}return K2=e,K2}var X2,Rj;function yre(){if(Rj)return X2;Rj=1;var t=D7(),e=ev();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],u=n[o];i[s]=[o,u,t(u)]}return i}return X2=r,X2}var Y2,jj;function L7(){if(jj)return Y2;jj=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Y2=t,Y2}var Z2,kj;function vre(){if(kj)return Z2;kj=1;var t=gre(),e=yre(),r=L7();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return Z2=n,Z2}var Q2,Mj;function xre(){if(Mj)return Q2;Mj=1;function t(e,r){return e!=null&&r in Object(e)}return Q2=t,Q2}var J2,Dj;function wre(){if(Dj)return J2;Dj=1;var t=r7(),e=TT(),r=ds(),n=OT(),i=NT(),s=X1();function o(u,d,f){d=t(d,u);for(var g=-1,x=d.length,_=!1;++g<x;){var T=s(d[g]);if(!(_=u!=null&&f(u,T)))break;u=u[T]}return _||++g!=x?_:(x=u==null?0:u.length,!!x&&i(x)&&n(T,x)&&(r(u)||e(u)))}return J2=o,J2}var e_,Lj;function bre(){if(Lj)return e_;Lj=1;var t=xre(),e=wre();function r(n,i){return n!=null&&e(n,i,t)}return e_=r,e_}var t_,Bj;function _re(){if(Bj)return t_;Bj=1;var t=IT(),e=n7(),r=bre(),n=fT(),i=D7(),s=L7(),o=X1(),u=1,d=2;function f(g,x){return n(g)&&i(x)?s(o(g),x):function(_){var T=e(_,g);return T===void 0&&T===x?r(_,g):t(x,T,u|d)}}return t_=f,t_}var r_,Fj;function Hf(){if(Fj)return r_;Fj=1;function t(e){return e}return r_=t,r_}var n_,Uj;function Sre(){if(Uj)return n_;Uj=1;function t(e){return function(r){return r?.[e]}}return n_=t,n_}var i_,$j;function Ere(){if($j)return i_;$j=1;var t=vT();function e(r){return function(n){return t(n,r)}}return i_=e,i_}var s_,Vj;function Are(){if(Vj)return s_;Vj=1;var t=Sre(),e=Ere(),r=fT(),n=X1();function i(s){return r(s)?t(n(s)):e(s)}return s_=i,s_}var a_,qj;function po(){if(qj)return a_;qj=1;var t=vre(),e=_re(),r=Hf(),n=ds(),i=Are();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return a_=s,a_}var o_,zj;function B7(){if(zj)return o_;zj=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return o_=t,o_}var l_,Wj;function Cre(){if(Wj)return l_;Wj=1;function t(e){return e!==e}return l_=t,l_}var c_,Hj;function Tre(){if(Hj)return c_;Hj=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return c_=t,c_}var u_,Gj;function Ore(){if(Gj)return u_;Gj=1;var t=B7(),e=Cre(),r=Tre();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return u_=n,u_}var d_,Kj;function Nre(){if(Kj)return d_;Kj=1;var t=Ore();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return d_=e,d_}var f_,Xj;function Ire(){if(Xj)return f_;Xj=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return f_=t,f_}var h_,Yj;function Pre(){if(Yj)return h_;Yj=1;function t(){}return h_=t,h_}var p_,Zj;function Rre(){if(Zj)return p_;Zj=1;var t=M7(),e=Pre(),r=CT(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return p_=i,p_}var m_,Qj;function jre(){if(Qj)return m_;Qj=1;var t=C7(),e=Nre(),r=Ire(),n=O7(),i=Rre(),s=CT(),o=200;function u(d,f,g){var x=-1,_=e,T=d.length,O=!0,E=[],A=E;if(g)O=!1,_=r;else if(T>=o){var R=f?null:i(d);if(R)return s(R);O=!1,_=n,A=new t}else A=f?[]:E;e:for(;++x<T;){var P=d[x],I=f?f(P):P;if(P=g||P!==0?P:0,O&&I===I){for(var D=A.length;D--;)if(A[D]===I)continue e;f&&A.push(I),E.push(P)}else _(A,I,g)||(A!==E&&A.push(I),E.push(P))}return E}return m_=u,m_}var g_,Jj;function kre(){if(Jj)return g_;Jj=1;var t=po(),e=jre();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return g_=r,g_}var Mre=kre();const ek=Ar(Mre);function F7(t,e,r){return e===!0?ek(t,r):Ht(e)?ek(t,e):t}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}var Dre=["ref"];function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){tv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$7(n.key),n)}}function Bre(t,e,r){return e&&rk(t.prototype,e),r&&rk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fre(t,e,r){return e=Ey(e),Ure(t,U7()?Reflect.construct(e,r||[],Ey(t).constructor):e.apply(t,r))}function Ure(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $re(t)}function $re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U7=function(){return!!t})()}function Ey(t){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ey(t)}function Vre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KE(t,e)}function tv(t,e,r){return e=$7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $7(t){var e=qre(t,"string");return nf(e)=="symbol"?e:e+""}function qre(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zre(t,e){if(t==null)return{};var r=Wre(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hre(t){return t.value}function Gre(t,e){if(oe.isValidElement(t))return oe.cloneElement(t,e);if(typeof t=="function")return oe.createElement(t,e);e.ref;var r=zre(e,Dre);return oe.createElement(AT,r)}var nk=1,Fd=(function(t){function e(){var r;Lre(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Fre(this,e,[].concat(i)),tv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Vre(e,t),Bre(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>nk||Math.abs(i.height-this.lastBoundingBox.height)>nk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,g=i.chartHeight,x,_;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var T=this.getBBoxSnapshot();x={left:((f||0)-T.width)/2}}else x=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var O=this.getBBoxSnapshot();_={top:((g||0)-O.height)/2}}else _=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Io(Io({},x),_)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,g=i.payload,x=Io(Io({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return oe.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(T){n.wrapperNode=T}},Gre(s,Io(Io({},this.props),{},{payload:F7(g,f,Hre)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Io(Io({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Qe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(M.PureComponent);tv(Fd,"displayName","Legend");tv(Fd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var y_,ik;function Kre(){if(ik)return y_;ik=1;var t=qm(),e=TT(),r=ds(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return y_=i,y_}var v_,sk;function V7(){if(sk)return v_;sk=1;var t=I7(),e=Kre();function r(n,i,s,o,u){var d=-1,f=n.length;for(s||(s=e),u||(u=[]);++d<f;){var g=n[d];i>0&&s(g)?i>1?r(g,i-1,s,o,u):t(u,g):o||(u[u.length]=g)}return u}return v_=r,v_}var x_,ak;function Xre(){if(ak)return x_;ak=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),u=i(r),d=u.length;d--;){var f=u[e?d:++s];if(n(o[f],f,o)===!1)break}return r}}return x_=t,x_}var w_,ok;function Yre(){if(ok)return w_;ok=1;var t=Xre(),e=t();return w_=e,w_}var b_,lk;function q7(){if(lk)return b_;lk=1;var t=Yre(),e=ev();function r(n,i){return n&&t(n,i,e)}return b_=r,b_}var __,ck;function Zre(){if(ck)return __;ck=1;var t=Hm();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,u=n?o:-1,d=Object(i);(n?u--:++u<o)&&s(d[u],u,d)!==!1;);return i}}return __=e,__}var S_,uk;function PT(){if(uk)return S_;uk=1;var t=q7(),e=Zre(),r=e(t);return S_=r,S_}var E_,dk;function z7(){if(dk)return E_;dk=1;var t=PT(),e=Hm();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(u,d,f){o[++s]=i(u,d,f)}),o}return E_=r,E_}var A_,fk;function Qre(){if(fk)return A_;fk=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return A_=t,A_}var C_,hk;function Jre(){if(hk)return C_;hk=1;var t=zf();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,u=t(r),d=n!==void 0,f=n===null,g=n===n,x=t(n);if(!f&&!x&&!u&&r>n||u&&d&&g&&!f&&!x||s&&d&&g||!i&&g||!o)return 1;if(!s&&!u&&!x&&r<n||x&&i&&o&&!s&&!u||f&&i&&o||!d&&o||!g)return-1}return 0}return C_=e,C_}var T_,pk;function ene(){if(pk)return T_;pk=1;var t=Jre();function e(r,n,i){for(var s=-1,o=r.criteria,u=n.criteria,d=o.length,f=i.length;++s<d;){var g=t(o[s],u[s]);if(g){if(s>=f)return g;var x=i[s];return g*(x=="desc"?-1:1)}}return r.index-n.index}return T_=e,T_}var O_,mk;function tne(){if(mk)return O_;mk=1;var t=yT(),e=vT(),r=po(),n=z7(),i=Qre(),s=R7(),o=ene(),u=Hf(),d=ds();function f(g,x,_){x.length?x=t(x,function(E){return d(E)?function(A){return e(A,E.length===1?E[0]:E)}:E}):x=[u];var T=-1;x=t(x,s(r));var O=n(g,function(E,A,R){var P=t(x,function(I){return I(E)});return{criteria:P,index:++T,value:E}});return i(O,function(E,A){return o(E,A,_)})}return O_=f,O_}var N_,gk;function rne(){if(gk)return N_;gk=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return N_=t,N_}var I_,yk;function nne(){if(yk)return I_;yk=1;var t=rne(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,d=e(o.length-i,0),f=Array(d);++u<d;)f[u]=o[i+u];u=-1;for(var g=Array(i+1);++u<i;)g[u]=o[u];return g[i]=s(f),t(n,this,g)}}return I_=r,I_}var P_,vk;function ine(){if(vk)return P_;vk=1;function t(e){return function(){return e}}return P_=t,P_}var R_,xk;function W7(){if(xk)return R_;xk=1;var t=_u(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return R_=e,R_}var j_,wk;function sne(){if(wk)return j_;wk=1;var t=ine(),e=W7(),r=Hf(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return j_=n,j_}var k_,bk;function ane(){if(bk)return k_;bk=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var u=r(),d=e-(u-o);if(o=u,d>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return k_=n,k_}var M_,_k;function one(){if(_k)return M_;_k=1;var t=sne(),e=ane(),r=e(t);return M_=r,M_}var D_,Sk;function lne(){if(Sk)return D_;Sk=1;var t=Hf(),e=nne(),r=one();function n(i,s){return r(e(i,s,t),i+"")}return D_=n,D_}var L_,Ek;function rv(){if(Ek)return L_;Ek=1;var t=pT(),e=Hm(),r=OT(),n=Jl();function i(s,o,u){if(!n(u))return!1;var d=typeof o;return(d=="number"?e(u)&&r(o,u.length):d=="string"&&o in u)?t(u[o],s):!1}return L_=i,L_}var B_,Ak;function cne(){if(Ak)return B_;Ak=1;var t=V7(),e=tne(),r=lne(),n=rv(),i=r(function(s,o){if(s==null)return[];var u=o.length;return u>1&&n(s,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return B_=i,B_}var une=cne();const RT=Ar(une);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XE.apply(this,arguments)}function dne(t,e){return mne(t)||pne(t,e)||hne(t,e)||fne()}function fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return Ck(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ck(t,e)}}function Ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function mne(t){if(Array.isArray(t))return t}function Tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(r),!0).forEach(function(n){gne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gne(t,e,r){return e=yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yne(t){var e=vne(t,"string");return Qp(e)=="symbol"?e:e+""}function vne(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xne(t){return Array.isArray(t)&&Jn(t[0])&&Jn(t[1])?t.join(" ~ "):t}var wne=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,g=e.payload,x=e.formatter,_=e.itemSorter,T=e.wrapperClassName,O=e.labelClassName,E=e.label,A=e.labelFormatter,R=e.accessibilityLayer,P=R===void 0?!1:R,I=function(){if(g&&g.length){var z={padding:0,margin:0},Z=(_?RT(g,_):g).map(function(Q,Y){if(Q.type==="none")return null;var J=F_({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},u),re=Q.formatter||x||xne,ie=Q.value,se=Q.name,me=ie,ne=se;if(re&&me!=null&&ne!=null){var ue=re(ie,se,Q,Y,g);if(Array.isArray(ue)){var be=dne(ue,2);me=be[0],ne=be[1]}else me=ue}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:J},Jn(ne)?oe.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Jn(ne)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},me),oe.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:z},Z)}return null},D=F_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),L=F_({margin:0},f),F=!ir(E),U=F?E:"",H=Qt("recharts-default-tooltip",T),W=Qt("recharts-tooltip-label",O);F&&A&&g!==void 0&&g!==null&&(U=A(E,g));var ce=P?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",XE({className:H,style:D},ce),oe.createElement("p",{className:W,style:L},oe.isValidElement(U)?U:"".concat(U)),I())};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function x0(t,e,r){return e=bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bne(t){var e=_ne(t,"string");return Jp(e)=="symbol"?e:e+""}function _ne(t,e){if(Jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gh="recharts-tooltip-wrapper",Sne={visibility:"hidden"};function Ene(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Qt(Gh,x0(x0(x0(x0({},"".concat(Gh,"-right"),Qe(r)&&e&&Qe(e.x)&&r>=e.x),"".concat(Gh,"-left"),Qe(r)&&e&&Qe(e.x)&&r<e.x),"".concat(Gh,"-bottom"),Qe(n)&&e&&Qe(e.y)&&n>=e.y),"".concat(Gh,"-top"),Qe(n)&&e&&Qe(e.y)&&n<e.y))}function Ok(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(s&&Qe(s[n]))return s[n];var g=r[n]-u-i,x=r[n]+i;if(e[n])return o[n]?g:x;if(o[n]){var _=g,T=d[n];return _<T?Math.max(x,d[n]):Math.max(g,d[n])}var O=x+u,E=d[n]+f;return O>E?Math.max(g,d[n]):Math.max(x,d[n])}function Ane(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Cne(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,g,x;return o.height>0&&o.width>0&&r?(g=Ok({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),x=Ok({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=Ane({translateX:g,translateY:x,useTranslate3d:u})):f=Sne,{cssProperties:f,cssClasses:Ene({translateX:g,translateY:x,coordinate:r})}}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function Nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(r),!0).forEach(function(n){ZE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function One(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G7(n.key),n)}}function Nne(t,e,r){return e&&One(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ine(t,e,r){return e=Ay(e),Pne(t,H7()?Reflect.construct(e,r||[],Ay(t).constructor):e.apply(t,r))}function Pne(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(t)}function Rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H7=function(){return!!t})()}function Ay(t){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(t)}function jne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YE(t,e)}function ZE(t,e,r){return e=G7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G7(t){var e=kne(t,"string");return sf(e)=="symbol"?e:e+""}function kne(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pk=1,Mne=(function(t){function e(){var r;Tne(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Ine(this,e,[].concat(i)),ZE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ZE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&f!==void 0?f:0}})}}),r}return jne(e,t),Nne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Pk||Math.abs(n.height-this.state.lastBoundingBox.height)>Pk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,g=i.coordinate,x=i.hasPayload,_=i.isAnimationActive,T=i.offset,O=i.position,E=i.reverseDirection,A=i.useTranslate3d,R=i.viewBox,P=i.wrapperStyle,I=Cne({allowEscapeViewBox:o,coordinate:g,offsetTopLeft:T,position:O,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:R}),D=I.cssClasses,L=I.cssProperties,F=Ik(Ik({transition:_&&s?"transform ".concat(u,"ms ").concat(d):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&x?"visible":"hidden",position:"absolute",top:0,left:0},P);return oe.createElement("div",{tabIndex:-1,className:D,style:F,ref:function(H){n.wrapperNode=H}},f)}}])})(M.PureComponent),Dne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gf={isSsr:Dne()};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function Rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(r),!0).forEach(function(n){jT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X7(n.key),n)}}function Fne(t,e,r){return e&&Bne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Une(t,e,r){return e=Cy(e),$ne(t,K7()?Reflect.construct(e,r||[],Cy(t).constructor):e.apply(t,r))}function $ne(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vne(t)}function Vne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!t})()}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(t)}function qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QE(t,e)}function jT(t,e,r){return e=X7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X7(t){var e=zne(t,"string");return af(e)=="symbol"?e:e+""}function zne(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wne(t){return t.dataKey}function Hne(t,e){return oe.isValidElement(t)?oe.cloneElement(t,e):typeof t=="function"?oe.createElement(t,e):oe.createElement(wne,e)}var _a=(function(t){function e(){return Lne(this,e),Une(this,e,arguments)}return qne(e,t),Fne(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,g=i.coordinate,x=i.filterNull,_=i.isAnimationActive,T=i.offset,O=i.payload,E=i.payloadUniqBy,A=i.position,R=i.reverseDirection,P=i.useTranslate3d,I=i.viewBox,D=i.wrapperStyle,L=O??[];x&&L.length&&(L=F7(O.filter(function(U){return U.value!=null&&(U.hide!==!0||n.props.includeHidden)}),E,Wne));var F=L.length>0;return oe.createElement(Mne,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:_,active:s,coordinate:g,hasPayload:F,offset:T,position:A,reverseDirection:R,useTranslate3d:P,viewBox:I,wrapperStyle:D},Hne(f,jk(jk({},this.props),{},{payload:L})))}}])})(M.PureComponent);jT(_a,"displayName","Tooltip");jT(_a,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var U_,kk;function Gne(){if(kk)return U_;kk=1;var t=ho(),e=function(){return t.Date.now()};return U_=e,U_}var $_,Mk;function Kne(){if(Mk)return $_;Mk=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return $_=e,$_}var V_,Dk;function Xne(){if(Dk)return V_;Dk=1;var t=Kne(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return V_=r,V_}var q_,Lk;function Y7(){if(Lk)return q_;Lk=1;var t=Xne(),e=Jl(),r=zf(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=e(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=t(f);var x=s.test(f);return x||o.test(f)?u(f.slice(2),x?2:8):i.test(f)?n:+f}return q_=d,q_}var z_,Bk;function Yne(){if(Bk)return z_;Bk=1;var t=Jl(),e=Gne(),r=Y7(),n="Expected a function",i=Math.max,s=Math.min;function o(u,d,f){var g,x,_,T,O,E,A=0,R=!1,P=!1,I=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(R=!!f.leading,P="maxWait"in f,_=P?i(r(f.maxWait)||0,d):_,I="trailing"in f?!!f.trailing:I);function D(Z){var Q=g,Y=x;return g=x=void 0,A=Z,T=u.apply(Y,Q),T}function L(Z){return A=Z,O=setTimeout(H,d),R?D(Z):T}function F(Z){var Q=Z-E,Y=Z-A,J=d-Q;return P?s(J,_-Y):J}function U(Z){var Q=Z-E,Y=Z-A;return E===void 0||Q>=d||Q<0||P&&Y>=_}function H(){var Z=e();if(U(Z))return W(Z);O=setTimeout(H,F(Z))}function W(Z){return O=void 0,I&&g?D(Z):(g=x=void 0,T)}function ce(){O!==void 0&&clearTimeout(O),A=0,g=E=x=O=void 0}function K(){return O===void 0?T:W(e())}function z(){var Z=e(),Q=U(Z);if(g=arguments,x=this,E=Z,Q){if(O===void 0)return L(E);if(P)return clearTimeout(O),O=setTimeout(H,d),D(E)}return O===void 0&&(O=setTimeout(H,d)),T}return z.cancel=ce,z.flush=K,z}return z_=o,z_}var W_,Fk;function Zne(){if(Fk)return W_;Fk=1;var t=Yne(),e=Jl(),r="Expected a function";function n(i,s,o){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(i,s,{leading:u,maxWait:s,trailing:d})}return W_=n,W_}var Qne=Zne();const Z7=Ar(Qne);function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function Uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(r),!0).forEach(function(n){Jne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jne(t,e,r){return e=eie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eie(t){var e=tie(t,"string");return em(e)=="symbol"?e:e+""}function tie(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rie(t,e){return aie(t)||sie(t,e)||iie(t,e)||nie()}function nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iie(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function aie(t){if(Array.isArray(t))return t}var Q7=M.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,g=f===void 0?0:f,x=t.minHeight,_=t.maxHeight,T=t.children,O=t.debounce,E=O===void 0?0:O,A=t.id,R=t.className,P=t.onResize,I=t.style,D=I===void 0?{}:I,L=M.useRef(null),F=M.useRef();F.current=P,M.useImperativeHandle(e,function(){return Object.defineProperty(L.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),L.current},configurable:!0})});var U=M.useState({containerWidth:i.width,containerHeight:i.height}),H=rie(U,2),W=H[0],ce=H[1],K=M.useCallback(function(Z,Q){ce(function(Y){var J=Math.round(Z),re=Math.round(Q);return Y.containerWidth===J&&Y.containerHeight===re?Y:{containerWidth:J,containerHeight:re}})},[]);M.useEffect(function(){var Z=function(se){var me,ne=se[0].contentRect,ue=ne.width,be=ne.height;K(ue,be),(me=F.current)===null||me===void 0||me.call(F,ue,be)};E>0&&(Z=Z7(Z,E,{trailing:!0,leading:!1}));var Q=new ResizeObserver(Z),Y=L.current.getBoundingClientRect(),J=Y.width,re=Y.height;return K(J,re),Q.observe(L.current),function(){Q.disconnect()}},[K,E]);var z=M.useMemo(function(){var Z=W.containerWidth,Q=W.containerHeight;if(Z<0||Q<0)return null;$o(Kc(o)||Kc(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),$o(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=Kc(o)?Z:o,J=Kc(d)?Q:d;r&&r>0&&(Y?J=Y/r:J&&(Y=J*r),_&&J>_&&(J=_)),$o(Y>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,J,o,d,g,x,r);var re=!Array.isArray(T)&&Uo(T.type).endsWith("Chart");return oe.Children.map(T,function(ie){return oe.isValidElement(ie)?M.cloneElement(ie,w0({width:Y,height:J},re?{style:w0({height:"100%",width:"100%",maxHeight:J,maxWidth:Y},ie.props.style)}:{})):ie})},[r,T,d,_,x,g,W,o]);return oe.createElement("div",{id:A?"".concat(A):void 0,className:Qt("recharts-responsive-container",R),style:w0(w0({},D),{},{width:o,height:d,minWidth:g,minHeight:x,maxHeight:_}),ref:L},z)}),nv=function(e){return null};nv.displayName="Cell";function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function Vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(r),!0).forEach(function(n){oie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oie(t,e,r){return e=lie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lie(t){var e=cie(t,"string");return tm(e)=="symbol"?e:e+""}function cie(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dd={widthCache:{},cacheCount:0},uie=2e3,die={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qk="recharts_measurement_span";function fie(t){var e=JE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var xp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gf.isSsr)return{width:0,height:0};var n=fie(r),i=JSON.stringify({text:e,copyStyle:n});if(dd.widthCache[i])return dd.widthCache[i];try{var s=document.getElementById(qk);s||(s=document.createElement("span"),s.setAttribute("id",qk),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=JE(JE({},die),n);Object.assign(s.style,o),s.textContent="".concat(e);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return dd.widthCache[i]=d,++dd.cacheCount>uie&&(dd.cacheCount=0,dd.widthCache={}),d}catch{return{width:0,height:0}}},hie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function Ty(t,e){return yie(t)||gie(t,e)||mie(t,e)||pie()}function pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(t,e){if(t){if(typeof t=="string")return zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(t,e)}}function zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function yie(t){if(Array.isArray(t))return t}function vie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wie(n.key),n)}}function xie(t,e,r){return e&&Wk(t.prototype,e),r&&Wk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wie(t){var e=bie(t,"string");return rm(e)=="symbol"?e:e+""}function bie(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_ie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Sie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,J7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Eie=Object.keys(J7),Ad="NaN";function Aie(t,e){return t*J7[e]}var b0=(function(){function t(e,r){vie(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_ie.test(r)&&(this.num=NaN,this.unit=""),Eie.includes(r)&&(this.num=Aie(e,r),this.unit="px")}return xie(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Sie.exec(r))!==null&&n!==void 0?n:[],s=Ty(i,3),o=s[1],u=s[2];return new t(parseFloat(o),u??"")}}])})();function eB(t){if(t.includes(Ad))return Ad;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Hk.exec(e))!==null&&r!==void 0?r:[],i=Ty(n,4),s=i[1],o=i[2],u=i[3],d=b0.parse(s??""),f=b0.parse(u??""),g=o==="*"?d.multiply(f):d.divide(f);if(g.isNaN())return Ad;e=e.replace(Hk,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var x,_=(x=Gk.exec(e))!==null&&x!==void 0?x:[],T=Ty(_,4),O=T[1],E=T[2],A=T[3],R=b0.parse(O??""),P=b0.parse(A??""),I=E==="+"?R.add(P):R.subtract(P);if(I.isNaN())return Ad;e=e.replace(Gk,I.toString())}return e}var Kk=/\(([^()]*)\)/;function Cie(t){for(var e=t;e.includes("(");){var r=Kk.exec(e),n=Ty(r,2),i=n[1];e=e.replace(Kk,eB(i))}return e}function Tie(t){var e=t.replace(/\s+/g,"");return e=Cie(e),e=eB(e),e}function Oie(t){try{return Tie(t)}catch{return Ad}}function H_(t){var e=Oie(t.slice(5,-1));return e===Ad?"":e}var Nie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Iie=["dx","dy","angle","className","breakAll"];function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eA.apply(this,arguments)}function Xk(t,e){if(t==null)return{};var r=Pie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yk(t,e){return Mie(t)||kie(t,e)||jie(t,e)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jie(t,e){if(t){if(typeof t=="string")return Zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(t,e)}}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Mie(t){if(Array.isArray(t))return t}var tB=/[ \f\n\r\t\v\u2028\u2029]+/,rB=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ir(r)||(n?s=r.toString().split(""):s=r.toString().split(tB));var o=s.map(function(d){return{word:d,width:xp(d,i).width}}),u=n?0:xp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},Die=function(e,r,n,i,s){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,g=Qe(o),x=u,_=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(J,re){var ie=re.word,se=re.width,me=J[J.length-1];if(me&&(i==null||s||me.width+se+n<Number(i)))me.words.push(ie),me.width+=se+n;else{var ne={words:[ie],width:se};J.push(ne)}return J},[])},T=_(r),O=function(Y){return Y.reduce(function(J,re){return J.width>re.width?J:re})};if(!g)return T;for(var E="",A=function(Y){var J=x.slice(0,Y),re=rB({breakAll:f,style:d,children:J+E}).wordsWithComputedWidth,ie=_(re),se=ie.length>o||O(ie).width>Number(i);return[se,ie]},R=0,P=x.length-1,I=0,D;R<=P&&I<=x.length-1;){var L=Math.floor((R+P)/2),F=L-1,U=A(F),H=Yk(U,2),W=H[0],ce=H[1],K=A(L),z=Yk(K,1),Z=z[0];if(!W&&!Z&&(R=L+1),W&&Z&&(P=L-1),!W&&Z){D=ce;break}I++}return D||T},Qk=function(e){var r=ir(e)?[]:e.toString().split(tB);return[{words:r}]},Lie=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!Gf.isSsr){var d,f,g=rB({breakAll:o,children:i,style:s});if(g){var x=g.wordsWithComputedWidth,_=g.spaceWidth;d=x,f=_}else return Qk(i);return Die({breakAll:o,children:i,maxLines:u,style:s},d,f,r,n)}return Qk(i)},Jk="#808080",du=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,g=e.scaleToFit,x=g===void 0?!1:g,_=e.textAnchor,T=_===void 0?"start":_,O=e.verticalAnchor,E=O===void 0?"end":O,A=e.fill,R=A===void 0?Jk:A,P=Xk(e,Nie),I=M.useMemo(function(){return Lie({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:x,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,x,P.style,P.width]),D=P.dx,L=P.dy,F=P.angle,U=P.className,H=P.breakAll,W=Xk(P,Iie);if(!Jn(n)||!Jn(s))return null;var ce=n+(Qe(D)?D:0),K=s+(Qe(L)?L:0),z;switch(E){case"start":z=H_("calc(".concat(f,")"));break;case"middle":z=H_("calc(".concat((I.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:z=H_("calc(".concat(I.length-1," * -").concat(u,")"));break}var Z=[];if(x){var Q=I[0].width,Y=P.width;Z.push("scale(".concat((Qe(Y)?Y/Q:1)/Q,")"))}return F&&Z.push("rotate(".concat(F,", ").concat(ce,", ").concat(K,")")),Z.length&&(W.transform=Z.join(" ")),oe.createElement("text",eA({},Ut(W,!0),{x:ce,y:K,className:Qt("recharts-text",U),textAnchor:T,fill:R.includes("url")?Jk:R}),I.map(function(J,re){var ie=J.words.join(H?"":" ");return oe.createElement("tspan",{x:ce,dy:re===0?z:u,key:"".concat(ie,"-").concat(re)},ie)}))};function ql(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kT(t){let e,r,n;t.length!==2?(e=ql,r=(u,d)=>ql(t(u),d),n=(u,d)=>t(u)-d):(e=t===ql||t===Bie?t:Fie,r=t,n=t);function i(u,d,f=0,g=u.length){if(f<g){if(e(d,d)!==0)return g;do{const x=f+g>>>1;r(u[x],d)<0?f=x+1:g=x}while(f<g)}return f}function s(u,d,f=0,g=u.length){if(f<g){if(e(d,d)!==0)return g;do{const x=f+g>>>1;r(u[x],d)<=0?f=x+1:g=x}while(f<g)}return f}function o(u,d,f=0,g=u.length){const x=i(u,d,f,g-1);return x>f&&n(u[x-1],d)>-n(u[x],d)?x-1:x}return{left:i,center:o,right:s}}function Fie(){return 0}function nB(t){return t===null?NaN:+t}function*Uie(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const $ie=kT(ql),Gm=$ie.right;kT(nB).center;class e4 extends Map{constructor(e,r=zie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(t4(this,e))}has(e){return super.has(t4(this,e))}set(e,r){return super.set(Vie(this,e),r)}delete(e){return super.delete(qie(this,e))}}function t4({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Vie({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function qie({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function zie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Wie(t=ql){if(t===ql)return iB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function iB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Hie=Math.sqrt(50),Gie=Math.sqrt(10),Kie=Math.sqrt(2);function Oy(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=Hie?10:s>=Gie?5:s>=Kie?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=r&&r<2?Oy(t,e,r*2):[u,d,f]}function tA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?Oy(e,t,r):Oy(t,e,r);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(n)if(o<0)for(let f=0;f<u;++f)d[f]=(s-f)/-o;else for(let f=0;f<u;++f)d[f]=(s-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(i+f)/-o;else for(let f=0;f<u;++f)d[f]=(i+f)*o;return d}function rA(t,e,r){return e=+e,t=+t,r=+r,Oy(t,e,r)[2]}function nA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?rA(e,t,r):rA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function r4(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function n4(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sB(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?iB:Wie(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,g=Math.log(d),x=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*x*(d-x)/d)*(f-d/2<0?-1:1),T=Math.max(r,Math.floor(e-f*x/d+_)),O=Math.min(n,Math.floor(e+(d-f)*x/d+_));sB(t,e,T,O,i)}const s=t[e];let o=r,u=n;for(Kh(t,r,e),i(t[n],s)>0&&Kh(t,r,n);o<u;){for(Kh(t,o,u),++o,--u;i(t[o],s)<0;)++o;for(;i(t[u],s)>0;)--u}i(t[r],s)===0?Kh(t,r,u):(++u,Kh(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Kh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Xie(t,e,r){if(t=Float64Array.from(Uie(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return n4(t);if(e>=1)return r4(t);var n,i=(n-1)*e,s=Math.floor(i),o=r4(sB(t,s).subarray(0,s+1)),u=n4(t.subarray(s+1));return o+(u-o)*(i-s)}}function Yie(t,e,r=nB){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),u=+r(t[s+1],s+1,t);return o+(u-o)*(i-s)}}function Zie(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function aa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function rl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iA=Symbol("implicit");function MT(){var t=new e4,e=[],r=[],n=iA;function i(s){let o=t.get(s);if(o===void 0){if(n!==iA)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new e4;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return MT(e,r).unknown(n)},aa.apply(i,arguments),i}function nm(){var t=MT().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,u=!1,d=0,f=0,g=.5;delete t.unknown;function x(){var _=e().length,T=i<n,O=T?i:n,E=T?n:i;s=(E-O)/Math.max(1,_-d+f*2),u&&(s=Math.floor(s)),O+=(E-O-s*(_-d))*g,o=s*(1-d),u&&(O=Math.round(O),o=Math.round(o));var A=Zie(_).map(function(R){return O+s*R});return r(T?A.reverse():A)}return t.domain=function(_){return arguments.length?(e(_),x()):e()},t.range=function(_){return arguments.length?([n,i]=_,n=+n,i=+i,x()):[n,i]},t.rangeRound=function(_){return[n,i]=_,n=+n,i=+i,u=!0,x()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(_){return arguments.length?(u=!!_,x()):u},t.padding=function(_){return arguments.length?(d=Math.min(1,f=+_),x()):d},t.paddingInner=function(_){return arguments.length?(d=Math.min(1,_),x()):d},t.paddingOuter=function(_){return arguments.length?(f=+_,x()):f},t.align=function(_){return arguments.length?(g=Math.max(0,Math.min(1,_)),x()):g},t.copy=function(){return nm(e(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(g)},aa.apply(x(),arguments)}function aB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aB(e())},t}function wp(){return aB(nm.apply(null,arguments).paddingInner(1))}function DT(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function oB(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Km(){}var im=.7,Ny=1/im,Ud="\\s*([+-]?\\d+)\\s*",sm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qie=/^#([0-9a-f]{3,8})$/,Jie=new RegExp(`^rgb\\(${Ud},${Ud},${Ud}\\)$`),ese=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),tse=new RegExp(`^rgba\\(${Ud},${Ud},${Ud},${sm}\\)$`),rse=new RegExp(`^rgba\\(${to},${to},${to},${sm}\\)$`),nse=new RegExp(`^hsl\\(${sm},${to},${to}\\)$`),ise=new RegExp(`^hsla\\(${sm},${to},${to},${sm}\\)$`),i4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DT(Km,am,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:s4,formatHex:s4,formatHex8:sse,formatHsl:ase,formatRgb:a4,toString:a4});function s4(){return this.rgb().formatHex()}function sse(){return this.rgb().formatHex8()}function ase(){return lB(this).formatHsl()}function a4(){return this.rgb().formatRgb()}function am(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Qie.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?o4(e):r===3?new us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?_0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?_0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jie.exec(t))?new us(e[1],e[2],e[3],1):(e=ese.exec(t))?new us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tse.exec(t))?_0(e[1],e[2],e[3],e[4]):(e=rse.exec(t))?_0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nse.exec(t))?u4(e[1],e[2]/100,e[3]/100,1):(e=ise.exec(t))?u4(e[1],e[2]/100,e[3]/100,e[4]):i4.hasOwnProperty(t)?o4(i4[t]):t==="transparent"?new us(NaN,NaN,NaN,0):null}function o4(t){return new us(t>>16&255,t>>8&255,t&255,1)}function _0(t,e,r,n){return n<=0&&(t=e=r=NaN),new us(t,e,r,n)}function ose(t){return t instanceof Km||(t=am(t)),t?(t=t.rgb(),new us(t.r,t.g,t.b,t.opacity)):new us}function sA(t,e,r,n){return arguments.length===1?ose(t):new us(t,e,r,n??1)}function us(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}DT(us,sA,oB(Km,{brighter(t){return t=t==null?Ny:Math.pow(Ny,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?im:Math.pow(im,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new us(Jc(this.r),Jc(this.g),Jc(this.b),Iy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l4,formatHex:l4,formatHex8:lse,formatRgb:c4,toString:c4}));function l4(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}`}function lse(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}${Xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function c4(){const t=Iy(this.opacity);return`${t===1?"rgb(":"rgba("}${Jc(this.r)}, ${Jc(this.g)}, ${Jc(this.b)}${t===1?")":`, ${t})`}`}function Iy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xc(t){return t=Jc(t),(t<16?"0":"")+t.toString(16)}function u4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ta(t,e,r,n)}function lB(t){if(t instanceof Ta)return new Ta(t.h,t.s,t.l,t.opacity);if(t instanceof Km||(t=am(t)),!t)return new Ta;if(t instanceof Ta)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,u=s-i,d=(s+i)/2;return u?(e===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-e)/u+2:o=(e-r)/u+4,u/=d<.5?s+i:2-s-i,o*=60):u=d>0&&d<1?0:o,new Ta(o,u,d,t.opacity)}function cse(t,e,r,n){return arguments.length===1?lB(t):new Ta(t,e,r,n??1)}function Ta(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}DT(Ta,cse,oB(Km,{brighter(t){return t=t==null?Ny:Math.pow(Ny,t),new Ta(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?im:Math.pow(im,t),new Ta(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new us(G_(t>=240?t-240:t+120,i,n),G_(t,i,n),G_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ta(d4(this.h),S0(this.s),S0(this.l),Iy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Iy(this.opacity);return`${t===1?"hsl(":"hsla("}${d4(this.h)}, ${S0(this.s)*100}%, ${S0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function d4(t){return t=(t||0)%360,t<0?t+360:t}function S0(t){return Math.max(0,Math.min(1,t||0))}function G_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const LT=t=>()=>t;function use(t,e){return function(r){return t+r*e}}function dse(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function fse(t){return(t=+t)==1?cB:function(e,r){return r-e?dse(e,r,t):LT(isNaN(e)?r:e)}}function cB(t,e){var r=e-t;return r?use(t,r):LT(isNaN(t)?e:t)}const f4=(function t(e){var r=fse(e);function n(i,s){var o=r((i=sA(i)).r,(s=sA(s)).r),u=r(i.g,s.g),d=r(i.b,s.b),f=cB(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=u(g),i.b=d(g),i.opacity=f(g),i+""}}return n.gamma=t,n})(1);function hse(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function pse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mse(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Kf(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(u){for(o=0;o<n;++o)s[o]=i[o](u);return s}}function gse(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Py(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yse(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Kf(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var aA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K_=new RegExp(aA.source,"g");function vse(t){return function(){return t}}function xse(t){return function(e){return t(e)+""}}function wse(t,e){var r=aA.lastIndex=K_.lastIndex=0,n,i,s,o=-1,u=[],d=[];for(t=t+"",e=e+"";(n=aA.exec(t))&&(i=K_.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:Py(n,i)})),r=K_.lastIndex;return r<e.length&&(s=e.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?d[0]?xse(d[0].x):vse(e):(e=d.length,function(f){for(var g=0,x;g<e;++g)u[(x=d[g]).i]=x.x(f);return u.join("")})}function Kf(t,e){var r=typeof e,n;return e==null||r==="boolean"?LT(e):(r==="number"?Py:r==="string"?(n=am(e))?(e=n,f4):wse:e instanceof am?f4:e instanceof Date?gse:pse(e)?hse:Array.isArray(e)?mse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yse:Py)(t,e)}function BT(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function bse(t,e){e===void 0&&(e=t,t=Kf);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[u](o-u)}}function _se(t){return function(){return t}}function Ry(t){return+t}var h4=[0,1];function Xi(t){return t}function oA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_se(isNaN(e)?NaN:.5)}function Sse(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Ese(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=oA(i,n),s=r(o,s)):(n=oA(n,i),s=r(s,o)),function(u){return s(n(u))}}function Ase(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=oA(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(u){var d=Gm(t,u,1,n)-1;return s[d](i[d](u))}}function Xm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function iv(){var t=h4,e=h4,r=Kf,n,i,s,o=Xi,u,d,f;function g(){var _=Math.min(t.length,e.length);return o!==Xi&&(o=Sse(t[0],t[_-1])),u=_>2?Ase:Ese,d=f=null,x}function x(_){return _==null||isNaN(_=+_)?s:(d||(d=u(t.map(n),e,r)))(n(o(_)))}return x.invert=function(_){return o(i((f||(f=u(e,t.map(n),Py)))(_)))},x.domain=function(_){return arguments.length?(t=Array.from(_,Ry),g()):t.slice()},x.range=function(_){return arguments.length?(e=Array.from(_),g()):e.slice()},x.rangeRound=function(_){return e=Array.from(_),r=BT,g()},x.clamp=function(_){return arguments.length?(o=_?!0:Xi,g()):o!==Xi},x.interpolate=function(_){return arguments.length?(r=_,g()):r},x.unknown=function(_){return arguments.length?(s=_,x):s},function(_,T){return n=_,i=T,g()}}function FT(){return iv()(Xi,Xi)}function Cse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function of(t){return t=jy(Math.abs(t)),t?t[1]:NaN}function Tse(t,e){return function(r,n){for(var i=r.length,s=[],o=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Ose(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Nse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function om(t){if(!(e=Nse.exec(t)))throw new Error("invalid format: "+t);var e;return new UT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}om.prototype=UT.prototype;function UT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}UT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ise(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var uB;function Pse(t,e){var r=jy(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(uB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+jy(t,Math.max(0,e+s-1))[0]}function p4(t,e){var r=jy(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const m4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Cse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>p4(t*100,e),r:p4,s:Pse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function g4(t){return t}var y4=Array.prototype.map,v4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rse(t){var e=t.grouping===void 0||t.thousands===void 0?g4:Tse(y4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?g4:Ose(y4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(x){x=om(x);var _=x.fill,T=x.align,O=x.sign,E=x.symbol,A=x.zero,R=x.width,P=x.comma,I=x.precision,D=x.trim,L=x.type;L==="n"?(P=!0,L="g"):m4[L]||(I===void 0&&(I=12),D=!0,L="g"),(A||_==="0"&&T==="=")&&(A=!0,_="0",T="=");var F=E==="$"?r:E==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",U=E==="$"?n:/[%p]/.test(L)?o:"",H=m4[L],W=/[defgprs%]/.test(L);I=I===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function ce(K){var z=F,Z=U,Q,Y,J;if(L==="c")Z=H(K)+Z,K="";else{K=+K;var re=K<0||1/K<0;if(K=isNaN(K)?d:H(Math.abs(K),I),D&&(K=Ise(K)),re&&+K==0&&O!=="+"&&(re=!1),z=(re?O==="("?O:u:O==="-"||O==="("?"":O)+z,Z=(L==="s"?v4[8+uB/3]:"")+Z+(re&&O==="("?")":""),W){for(Q=-1,Y=K.length;++Q<Y;)if(J=K.charCodeAt(Q),48>J||J>57){Z=(J===46?i+K.slice(Q+1):K.slice(Q))+Z,K=K.slice(0,Q);break}}}P&&!A&&(K=e(K,1/0));var ie=z.length+K.length+Z.length,se=ie<R?new Array(R-ie+1).join(_):"";switch(P&&A&&(K=e(se+K,se.length?R-Z.length:1/0),se=""),T){case"<":K=z+K+Z+se;break;case"=":K=z+se+K+Z;break;case"^":K=se.slice(0,ie=se.length>>1)+z+K+Z+se.slice(ie);break;default:K=se+z+K+Z;break}return s(K)}return ce.toString=function(){return x+""},ce}function g(x,_){var T=f((x=om(x),x.type="f",x)),O=Math.max(-8,Math.min(8,Math.floor(of(_)/3)))*3,E=Math.pow(10,-O),A=v4[8+O/3];return function(R){return T(E*R)+A}}return{format:f,formatPrefix:g}}var E0,$T,dB;jse({thousands:",",grouping:[3],currency:["$",""]});function jse(t){return E0=Rse(t),$T=E0.format,dB=E0.formatPrefix,E0}function kse(t){return Math.max(0,-of(Math.abs(t)))}function Mse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(of(e)/3)))*3-of(Math.abs(t)))}function Dse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,of(e)-of(t))+1}function fB(t,e,r,n){var i=nA(t,e,r),s;switch(n=om(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Mse(i,o))&&(n.precision=s),dB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Dse(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=kse(i))&&(n.precision=s-(n.type==="%")*2);break}}return $T(n)}function ec(t){var e=t.domain;return t.ticks=function(r){var n=e();return tA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return fB(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],u=n[s],d,f,g=10;for(u<o&&(f=o,o=u,u=f,f=i,i=s,s=f);g-- >0;){if(f=rA(o,u,r),f===d)return n[i]=o,n[s]=u,e(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function ky(){var t=FT();return t.copy=function(){return Xm(t,ky())},aa.apply(t,arguments),ec(t)}function hB(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Ry),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return hB(t).unknown(e)},t=arguments.length?Array.from(t,Ry):[0,1],ec(r)}function pB(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function x4(t){return Math.log(t)}function w4(t){return Math.exp(t)}function Lse(t){return-Math.log(-t)}function Bse(t){return-Math.exp(-t)}function Fse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Use(t){return t===10?Fse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $se(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function b4(t){return(e,r)=>-t(-e,r)}function VT(t){const e=t(x4,w4),r=e.domain;let n=10,i,s;function o(){return i=$se(n),s=Use(n),r()[0]<0?(i=b4(i),s=b4(s),t(Lse,Bse)):t(x4,w4),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const d=r();let f=d[0],g=d[d.length-1];const x=g<f;x&&([f,g]=[g,f]);let _=i(f),T=i(g),O,E;const A=u==null?10:+u;let R=[];if(!(n%1)&&T-_<A){if(_=Math.floor(_),T=Math.ceil(T),f>0){for(;_<=T;++_)for(O=1;O<n;++O)if(E=_<0?O/s(-_):O*s(_),!(E<f)){if(E>g)break;R.push(E)}}else for(;_<=T;++_)for(O=n-1;O>=1;--O)if(E=_>0?O/s(-_):O*s(_),!(E<f)){if(E>g)break;R.push(E)}R.length*2<A&&(R=tA(f,g,A))}else R=tA(_,T,Math.min(T-_,A)).map(s);return x?R.reverse():R},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=om(d)).precision==null&&(d.trim=!0),d=$T(d)),u===1/0)return d;const f=Math.max(1,n*u/e.ticks().length);return g=>{let x=g/s(Math.round(i(g)));return x*n<n-.5&&(x*=n),x<=f?d(g):""}},e.nice=()=>r(pB(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function mB(){const t=VT(iv()).domain([1,10]);return t.copy=()=>Xm(t,mB()).base(t.base()),aa.apply(t,arguments),t}function _4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function S4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qT(t){var e=1,r=t(_4(e),S4(e));return r.constant=function(n){return arguments.length?t(_4(e=+n),S4(e)):e},ec(r)}function gB(){var t=qT(iv());return t.copy=function(){return Xm(t,gB()).constant(t.constant())},aa.apply(t,arguments)}function E4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qse(t){return t<0?-t*t:t*t}function zT(t){var e=t(Xi,Xi),r=1;function n(){return r===1?t(Xi,Xi):r===.5?t(Vse,qse):t(E4(r),E4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ec(e)}function WT(){var t=zT(iv());return t.copy=function(){return Xm(t,WT()).exponent(t.exponent())},aa.apply(t,arguments),t}function zse(){return WT.apply(null,arguments).exponent(.5)}function A4(t){return Math.sign(t)*t*t}function Wse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yB(){var t=FT(),e=[0,1],r=!1,n;function i(s){var o=Wse(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(A4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ry)).map(A4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return yB(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},aa.apply(i,arguments),ec(i)}function vB(){var t=[],e=[],r=[],n;function i(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=Yie(t,o/u);return s}function s(o){return o==null||isNaN(o=+o)?n:e[Gm(r,o)]}return s.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ql),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return vB().domain(t).range(e).unknown(n)},aa.apply(s,arguments)}function xB(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(d){return d!=null&&d<=d?i[Gm(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(s=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return xB().domain([t,e]).range(i).unknown(s)},aa.apply(ec(o),arguments)}function wB(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Gm(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wB().domain(t).range(e).unknown(r)},aa.apply(i,arguments)}const X_=new Date,Y_=new Date;function ni(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),u=i.ceil(s);return s-o<u-s?o:u},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return d;let f;do d.push(f=new Date(+s)),e(s,u),t(s);while(f<s&&s<o);return d},i.filter=s=>ni(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!s(o););else for(;--u>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(X_.setTime(+s),Y_.setTime(+o),t(X_),t(Y_),Math.floor(r(X_,Y_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const My=ni(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);My.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ni(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):My);My.range;const Lo=1e3,ta=Lo*60,Bo=ta*60,Go=Bo*24,HT=Go*7,C4=Go*30,Z_=Go*365,Yc=ni(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getUTCSeconds());Yc.range;const GT=ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lo)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getMinutes());GT.range;const KT=ni(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getUTCMinutes());KT.range;const XT=ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lo-t.getMinutes()*ta)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getHours());XT.range;const YT=ni(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCHours());YT.range;const Ym=ni(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ta)/Go,t=>t.getDate()-1);Ym.range;const sv=ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Go,t=>t.getUTCDate()-1);sv.range;const bB=ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Go,t=>Math.floor(t/Go));bB.range;function Su(t){return ni(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ta)/HT)}const av=Su(0),Dy=Su(1),Hse=Su(2),Gse=Su(3),lf=Su(4),Kse=Su(5),Xse=Su(6);av.range;Dy.range;Hse.range;Gse.range;lf.range;Kse.range;Xse.range;function Eu(t){return ni(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/HT)}const ov=Eu(0),Ly=Eu(1),Yse=Eu(2),Zse=Eu(3),cf=Eu(4),Qse=Eu(5),Jse=Eu(6);ov.range;Ly.range;Yse.range;Zse.range;cf.range;Qse.range;Jse.range;const ZT=ni(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ZT.range;const QT=ni(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());QT.range;const Ko=ni(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ko.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ni(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ko.range;const Xo=ni(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ni(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Xo.range;function _B(t,e,r,n,i,s){const o=[[Yc,1,Lo],[Yc,5,5*Lo],[Yc,15,15*Lo],[Yc,30,30*Lo],[s,1,ta],[s,5,5*ta],[s,15,15*ta],[s,30,30*ta],[i,1,Bo],[i,3,3*Bo],[i,6,6*Bo],[i,12,12*Bo],[n,1,Go],[n,2,2*Go],[r,1,HT],[e,1,C4],[e,3,3*C4],[t,1,Z_]];function u(f,g,x){const _=g<f;_&&([f,g]=[g,f]);const T=x&&typeof x.range=="function"?x:d(f,g,x),O=T?T.range(f,+g+1):[];return _?O.reverse():O}function d(f,g,x){const _=Math.abs(g-f)/x,T=kT(([,,A])=>A).right(o,_);if(T===o.length)return t.every(nA(f/Z_,g/Z_,x));if(T===0)return My.every(Math.max(nA(f,g,x),1));const[O,E]=o[_/o[T-1][2]<o[T][2]/_?T-1:T];return O.every(E)}return[u,d]}const[eae,tae]=_B(Xo,QT,ov,bB,YT,KT),[rae,nae]=_B(Ko,ZT,av,Ym,XT,GT);function Q_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function iae(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=Yh(i),g=Zh(i),x=Yh(s),_=Zh(s),T=Yh(o),O=Zh(o),E=Yh(u),A=Zh(u),R=Yh(d),P=Zh(d),I={a:re,A:ie,b:se,B:me,c:null,d:R4,e:R4,f:Tae,g:Lae,G:Fae,H:Eae,I:Aae,j:Cae,L:SB,m:Oae,M:Nae,p:ne,q:ue,Q:M4,s:D4,S:Iae,u:Pae,U:Rae,V:jae,w:kae,W:Mae,x:null,X:null,y:Dae,Y:Bae,Z:Uae,"%":k4},D={a:be,A:Pe,b:rt,B:Ie,c:null,d:j4,e:j4,f:zae,g:eoe,G:roe,H:$ae,I:Vae,j:qae,L:AB,m:Wae,M:Hae,p:Re,q:Be,Q:M4,s:D4,S:Gae,u:Kae,U:Xae,V:Yae,w:Zae,W:Qae,x:null,X:null,y:Jae,Y:toe,Z:noe,"%":k4},L={a:ce,A:K,b:z,B:Z,c:Q,d:I4,e:I4,f:wae,g:N4,G:O4,H:P4,I:P4,j:gae,L:xae,m:mae,M:yae,p:W,q:pae,Q:_ae,s:Sae,S:vae,u:cae,U:uae,V:dae,w:lae,W:fae,x:Y,X:J,y:N4,Y:O4,Z:hae,"%":bae};I.x=F(r,I),I.X=F(n,I),I.c=F(e,I),D.x=F(r,D),D.X=F(n,D),D.c=F(e,D);function F(Te,$e){return function(Ve){var Ce=[],et=-1,_t=0,Ne=Te.length,Ke,ot,Ze;for(Ve instanceof Date||(Ve=new Date(+Ve));++et<Ne;)Te.charCodeAt(et)===37&&(Ce.push(Te.slice(_t,et)),(ot=T4[Ke=Te.charAt(++et)])!=null?Ke=Te.charAt(++et):ot=Ke==="e"?" ":"0",(Ze=$e[Ke])&&(Ke=Ze(Ve,ot)),Ce.push(Ke),_t=et+1);return Ce.push(Te.slice(_t,et)),Ce.join("")}}function U(Te,$e){return function(Ve){var Ce=Xh(1900,void 0,1),et=H(Ce,Te,Ve+="",0),_t,Ne;if(et!=Ve.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(Ce.s*1e3+("L"in Ce?Ce.L:0));if($e&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+Ce.p*12),Ce.m===void 0&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(_t=J_(Xh(Ce.y,0,1)),Ne=_t.getUTCDay(),_t=Ne>4||Ne===0?Ly.ceil(_t):Ly(_t),_t=sv.offset(_t,(Ce.V-1)*7),Ce.y=_t.getUTCFullYear(),Ce.m=_t.getUTCMonth(),Ce.d=_t.getUTCDate()+(Ce.w+6)%7):(_t=Q_(Xh(Ce.y,0,1)),Ne=_t.getDay(),_t=Ne>4||Ne===0?Dy.ceil(_t):Dy(_t),_t=Ym.offset(_t,(Ce.V-1)*7),Ce.y=_t.getFullYear(),Ce.m=_t.getMonth(),Ce.d=_t.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),Ne="Z"in Ce?J_(Xh(Ce.y,0,1)).getUTCDay():Q_(Xh(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+Ce.W*7-(Ne+5)%7:Ce.w+Ce.U*7-(Ne+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,J_(Ce)):Q_(Ce)}}function H(Te,$e,Ve,Ce){for(var et=0,_t=$e.length,Ne=Ve.length,Ke,ot;et<_t;){if(Ce>=Ne)return-1;if(Ke=$e.charCodeAt(et++),Ke===37){if(Ke=$e.charAt(et++),ot=L[Ke in T4?$e.charAt(et++):Ke],!ot||(Ce=ot(Te,Ve,Ce))<0)return-1}else if(Ke!=Ve.charCodeAt(Ce++))return-1}return Ce}function W(Te,$e,Ve){var Ce=f.exec($e.slice(Ve));return Ce?(Te.p=g.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function ce(Te,$e,Ve){var Ce=T.exec($e.slice(Ve));return Ce?(Te.w=O.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function K(Te,$e,Ve){var Ce=x.exec($e.slice(Ve));return Ce?(Te.w=_.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function z(Te,$e,Ve){var Ce=R.exec($e.slice(Ve));return Ce?(Te.m=P.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function Z(Te,$e,Ve){var Ce=E.exec($e.slice(Ve));return Ce?(Te.m=A.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function Q(Te,$e,Ve){return H(Te,e,$e,Ve)}function Y(Te,$e,Ve){return H(Te,r,$e,Ve)}function J(Te,$e,Ve){return H(Te,n,$e,Ve)}function re(Te){return o[Te.getDay()]}function ie(Te){return s[Te.getDay()]}function se(Te){return d[Te.getMonth()]}function me(Te){return u[Te.getMonth()]}function ne(Te){return i[+(Te.getHours()>=12)]}function ue(Te){return 1+~~(Te.getMonth()/3)}function be(Te){return o[Te.getUTCDay()]}function Pe(Te){return s[Te.getUTCDay()]}function rt(Te){return d[Te.getUTCMonth()]}function Ie(Te){return u[Te.getUTCMonth()]}function Re(Te){return i[+(Te.getUTCHours()>=12)]}function Be(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var $e=F(Te+="",I);return $e.toString=function(){return Te},$e},parse:function(Te){var $e=U(Te+="",!1);return $e.toString=function(){return Te},$e},utcFormat:function(Te){var $e=F(Te+="",D);return $e.toString=function(){return Te},$e},utcParse:function(Te){var $e=U(Te+="",!0);return $e.toString=function(){return Te},$e}}}var T4={"-":"",_:" ",0:"0"},pi=/^\s*\d+/,sae=/^%/,aae=/[\\^$*+?|[\]().{}]/g;function vr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function oae(t){return t.replace(aae,"\\$&")}function Yh(t){return new RegExp("^(?:"+t.map(oae).join("|")+")","i")}function Zh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function lae(t,e,r){var n=pi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function cae(t,e,r){var n=pi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function uae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function dae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function fae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function O4(t,e,r){var n=pi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function N4(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pae(t,e,r){var n=pi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function mae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function I4(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function gae(t,e,r){var n=pi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function P4(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function yae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function vae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function xae(t,e,r){var n=pi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wae(t,e,r){var n=pi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bae(t,e,r){var n=sae.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _ae(t,e,r){var n=pi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Sae(t,e,r){var n=pi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function R4(t,e){return vr(t.getDate(),e,2)}function Eae(t,e){return vr(t.getHours(),e,2)}function Aae(t,e){return vr(t.getHours()%12||12,e,2)}function Cae(t,e){return vr(1+Ym.count(Ko(t),t),e,3)}function SB(t,e){return vr(t.getMilliseconds(),e,3)}function Tae(t,e){return SB(t,e)+"000"}function Oae(t,e){return vr(t.getMonth()+1,e,2)}function Nae(t,e){return vr(t.getMinutes(),e,2)}function Iae(t,e){return vr(t.getSeconds(),e,2)}function Pae(t){var e=t.getDay();return e===0?7:e}function Rae(t,e){return vr(av.count(Ko(t)-1,t),e,2)}function EB(t){var e=t.getDay();return e>=4||e===0?lf(t):lf.ceil(t)}function jae(t,e){return t=EB(t),vr(lf.count(Ko(t),t)+(Ko(t).getDay()===4),e,2)}function kae(t){return t.getDay()}function Mae(t,e){return vr(Dy.count(Ko(t)-1,t),e,2)}function Dae(t,e){return vr(t.getFullYear()%100,e,2)}function Lae(t,e){return t=EB(t),vr(t.getFullYear()%100,e,2)}function Bae(t,e){return vr(t.getFullYear()%1e4,e,4)}function Fae(t,e){var r=t.getDay();return t=r>=4||r===0?lf(t):lf.ceil(t),vr(t.getFullYear()%1e4,e,4)}function Uae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vr(e/60|0,"0",2)+vr(e%60,"0",2)}function j4(t,e){return vr(t.getUTCDate(),e,2)}function $ae(t,e){return vr(t.getUTCHours(),e,2)}function Vae(t,e){return vr(t.getUTCHours()%12||12,e,2)}function qae(t,e){return vr(1+sv.count(Xo(t),t),e,3)}function AB(t,e){return vr(t.getUTCMilliseconds(),e,3)}function zae(t,e){return AB(t,e)+"000"}function Wae(t,e){return vr(t.getUTCMonth()+1,e,2)}function Hae(t,e){return vr(t.getUTCMinutes(),e,2)}function Gae(t,e){return vr(t.getUTCSeconds(),e,2)}function Kae(t){var e=t.getUTCDay();return e===0?7:e}function Xae(t,e){return vr(ov.count(Xo(t)-1,t),e,2)}function CB(t){var e=t.getUTCDay();return e>=4||e===0?cf(t):cf.ceil(t)}function Yae(t,e){return t=CB(t),vr(cf.count(Xo(t),t)+(Xo(t).getUTCDay()===4),e,2)}function Zae(t){return t.getUTCDay()}function Qae(t,e){return vr(Ly.count(Xo(t)-1,t),e,2)}function Jae(t,e){return vr(t.getUTCFullYear()%100,e,2)}function eoe(t,e){return t=CB(t),vr(t.getUTCFullYear()%100,e,2)}function toe(t,e){return vr(t.getUTCFullYear()%1e4,e,4)}function roe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?cf(t):cf.ceil(t),vr(t.getUTCFullYear()%1e4,e,4)}function noe(){return"+0000"}function k4(){return"%"}function M4(t){return+t}function D4(t){return Math.floor(+t/1e3)}var fd,TB,OB;ioe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ioe(t){return fd=iae(t),TB=fd.format,fd.parse,OB=fd.utcFormat,fd.utcParse,fd}function soe(t){return new Date(t)}function aoe(t){return t instanceof Date?+t:+new Date(+t)}function JT(t,e,r,n,i,s,o,u,d,f){var g=FT(),x=g.invert,_=g.domain,T=f(".%L"),O=f(":%S"),E=f("%I:%M"),A=f("%I %p"),R=f("%a %d"),P=f("%b %d"),I=f("%B"),D=f("%Y");function L(F){return(d(F)<F?T:u(F)<F?O:o(F)<F?E:s(F)<F?A:n(F)<F?i(F)<F?R:P:r(F)<F?I:D)(F)}return g.invert=function(F){return new Date(x(F))},g.domain=function(F){return arguments.length?_(Array.from(F,aoe)):_().map(soe)},g.ticks=function(F){var U=_();return t(U[0],U[U.length-1],F??10)},g.tickFormat=function(F,U){return U==null?L:f(U)},g.nice=function(F){var U=_();return(!F||typeof F.range!="function")&&(F=e(U[0],U[U.length-1],F??10)),F?_(pB(U,F)):g},g.copy=function(){return Xm(g,JT(t,e,r,n,i,s,o,u,d,f))},g}function ooe(){return aa.apply(JT(rae,nae,Ko,ZT,av,Ym,XT,GT,Yc,TB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function loe(){return aa.apply(JT(eae,tae,Xo,QT,ov,sv,YT,KT,Yc,OB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lv(){var t=0,e=1,r,n,i,s,o=Xi,u=!1,d;function f(x){return x==null||isNaN(x=+x)?d:o(i===0?.5:(x=(s(x)-r)*i,u?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([t,e]=x,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(x){return arguments.length?(u=!!x,f):u},f.interpolator=function(x){return arguments.length?(o=x,f):o};function g(x){return function(_){var T,O;return arguments.length?([T,O]=_,o=x(T,O),f):[o(0),o(1)]}}return f.range=g(Kf),f.rangeRound=g(BT),f.unknown=function(x){return arguments.length?(d=x,f):d},function(x){return s=x,r=x(t),n=x(e),i=r===n?0:1/(n-r),f}}function tc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function NB(){var t=ec(lv()(Xi));return t.copy=function(){return tc(t,NB())},rl.apply(t,arguments)}function IB(){var t=VT(lv()).domain([1,10]);return t.copy=function(){return tc(t,IB()).base(t.base())},rl.apply(t,arguments)}function PB(){var t=qT(lv());return t.copy=function(){return tc(t,PB()).constant(t.constant())},rl.apply(t,arguments)}function eO(){var t=zT(lv());return t.copy=function(){return tc(t,eO()).exponent(t.exponent())},rl.apply(t,arguments)}function coe(){return eO.apply(null,arguments).exponent(.5)}function RB(){var t=[],e=Xi;function r(n){if(n!=null&&!isNaN(n=+n))return e((Gm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ql),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Xie(t,s/n))},r.copy=function(){return RB(e).domain(t)},rl.apply(r,arguments)}function cv(){var t=0,e=.5,r=1,n=1,i,s,o,u,d,f=Xi,g,x=!1,_;function T(E){return isNaN(E=+E)?_:(E=.5+((E=+g(E))-s)*(n*E<n*s?u:d),f(x?Math.max(0,Math.min(1,E)):E))}T.domain=function(E){return arguments.length?([t,e,r]=E,i=g(t=+t),s=g(e=+e),o=g(r=+r),u=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,T):[t,e,r]},T.clamp=function(E){return arguments.length?(x=!!E,T):x},T.interpolator=function(E){return arguments.length?(f=E,T):f};function O(E){return function(A){var R,P,I;return arguments.length?([R,P,I]=A,f=bse(E,[R,P,I]),T):[f(0),f(.5),f(1)]}}return T.range=O(Kf),T.rangeRound=O(BT),T.unknown=function(E){return arguments.length?(_=E,T):_},function(E){return g=E,i=E(t),s=E(e),o=E(r),u=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,T}}function jB(){var t=ec(cv()(Xi));return t.copy=function(){return tc(t,jB())},rl.apply(t,arguments)}function kB(){var t=VT(cv()).domain([.1,1,10]);return t.copy=function(){return tc(t,kB()).base(t.base())},rl.apply(t,arguments)}function MB(){var t=qT(cv());return t.copy=function(){return tc(t,MB()).constant(t.constant())},rl.apply(t,arguments)}function tO(){var t=zT(cv());return t.copy=function(){return tc(t,tO()).exponent(t.exponent())},rl.apply(t,arguments)}function uoe(){return tO.apply(null,arguments).exponent(.5)}const L4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nm,scaleDiverging:jB,scaleDivergingLog:kB,scaleDivergingPow:tO,scaleDivergingSqrt:uoe,scaleDivergingSymlog:MB,scaleIdentity:hB,scaleImplicit:iA,scaleLinear:ky,scaleLog:mB,scaleOrdinal:MT,scalePoint:wp,scalePow:WT,scaleQuantile:vB,scaleQuantize:xB,scaleRadial:yB,scaleSequential:NB,scaleSequentialLog:IB,scaleSequentialPow:eO,scaleSequentialQuantile:RB,scaleSequentialSqrt:coe,scaleSequentialSymlog:PB,scaleSqrt:zse,scaleSymlog:gB,scaleThreshold:wB,scaleTime:ooe,scaleUtc:loe,tickFormat:fB},Symbol.toStringTag,{value:"Module"}));var eS,B4;function uv(){if(B4)return eS;B4=1;var t=zf();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var u=r[s],d=n(u);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,g=u}return g}return eS=e,eS}var tS,F4;function DB(){if(F4)return tS;F4=1;function t(e,r){return e>r}return tS=t,tS}var rS,U4;function doe(){if(U4)return rS;U4=1;var t=uv(),e=DB(),r=Hf();function n(i){return i&&i.length?t(i,r,e):void 0}return rS=n,rS}var foe=doe();const dv=Ar(foe);var nS,$4;function LB(){if($4)return nS;$4=1;function t(e,r){return e<r}return nS=t,nS}var iS,V4;function hoe(){if(V4)return iS;V4=1;var t=uv(),e=LB(),r=Hf();function n(i){return i&&i.length?t(i,r,e):void 0}return iS=n,iS}var poe=hoe();const fv=Ar(poe);var sS,q4;function moe(){if(q4)return sS;q4=1;var t=yT(),e=po(),r=z7(),n=ds();function i(s,o){var u=n(s)?t:r;return u(s,e(o,3))}return sS=i,sS}var aS,z4;function goe(){if(z4)return aS;z4=1;var t=V7(),e=moe();function r(n,i){return t(e(n,i),1)}return aS=r,aS}var yoe=goe();const voe=Ar(yoe);var oS,W4;function xoe(){if(W4)return oS;W4=1;var t=IT();function e(r,n){return t(r,n)}return oS=e,oS}var woe=xoe();const hv=Ar(woe);var Xf=1e9,boe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nO,ln=!0,sa="[DecimalError] ",eu=sa+"Invalid argument: ",rO=sa+"Exponent out of range: ",Yf=Math.floor,$c=Math.pow,_oe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rs,ci=1e7,Zr=7,BB=9007199254740991,By=Yf(BB/Zr),pt={};pt.absoluteValue=pt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pt.comparedTo=pt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Zr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pt.dividedBy=pt.div=function(t){return Vo(this,new this.constructor(t))};pt.dividedToIntegerBy=pt.idiv=function(t){var e=this,r=e.constructor;return Br(Vo(e,new r(t),0,1),r.precision)};pt.equals=pt.eq=function(t){return!this.cmp(t)};pt.exponent=function(){return Un(this)};pt.greaterThan=pt.gt=function(t){return this.cmp(t)>0};pt.greaterThanOrEqualTo=pt.gte=function(t){return this.cmp(t)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(t){return this.cmp(t)<0};pt.lessThanOrEqualTo=pt.lte=function(t){return this.cmp(t)<1};pt.logarithm=pt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Rs))throw Error(sa+"NaN");if(r.s<1)throw Error(sa+(r.s?"NaN":"-Infinity"));return r.eq(Rs)?new n(0):(ln=!1,e=Vo(lm(r,s),lm(t,s),s),ln=!0,Br(e,i))};pt.minus=pt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$B(e,t):FB(e,(t.s=-t.s,t))};pt.modulo=pt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(sa+"NaN");return r.s?(ln=!1,e=Vo(r,t,0,1).times(t),ln=!0,r.minus(e)):Br(new n(r),i)};pt.naturalExponential=pt.exp=function(){return UB(this)};pt.naturalLogarithm=pt.ln=function(){return lm(this)};pt.negated=pt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pt.plus=pt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FB(e,t):$B(e,(t.s=-t.s,t))};pt.precision=pt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(eu+t);if(e=Un(i)+1,n=i.d.length-1,r=n*Zr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pt.squareRoot=pt.sqrt=function(){var t,e,r,n,i,s,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(sa+"NaN")}for(t=Un(u),ln=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Za(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(s=n,n=s.plus(Vo(u,s,o+2)).times(.5),Za(s.d).slice(0,o)===(e=Za(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Br(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(e!="9999")break;o+=4}return ln=!0,Br(n,r)};pt.times=pt.mul=function(t){var e,r,n,i,s,o,u,d,f,g=this,x=g.constructor,_=g.d,T=(t=new x(t)).d;if(!g.s||!t.s)return new x(0);for(t.s*=g.s,r=g.e+t.e,d=_.length,f=T.length,d<f&&(s=_,_=T,T=s,o=d,d=f,f=o),s=[],o=d+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)u=s[i]+T[n]*_[i-n-1]+e,s[i--]=u%ci|0,e=u/ci|0;s[i]=(s[i]+e)%ci|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ln?Br(t,x.precision):t};pt.toDecimalPlaces=pt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(oo(t,0,Xf),e===void 0?e=n.rounding:oo(e,0,8),Br(r,t+Un(r)+1,e))};pt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=fu(n,!0):(oo(t,0,Xf),e===void 0?e=i.rounding:oo(e,0,8),n=Br(new i(n),t+1,e),r=fu(n,!0,t+1)),r};pt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?fu(i):(oo(t,0,Xf),e===void 0?e=s.rounding:oo(e,0,8),n=Br(new s(i),t+Un(i)+1,e),r=fu(n.abs(),!1,t+Un(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};pt.toInteger=pt.toint=function(){var t=this,e=t.constructor;return Br(new e(t),Un(t)+1,e.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(t){var e,r,n,i,s,o,u=this,d=u.constructor,f=12,g=+(t=new d(t));if(!t.s)return new d(Rs);if(u=new d(u),!u.s){if(t.s<1)throw Error(sa+"Infinity");return u}if(u.eq(Rs))return u;if(n=d.precision,t.eq(Rs))return Br(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=u.s,o){if((r=g<0?-g:g)<=BB){for(i=new d(Rs),e=Math.ceil(n/Zr+4),ln=!1;r%2&&(i=i.times(u),G4(i.d,e)),r=Yf(r/2),r!==0;)u=u.times(u),G4(u.d,e);return ln=!0,t.s<0?new d(Rs).div(i):Br(i,n)}}else if(s<0)throw Error(sa+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,ln=!1,i=t.times(lm(u,n+f)),ln=!0,i=UB(i),i.s=s,i};pt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Un(i),n=fu(i,r<=s.toExpNeg||r>=s.toExpPos)):(oo(t,1,Xf),e===void 0?e=s.rounding:oo(e,0,8),i=Br(new s(i),t,e),r=Un(i),n=fu(i,t<=r||r<=s.toExpNeg,t)),n};pt.toSignificantDigits=pt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(oo(t,1,Xf),e===void 0?e=n.rounding:oo(e,0,8)),Br(new n(r),t,e)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Un(t),r=t.constructor;return fu(t,e<=r.toExpNeg||e>=r.toExpPos)};function FB(t,e){var r,n,i,s,o,u,d,f,g=t.constructor,x=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),ln?Br(e,x):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),s=o-i,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,i=o,u=d.length),o=Math.ceil(x/Zr),u=o>u?o+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/ci|0,d[s]%=ci;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,ln?Br(e,x):e}function oo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(eu+t)}function Za(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Zr-n.length,r&&(s+=Bl(r)),s+=n;o=t[e],n=o+"",r=Zr-n.length,r&&(s+=Bl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Vo=(function(){function t(n,i){var s,o=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+o,n[u]=s%ci|0,o=s/ci|0;return o&&n.unshift(o),n}function e(n,i,s,o){var u,d;if(s!=o)d=s>o?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*ci+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var u,d,f,g,x,_,T,O,E,A,R,P,I,D,L,F,U,H,W=n.constructor,ce=n.s==i.s?1:-1,K=n.d,z=i.d;if(!n.s)return new W(n);if(!i.s)throw Error(sa+"Division by zero");for(d=n.e-i.e,U=z.length,L=K.length,T=new W(ce),O=T.d=[],f=0;z[f]==(K[f]||0);)++f;if(z[f]>(K[f]||0)&&--d,s==null?P=s=W.precision:o?P=s+(Un(n)-Un(i))+1:P=s,P<0)return new W(0);if(P=P/Zr+2|0,f=0,U==1)for(g=0,z=z[0],P++;(f<L||g)&&P--;f++)I=g*ci+(K[f]||0),O[f]=I/z|0,g=I%z|0;else{for(g=ci/(z[0]+1)|0,g>1&&(z=t(z,g),K=t(K,g),U=z.length,L=K.length),D=U,E=K.slice(0,U),A=E.length;A<U;)E[A++]=0;H=z.slice(),H.unshift(0),F=z[0],z[1]>=ci/2&&++F;do g=0,u=e(z,E,U,A),u<0?(R=E[0],U!=A&&(R=R*ci+(E[1]||0)),g=R/F|0,g>1?(g>=ci&&(g=ci-1),x=t(z,g),_=x.length,A=E.length,u=e(x,E,_,A),u==1&&(g--,r(x,U<_?H:z,_))):(g==0&&(u=g=1),x=z.slice()),_=x.length,_<A&&x.unshift(0),r(E,x,A),u==-1&&(A=E.length,u=e(z,E,U,A),u<1&&(g++,r(E,U<A?H:z,A))),A=E.length):u===0&&(g++,E=[0]),O[f++]=g,u&&E[0]?E[A++]=K[D]||0:(E=[K[D]],A=1);while((D++<L||E[0]!==void 0)&&P--)}return O[0]||O.shift(),T.e=d,Br(T,o?s+Un(T)+1:s)}})();function UB(t,e){var r,n,i,s,o,u,d=0,f=0,g=t.constructor,x=g.precision;if(Un(t)>16)throw Error(rO+Un(t));if(!t.s)return new g(Rs);for(ln=!1,u=x,o=new g(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log($c(2,f))/Math.LN10*2+5|0,u+=n,r=i=s=new g(Rs),g.precision=u;;){if(i=Br(i.times(t),u),r=r.times(++d),o=s.plus(Vo(i,r,u)),Za(o.d).slice(0,u)===Za(s.d).slice(0,u)){for(;f--;)s=Br(s.times(s),u);return g.precision=x,e==null?(ln=!0,Br(s,x)):s}s=o}}function Un(t){for(var e=t.e*Zr,r=t.d[0];r>=10;r/=10)e++;return e}function lS(t,e,r){if(e>t.LN10.sd())throw ln=!0,r&&(t.precision=r),Error(sa+"LN10 precision limit exceeded");return Br(new t(t.LN10),e)}function Bl(t){for(var e="";t--;)e+="0";return e}function lm(t,e){var r,n,i,s,o,u,d,f,g,x=1,_=10,T=t,O=T.d,E=T.constructor,A=E.precision;if(T.s<1)throw Error(sa+(T.s?"NaN":"-Infinity"));if(T.eq(Rs))return new E(0);if(e==null?(ln=!1,f=A):f=e,T.eq(10))return e==null&&(ln=!0),lS(E,f);if(f+=_,E.precision=f,r=Za(O),n=r.charAt(0),s=Un(T),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)T=T.times(t),r=Za(T.d),n=r.charAt(0),x++;s=Un(T),n>1?(T=new E("0."+r),s++):T=new E(n+"."+r.slice(1))}else return d=lS(E,f+2,A).times(s+""),T=lm(new E(n+"."+r.slice(1)),f-_).plus(d),E.precision=A,e==null?(ln=!0,Br(T,A)):T;for(u=o=T=Vo(T.minus(Rs),T.plus(Rs),f),g=Br(T.times(T),f),i=3;;){if(o=Br(o.times(g),f),d=u.plus(Vo(o,new E(i),f)),Za(d.d).slice(0,f)===Za(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(lS(E,f+2,A).times(s+""))),u=Vo(u,new E(x),f),E.precision=A,e==null?(ln=!0,Br(u,A)):u;u=d,i+=2}}function H4(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Yf(r/Zr),t.d=[],n=(r+1)%Zr,r<0&&(n+=Zr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Zr;n<i;)t.d.push(+e.slice(n,n+=Zr));e=e.slice(n),n=Zr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ln&&(t.e>By||t.e<-By))throw Error(rO+r)}else t.s=0,t.e=0,t.d=[0];return t}function Br(t,e,r){var n,i,s,o,u,d,f,g,x=t.d;for(o=1,s=x[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Zr,i=e,f=x[g=0];else{if(g=Math.ceil((n+1)/Zr),s=x.length,g>=s)return t;for(f=s=x[g],o=1;s>=10;s/=10)o++;n%=Zr,i=n-Zr+o}if(r!==void 0&&(s=$c(10,o-i-1),u=f/s%10|0,d=e<0||x[g+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/$c(10,o-i):0:x[g-1])%10&1||r==(t.s<0?8:7))),e<1||!x[0])return d?(s=Un(t),x.length=1,e=e-s-1,x[0]=$c(10,(Zr-e%Zr)%Zr),t.e=Yf(-e/Zr)||0):(x.length=1,x[0]=t.e=t.s=0),t;if(n==0?(x.length=g,s=1,g--):(x.length=g+1,s=$c(10,Zr-n),x[g]=i>0?(f/$c(10,o-i)%$c(10,i)|0)*s:0),d)for(;;)if(g==0){(x[0]+=s)==ci&&(x[0]=1,++t.e);break}else{if(x[g]+=s,x[g]!=ci)break;x[g--]=0,s=1}for(n=x.length;x[--n]===0;)x.pop();if(ln&&(t.e>By||t.e<-By))throw Error(rO+Un(t));return t}function $B(t,e){var r,n,i,s,o,u,d,f,g,x,_=t.constructor,T=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),ln?Br(e,T):e;if(d=t.d,x=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(g=o<0,g?(r=d,o=-o,u=x.length):(r=x,n=f,u=d.length),i=Math.max(Math.ceil(T/Zr),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=x.length,g=i<u,g&&(u=i),i=0;i<u;i++)if(d[i]!=x[i]){g=d[i]<x[i];break}o=0}for(g&&(r=d,d=x,x=r,e.s=-e.s),u=d.length,i=x.length-u;i>0;--i)d[u++]=0;for(i=x.length;i>o;){if(d[--i]<x[i]){for(s=i;s&&d[--s]===0;)d[s]=ci-1;--d[s],d[i]+=ci}d[i]-=x[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,ln?Br(e,T):e):new _(0)}function fu(t,e,r){var n,i=Un(t),s=Za(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Bl(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Bl(-i-1)+s,r&&(n=r-o)>0&&(s+=Bl(n))):i>=o?(s+=Bl(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Bl(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Bl(n))),t.s<0?"-"+s:s}function G4(t,e){if(t.length>e)return t.length=e,!0}function VB(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(eu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return H4(o,s.toString())}else if(typeof s!="string")throw Error(eu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,_oe.test(s))H4(o,s);else throw Error(eu+s)}if(i.prototype=pt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VB,i.config=i.set=Soe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Soe(t){if(!t||typeof t!="object")throw Error(sa+"Object expected");var e,r,n,i=["precision",1,Xf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Yf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(eu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(eu+r+": "+n);return this}var nO=VB(boe);Rs=new nO(1);const Rr=nO;function Eoe(t){return Ooe(t)||Toe(t)||Coe(t)||Aoe()}function Aoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(t,e){if(t){if(typeof t=="string")return lA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(t,e)}}function Toe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ooe(t){if(Array.isArray(t))return lA(t)}function lA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Noe=function(e){return e},qB={},zB=function(e){return e===qB},K4=function(e){return function r(){return arguments.length===0||arguments.length===1&&zB(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Ioe=function t(e,r){return e===1?r:K4(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(u){return u!==qB}).length;return o>=e?r.apply(void 0,i):t(e-o,K4(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var g=i.map(function(x){return zB(x)?d.shift():x});return r.apply(void 0,Eoe(g).concat(d))}))})},pv=function(e){return Ioe(e.length,e)},cA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Poe=pv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Roe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Noe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},uA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},WB=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function joe(t){var e;return t===0?e=1:e=Math.floor(new Rr(t).abs().log(10).toNumber())+1,e}function koe(t,e,r){for(var n=new Rr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Moe=pv(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Doe=pv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Loe=pv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const mv={rangeStep:koe,getDigitCount:joe,interpolateNumber:Moe,uninterpolateNumber:Doe,uninterpolateTruncation:Loe};function dA(t){return Uoe(t)||Foe(t)||HB(t)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Foe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Uoe(t){if(Array.isArray(t))return fA(t)}function cm(t,e){return qoe(t)||Voe(t,e)||HB(t,e)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HB(t,e){if(t){if(typeof t=="string")return fA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(t,e)}}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Voe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,s=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function qoe(t){if(Array.isArray(t))return t}function GB(t){var e=cm(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function KB(t,e,r){if(t.lte(0))return new Rr(0);var n=mv.getDigitCount(t.toNumber()),i=new Rr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,u=new Rr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),d=u.mul(i);return e?d:new Rr(Math.ceil(d))}function zoe(t,e,r){var n=1,i=new Rr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Rr(10).pow(mv.getDigitCount(t)-1),i=new Rr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Rr(Math.floor(t)))}else t===0?i=new Rr(Math.floor((e-1)/2)):r||(i=new Rr(Math.floor(t)));var o=Math.floor((e-1)/2),u=Roe(Poe(function(d){return i.add(new Rr(d-o).mul(n)).toNumber()}),cA);return u(0,e)}function XB(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Rr(0),tickMin:new Rr(0),tickMax:new Rr(0)};var s=KB(new Rr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Rr(0):(o=new Rr(t).add(e).div(2),o=o.sub(new Rr(o).mod(s)));var u=Math.ceil(o.sub(t).div(s).toNumber()),d=Math.ceil(new Rr(e).sub(o).div(s).toNumber()),f=u+d+1;return f>r?XB(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,u=e>0?u:u+(r-f)),{step:s,tickMin:o.sub(new Rr(u).mul(s)),tickMax:o.add(new Rr(d).mul(s))})}function Woe(t){var e=cm(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=GB([r,n]),d=cm(u,2),f=d[0],g=d[1];if(f===-1/0||g===1/0){var x=g===1/0?[f].concat(dA(cA(0,i-1).map(function(){return 1/0}))):[].concat(dA(cA(0,i-1).map(function(){return-1/0})),[g]);return r>n?uA(x):x}if(f===g)return zoe(f,i,s);var _=XB(f,g,o,s),T=_.step,O=_.tickMin,E=_.tickMax,A=mv.rangeStep(O,E.add(new Rr(.1).mul(T)),T);return r>n?uA(A):A}function Hoe(t,e){var r=cm(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=GB([n,i]),u=cm(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var g=Math.max(e,2),x=KB(new Rr(f).sub(d).div(g-1),s,0),_=[].concat(dA(mv.rangeStep(new Rr(d),new Rr(f).sub(new Rr(.99).mul(x)),x)),[f]);return n>i?uA(_):_}var Goe=WB(Woe),Koe=WB(Hoe),Xoe="Invariant failed";function hu(t,e){throw new Error(Xoe)}var Yoe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fy.apply(this,arguments)}function Zoe(t,e){return tle(t)||ele(t,e)||Joe(t,e)||Qoe()}function Qoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Joe(t,e){if(t){if(typeof t=="string")return X4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(t,e)}}function X4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ele(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function tle(t){if(Array.isArray(t))return t}function rle(t,e){if(t==null)return{};var r=nle(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ile(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QB(n.key),n)}}function ale(t,e,r){return e&&sle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ole(t,e,r){return e=Uy(e),lle(t,YB()?Reflect.construct(e,r||[],Uy(t).constructor):e.apply(t,r))}function lle(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cle(t)}function cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YB=function(){return!!t})()}function Uy(t){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(t)}function ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hA(t,e)}function hA(t,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hA(t,e)}function ZB(t,e,r){return e=QB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QB(t){var e=dle(t,"string");return uf(e)=="symbol"?e:e+""}function dle(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gv=(function(t){function e(){return ile(this,e),ole(this,e,arguments)}return ule(e,t),ale(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,g=n.xAxis,x=n.yAxis,_=rle(n,Yoe),T=Ut(_,!1);this.props.direction==="x"&&g.type!=="number"&&hu();var O=d.map(function(E){var A=f(E,u),R=A.x,P=A.y,I=A.value,D=A.errorVal;if(!D)return null;var L=[],F,U;if(Array.isArray(D)){var H=Zoe(D,2);F=H[0],U=H[1]}else F=U=D;if(s==="vertical"){var W=g.scale,ce=P+i,K=ce+o,z=ce-o,Z=W(I-F),Q=W(I+U);L.push({x1:Q,y1:K,x2:Q,y2:z}),L.push({x1:Z,y1:ce,x2:Q,y2:ce}),L.push({x1:Z,y1:K,x2:Z,y2:z})}else if(s==="horizontal"){var Y=x.scale,J=R+i,re=J-o,ie=J+o,se=Y(I-F),me=Y(I+U);L.push({x1:re,y1:me,x2:ie,y2:me}),L.push({x1:J,y1:se,x2:J,y2:me}),L.push({x1:re,y1:se,x2:ie,y2:se})}return oe.createElement(Nr,Fy({className:"recharts-errorBar",key:"bar-".concat(L.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},T),L.map(function(ne){return oe.createElement("line",Fy({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return oe.createElement(Nr,{className:"recharts-errorBars"},O)}}])})(oe.Component);ZB(gv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZB(gv,"displayName","ErrorBar");function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function Y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(r),!0).forEach(function(n){fle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fle(t,e,r){return e=hle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hle(t){var e=ple(t,"string");return um(e)=="symbol"?e:e+""}function ple(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JB=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=As(r,Fd);if(!o)return null;var u=Fd.defaultProps,d=u!==void 0?Dc(Dc({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:s==="children"?f=(n||[]).reduce(function(g,x){var _=x.item,T=x.props,O=T.sectors||T.data||[];return g.concat(O.map(function(E){return{type:o.props.iconType||_.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(n||[]).map(function(g){var x=g.item,_=x.type.defaultProps,T=_!==void 0?Dc(Dc({},_),x.props):{},O=T.dataKey,E=T.name,A=T.legendType,R=T.hide;return{inactive:R,dataKey:O,type:d.iconType||A||"square",color:iO(x),value:E||O,payload:T}}),Dc(Dc(Dc({},d),Fd.getWithHeight(o,i)),{},{payload:f,item:o})};function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function Z4(t){return vle(t)||yle(t)||gle(t)||mle()}function mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gle(t,e){if(t){if(typeof t=="string")return pA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(t,e)}}function yle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vle(t){if(Array.isArray(t))return pA(t)}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function En(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(r),!0).forEach(function(n){$d(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $d(t,e,r){return e=xle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xle(t){var e=wle(t,"string");return dm(e)=="symbol"?e:e+""}function wle(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bi(t,e,r){return ir(t)||ir(e)?r:Jn(e)?Ms(t,e,r):Ht(e)?e(t):r}function bp(t,e,r,n){var i=voe(t,function(u){return Bi(u,e)});if(r==="number"){var s=i.filter(function(u){return Qe(u)||parseFloat(u)});return s.length?[fv(s),dv(s)]:[1/0,-1/0]}var o=n?i.filter(function(u){return!ir(u)}):i;return o.map(function(u){return Jn(u)||u instanceof Date?u:""})}var ble=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,f=0;f<u;f++){var g=f>0?i[f-1].coordinate:i[u-1].coordinate,x=i[f].coordinate,_=f>=u-1?i[0].coordinate:i[f+1].coordinate,T=void 0;if(Gi(x-g)!==Gi(_-x)){var O=[];if(Gi(_-x)===Gi(d[1]-d[0])){T=_;var E=x+d[1]-d[0];O[0]=Math.min(E,(E+g)/2),O[1]=Math.max(E,(E+g)/2)}else{T=g;var A=_+d[1]-d[0];O[0]=Math.min(x,(A+x)/2),O[1]=Math.max(x,(A+x)/2)}var R=[Math.min(x,(T+x)/2),Math.max(x,(T+x)/2)];if(e>R[0]&&e<=R[1]||e>=O[0]&&e<=O[1]){o=i[f].index;break}}else{var P=Math.min(g,_),I=Math.max(g,_);if(e>(P+x)/2&&e<=(I+x)/2){o=i[f].index;break}}}else for(var D=0;D<u;D++)if(D===0&&e<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<u-1&&e>(n[D].coordinate+n[D-1].coordinate)/2&&e<=(n[D].coordinate+n[D+1].coordinate)/2||D===u-1&&e>(n[D].coordinate+n[D-1].coordinate)/2){o=n[D].index;break}return o},iO=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?En(En({},e.type.defaultProps),e.props):e.props,o=s.stroke,u=s.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},_le=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},u=Object.keys(s),d=0,f=u.length;d<f;d++)for(var g=s[u[d]].stackGroups,x=Object.keys(g),_=0,T=x.length;_<T;_++){var O=g[x[_]],E=O.items,A=O.cateAxisId,R=E.filter(function(U){return Uo(U.type).indexOf("Bar")>=0});if(R&&R.length){var P=R[0].type.defaultProps,I=P!==void 0?En(En({},P),R[0].props):R[0].props,D=I.barSize,L=I[A];o[L]||(o[L]=[]);var F=ir(D)?r:D;o[L].push({item:R[0],stackList:R.slice(1),barSize:ir(F)?void 0:Ki(F,n,0)})}}return o},Sle=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=Ki(r,i,0,!0),g,x=[];if(o[0].barSize===+o[0].barSize){var _=!1,T=i/d,O=o.reduce(function(D,L){return D+L.barSize||0},0);O+=(d-1)*f,O>=i&&(O-=(d-1)*f,f=0),O>=i&&T>0&&(_=!0,T*=.9,O=d*T);var E=(i-O)/2>>0,A={offset:E-f,size:0};g=o.reduce(function(D,L){var F={item:L.item,position:{offset:A.offset+A.size+f,size:_?T:L.barSize}},U=[].concat(Z4(D),[F]);return A=U[U.length-1].position,L.stackList&&L.stackList.length&&L.stackList.forEach(function(H){U.push({item:H,position:A})}),U},x)}else{var R=Ki(n,i,0,!0);i-2*R-(d-1)*f<=0&&(f=0);var P=(i-2*R-(d-1)*f)/d;P>1&&(P>>=0);var I=u===+u?Math.min(P,u):P;g=o.reduce(function(D,L,F){var U=[].concat(Z4(D),[{item:L.item,position:{offset:R+(P+f)*F+(P-I)/2,size:I}}]);return L.stackList&&L.stackList.length&&L.stackList.forEach(function(H){U.push({item:H,position:U[U.length-1].position})}),U},x)}return g},Ele=function(e,r,n,i){var s=n.children,o=n.width,u=n.margin,d=o-(u.left||0)-(u.right||0),f=JB({children:s,legendWidth:d});if(f){var g=i||{},x=g.width,_=g.height,T=f.align,O=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&O==="middle")&&T!=="center"&&Qe(e[T]))return En(En({},e),{},$d({},T,e[T]+(x||0)));if((E==="horizontal"||E==="vertical"&&T==="center")&&O!=="middle"&&Qe(e[O]))return En(En({},e),{},$d({},O,e[O]+(_||0)))}return e},Ale=function(e,r,n){return ir(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},eF=function(e,r,n,i,s){var o=r.props.children,u=na(o,gv).filter(function(f){return Ale(i,s,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,g){var x=Bi(g,n);if(ir(x))return f;var _=Array.isArray(x)?[fv(x),dv(x)]:[x,x],T=d.reduce(function(O,E){var A=Bi(g,E,0),R=_[0]-Math.abs(Array.isArray(A)?A[0]:A),P=_[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(R,O[0]),Math.max(P,O[1])]},[1/0,-1/0]);return[Math.min(T[0],f[0]),Math.max(T[1],f[1])]},[1/0,-1/0])}return null},Cle=function(e,r,n,i,s){var o=r.map(function(u){return eF(e,u,n,s,i)}).filter(function(u){return!ir(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},tF=function(e,r,n,i,s){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&eF(e,d,f,i)||bp(e,f,n,s)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var g=0,x=f.length;g<x;g++)u[f[g]]||(u[f[g]]=!0,d.push(f[g]));return d},[])},rF=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Zc=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?Gi(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(x){var _=s?s.indexOf(x):x;return{coordinate:i(_)+f,value:x,offset:f}});return g.filter(function(x){return!zm(x.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(x,_){return{coordinate:i(x)+f,value:x,index:_,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(x){return{coordinate:i(x)+f,value:x,offset:f}}):i.domain().map(function(x,_){return{coordinate:i(x)+f,value:s?s[x]:x,index:_,offset:f}})},cS=new WeakMap,A0=function(e,r){if(typeof r!="function")return e;cS.has(e)||cS.set(e,new WeakMap);var n=cS.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},nF=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:nm(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:ky(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wp(),realScaleType:"point"}:s==="category"?{scale:nm(),realScaleType:"band"}:{scale:ky(),realScaleType:"linear"};if(cu(i)){var d="scale".concat(Y1(i));return{scale:(L4[d]||wp)(),realScaleType:L4[d]?d:"point"}}return Ht(i)?{scale:i}:{scale:wp(),realScaleType:"point"}},J4=1e-4,iF=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-J4,o=Math.max(i[0],i[1])+J4,u=e(r[0]),d=e(r[n-1]);(u<s||u>o||d<s||d>o)&&e.domain([r[0],r[n-1]])}},Tle=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Ole=function(e,r){if(!r||r.length!==2||!Qe(r[0])||!Qe(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Qe(e[0])||e[0]<n)&&(s[0]=n),(!Qe(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Nle=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,u=0;u<r;++u){var d=zm(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},Ile=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var u=zm(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Ple={sign:Nle,expand:vte,none:tf,silhouette:xte,wiggle:wte,positive:Ile},Rle=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),s=Ple[n],o=yte().keys(i).value(function(u,d){return+Bi(u,d,0)}).order(zE).offset(s);return o(e)},jle=function(e,r,n,i,s,o){if(!e)return null;var u=o?r.reverse():r,d={},f=u.reduce(function(x,_){var T,O=(T=_.type)!==null&&T!==void 0&&T.defaultProps?En(En({},_.type.defaultProps),_.props):_.props,E=O.stackId,A=O.hide;if(A)return x;var R=O[n],P=x[R]||{hasStack:!1,stackGroups:{}};if(Jn(E)){var I=P.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(_),P.hasStack=!0,P.stackGroups[E]=I}else P.stackGroups[Wm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[_]};return En(En({},x),{},$d({},R,P))},d),g={};return Object.keys(f).reduce(function(x,_){var T=f[_];if(T.hasStack){var O={};T.stackGroups=Object.keys(T.stackGroups).reduce(function(E,A){var R=T.stackGroups[A];return En(En({},E),{},$d({},A,{numericAxisId:n,cateAxisId:i,items:R.items,stackedData:Rle(e,R.items,s)}))},O)}return En(En({},x),{},$d({},_,T))},g)},sF=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var g=Goe(f,s,u);return e.domain([fv(g),dv(g)]),{niceTicks:g}}if(s&&i==="number"){var x=e.domain(),_=Koe(x,s,u);return{niceTicks:_}}return null},eM=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Bi(o,r.dataKey,r.domain[u]);return ir(d)?null:r.scale(d)-s/2+i},kle=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Mle=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?En(En({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Jn(s)){var o=r[s];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},Dle=function(e){return e.reduce(function(r,n){return[fv(n.concat([r[0]]).filter(Qe)),dv(n.concat([r[1]]).filter(Qe))]},[1/0,-1/0])},aF=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],u=o.stackedData,d=u.reduce(function(f,g){var x=Dle(g.slice(r,n+1));return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},tM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mA=function(e,r,n){if(Ht(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Qe(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(tM.test(e[0])){var s=+tM.exec(e[0])[1];i[0]=r[0]-s}else Ht(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Qe(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(rM.test(e[1])){var o=+rM.exec(e[1])[1];i[1]=r[1]+o}else Ht(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},$y=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=RT(r,function(x){return x.coordinate}),o=1/0,u=1,d=s.length;u<d;u++){var f=s[u],g=s[u-1];o=Math.min((f.coordinate||0)-(g.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},nM=function(e,r,n){return!e||!e.length||hv(e,Ms(n,"type.defaultProps.domain"))?r:e},oF=function(e,r){var n=e.type.defaultProps?En(En({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,g=n.hide;return En(En({},Ut(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:s||i,color:iO(e),value:Bi(r,i),type:d,payload:r,chartType:f,hide:g})};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function iM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(r),!0).forEach(function(n){lF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lF(t,e,r){return e=Lle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lle(t){var e=Ble(t,"string");return fm(e)=="symbol"?e:e+""}function Ble(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fle(t,e){return qle(t)||Vle(t,e)||$le(t,e)||Ule()}function Ule(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t,e){if(t){if(typeof t=="string")return sM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sM(t,e)}}function sM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function qle(t){if(Array.isArray(t))return t}var Vy=Math.PI/180,zle=function(e){return e*180/Math.PI},Hr=function(e,r,n,i){return{x:e+Math.cos(-Vy*i)*n,y:r+Math.sin(-Vy*i)*n}},cF=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Wle=function(e,r,n,i,s){var o=e.width,u=e.height,d=e.startAngle,f=e.endAngle,g=Ki(e.cx,o,o/2),x=Ki(e.cy,u,u/2),_=cF(o,u,n),T=Ki(e.innerRadius,_,0),O=Ki(e.outerRadius,_,_*.8),E=Object.keys(r);return E.reduce(function(A,R){var P=r[R],I=P.domain,D=P.reversed,L;if(ir(P.range))i==="angleAxis"?L=[d,f]:i==="radiusAxis"&&(L=[T,O]),D&&(L=[L[1],L[0]]);else{L=P.range;var F=L,U=Fle(F,2);d=U[0],f=U[1]}var H=nF(P,s),W=H.realScaleType,ce=H.scale;ce.domain(I).range(L),iF(ce);var K=sF(ce,Mo(Mo({},P),{},{realScaleType:W})),z=Mo(Mo(Mo({},P),K),{},{range:L,radius:O,realScaleType:W,scale:ce,cx:g,cy:x,innerRadius:T,outerRadius:O,startAngle:d,endAngle:f});return Mo(Mo({},A),{},lF({},R,z))},{})},Hle=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Gle=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,u=Hle({x:n,y:i},{x:s,y:o});if(u<=0)return{radius:u};var d=(n-s)/u,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:u,angle:zle(f),angleInRadian:f}},Kle=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Xle=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),u=Math.min(s,o);return e+u*360},aM=function(e,r){var n=e.x,i=e.y,s=Gle({x:n,y:i},r),o=s.radius,u=s.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var g=Kle(r),x=g.startAngle,_=g.endAngle,T=u,O;if(x<=_){for(;T>_;)T-=360;for(;T<x;)T+=360;O=T>=x&&T<=_}else{for(;T>x;)T-=360;for(;T<_;)T+=360;O=T>=_&&T<=x}return O?Mo(Mo({},r),{},{radius:o,angle:Xle(T,r)}):null},uF=function(e){return!M.isValidElement(e)&&!Ht(e)&&typeof e!="boolean"?e.className:""};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}var Yle=["offset"];function Zle(t){return tce(t)||ece(t)||Jle(t)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jle(t,e){if(t){if(typeof t=="string")return gA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(t,e)}}function ece(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tce(t){if(Array.isArray(t))return gA(t)}function gA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rce(t,e){if(t==null)return{};var r=nce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(r),!0).forEach(function(n){ice(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ice(t,e,r){return e=sce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sce(t){var e=ace(t,"string");return hm(e)=="symbol"?e:e+""}function ace(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pm.apply(this,arguments)}var oce=function(e){var r=e.value,n=e.formatter,i=ir(e.children)?r:e.children;return Ht(n)?n(i):i},lce=function(e,r){var n=Gi(r-e),i=Math.min(Math.abs(r-e),360);return n*i},cce=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,u=e.className,d=s,f=d.cx,g=d.cy,x=d.innerRadius,_=d.outerRadius,T=d.startAngle,O=d.endAngle,E=d.clockWise,A=(x+_)/2,R=lce(T,O),P=R>=0?1:-1,I,D;i==="insideStart"?(I=T+P*o,D=E):i==="insideEnd"?(I=O-P*o,D=!E):i==="end"&&(I=O+P*o,D=E),D=R<=0?D:!D;var L=Hr(f,g,A,I),F=Hr(f,g,A,I+(D?1:-1)*359),U="M".concat(L.x,",").concat(L.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(D?0:1,`,
    `).concat(F.x,",").concat(F.y),H=ir(e.id)?Wm("recharts-radial-line-"):e.id;return oe.createElement("text",pm({},n,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",u)}),oe.createElement("defs",null,oe.createElement("path",{id:H,d:U})),oe.createElement("textPath",{xlinkHref:"#".concat(H)},r))},uce=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,u=s.cy,d=s.innerRadius,f=s.outerRadius,g=s.startAngle,x=s.endAngle,_=(g+x)/2;if(i==="outside"){var T=Hr(o,u,f+n,_),O=T.x,E=T.y;return{x:O,y:E,textAnchor:O>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var A=(d+f)/2,R=Hr(o,u,A,_),P=R.x,I=R.y;return{x:P,y:I,textAnchor:"middle",verticalAnchor:"middle"}},dce=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,u=o.x,d=o.y,f=o.width,g=o.height,x=g>=0?1:-1,_=x*i,T=x>0?"end":"start",O=x>0?"start":"end",E=f>=0?1:-1,A=E*i,R=E>0?"end":"start",P=E>0?"start":"end";if(s==="top"){var I={x:u+f/2,y:d-x*i,textAnchor:"middle",verticalAnchor:T};return Xn(Xn({},I),n?{height:Math.max(d-n.y,0),width:f}:{})}if(s==="bottom"){var D={x:u+f/2,y:d+g+_,textAnchor:"middle",verticalAnchor:O};return Xn(Xn({},D),n?{height:Math.max(n.y+n.height-(d+g),0),width:f}:{})}if(s==="left"){var L={x:u-A,y:d+g/2,textAnchor:R,verticalAnchor:"middle"};return Xn(Xn({},L),n?{width:Math.max(L.x-n.x,0),height:g}:{})}if(s==="right"){var F={x:u+f+A,y:d+g/2,textAnchor:P,verticalAnchor:"middle"};return Xn(Xn({},F),n?{width:Math.max(n.x+n.width-F.x,0),height:g}:{})}var U=n?{width:f,height:g}:{};return s==="insideLeft"?Xn({x:u+A,y:d+g/2,textAnchor:P,verticalAnchor:"middle"},U):s==="insideRight"?Xn({x:u+f-A,y:d+g/2,textAnchor:R,verticalAnchor:"middle"},U):s==="insideTop"?Xn({x:u+f/2,y:d+_,textAnchor:"middle",verticalAnchor:O},U):s==="insideBottom"?Xn({x:u+f/2,y:d+g-_,textAnchor:"middle",verticalAnchor:T},U):s==="insideTopLeft"?Xn({x:u+A,y:d+_,textAnchor:P,verticalAnchor:O},U):s==="insideTopRight"?Xn({x:u+f-A,y:d+_,textAnchor:R,verticalAnchor:O},U):s==="insideBottomLeft"?Xn({x:u+A,y:d+g-_,textAnchor:P,verticalAnchor:T},U):s==="insideBottomRight"?Xn({x:u+f-A,y:d+g-_,textAnchor:R,verticalAnchor:T},U):Wf(s)&&(Qe(s.x)||Kc(s.x))&&(Qe(s.y)||Kc(s.y))?Xn({x:u+Ki(s.x,f),y:d+Ki(s.y,g),textAnchor:"end",verticalAnchor:"end"},U):Xn({x:u+f/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},U)},fce=function(e){return"cx"in e&&Qe(e.cx)};function ui(t){var e=t.offset,r=e===void 0?5:e,n=rce(t,Yle),i=Xn({offset:r},n),s=i.viewBox,o=i.position,u=i.value,d=i.children,f=i.content,g=i.className,x=g===void 0?"":g,_=i.textBreakAll;if(!s||ir(u)&&ir(d)&&!M.isValidElement(f)&&!Ht(f))return null;if(M.isValidElement(f))return M.cloneElement(f,i);var T;if(Ht(f)){if(T=M.createElement(f,i),M.isValidElement(T))return T}else T=oce(i);var O=fce(s),E=Ut(i,!0);if(O&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cce(i,T,E);var A=O?uce(i):dce(i);return oe.createElement(du,pm({className:Qt("recharts-label",x)},E,A,{breakAll:_}),T)}ui.displayName="Label";var dF=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,g=e.outerRadius,x=e.x,_=e.y,T=e.top,O=e.left,E=e.width,A=e.height,R=e.clockWise,P=e.labelViewBox;if(P)return P;if(Qe(E)&&Qe(A)){if(Qe(x)&&Qe(_))return{x,y:_,width:E,height:A};if(Qe(T)&&Qe(O))return{x:T,y:O,width:E,height:A}}return Qe(x)&&Qe(_)?{x,y:_,width:0,height:0}:Qe(r)&&Qe(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:g||d||u||0,clockWise:R}:e.viewBox?e.viewBox:{}},hce=function(e,r){return e?e===!0?oe.createElement(ui,{key:"label-implicit",viewBox:r}):Jn(e)?oe.createElement(ui,{key:"label-implicit",viewBox:r,value:e}):M.isValidElement(e)?e.type===ui?M.cloneElement(e,{key:"label-implicit",viewBox:r}):oe.createElement(ui,{key:"label-implicit",content:e,viewBox:r}):Ht(e)?oe.createElement(ui,{key:"label-implicit",content:e,viewBox:r}):Wf(e)?oe.createElement(ui,pm({viewBox:r},e,{key:"label-implicit"})):null:null},pce=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=dF(e),o=na(i,ui).map(function(d,f){return M.cloneElement(d,{viewBox:r||s,key:"label-".concat(f)})});if(!n)return o;var u=hce(e.label,r||s);return[u].concat(Zle(o))};ui.parseViewBox=dF;ui.renderCallByParent=pce;var uS,lM;function mce(){if(lM)return uS;lM=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return uS=t,uS}var gce=mce();const yce=Ar(gce);function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}var vce=["valueAccessor"],xce=["data","dataKey","clockWise","id","textBreakAll"];function wce(t){return Ece(t)||Sce(t)||_ce(t)||bce()}function bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ce(t,e){if(t){if(typeof t=="string")return yA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yA(t,e)}}function Sce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ece(t){if(Array.isArray(t))return yA(t)}function yA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qy.apply(this,arguments)}function cM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(r),!0).forEach(function(n){Ace(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ace(t,e,r){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cce(t){var e=Tce(t,"string");return mm(e)=="symbol"?e:e+""}function Tce(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dM(t,e){if(t==null)return{};var r=Oce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nce=function(e){return Array.isArray(e.value)?yce(e.value):e.value};function zl(t){var e=t.valueAccessor,r=e===void 0?Nce:e,n=dM(t,vce),i=n.data,s=n.dataKey,o=n.clockWise,u=n.id,d=n.textBreakAll,f=dM(n,xce);return!i||!i.length?null:oe.createElement(Nr,{className:"recharts-label-list"},i.map(function(g,x){var _=ir(s)?r(g,x):Bi(g&&g.payload,s),T=ir(u)?{}:{id:"".concat(u,"-").concat(x)};return oe.createElement(ui,qy({},Ut(g,!0),f,T,{parentViewBox:g.parentViewBox,value:_,textBreakAll:d,viewBox:ui.parseViewBox(ir(o)?g:uM(uM({},g),{},{clockWise:o})),key:"label-".concat(x),index:x}))}))}zl.displayName="LabelList";function Ice(t,e){return t?t===!0?oe.createElement(zl,{key:"labelList-implicit",data:e}):oe.isValidElement(t)||Ht(t)?oe.createElement(zl,{key:"labelList-implicit",data:e,content:t}):Wf(t)?oe.createElement(zl,qy({data:e},t,{key:"labelList-implicit"})):null:null}function Pce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=na(n,zl).map(function(o,u){return M.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var s=Ice(t.label,e);return[s].concat(wce(i))}zl.renderCallByParent=Pce;function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vA.apply(this,arguments)}function fM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(r),!0).forEach(function(n){Rce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rce(t,e,r){return e=jce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jce(t){var e=kce(t,"string");return gm(e)=="symbol"?e:e+""}function kce(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mce=function(e,r){var n=Gi(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},C0=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,g=d*(u?1:-1)+i,x=Math.asin(d/g)/Vy,_=f?s:s+o*x,T=Hr(r,n,g,_),O=Hr(r,n,i,_),E=f?s-o*x:s,A=Hr(r,n,g*Math.cos(x*Vy),E);return{center:T,circleTangency:O,lineTangency:A,theta:x}},fF=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,u=e.endAngle,d=Mce(o,u),f=o+d,g=Hr(r,n,s,o),x=Hr(r,n,s,f),_="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(x.x,",").concat(x.y,`
  `);if(i>0){var T=Hr(r,n,i,o),O=Hr(r,n,i,f);_+="L ".concat(O.x,",").concat(O.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(T.x,",").concat(T.y," Z")}else _+="L ".concat(r,",").concat(n," Z");return _},Dce=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,g=e.endAngle,x=Gi(g-f),_=C0({cx:r,cy:n,radius:s,angle:f,sign:x,cornerRadius:o,cornerIsExternal:d}),T=_.circleTangency,O=_.lineTangency,E=_.theta,A=C0({cx:r,cy:n,radius:s,angle:g,sign:-x,cornerRadius:o,cornerIsExternal:d}),R=A.circleTangency,P=A.lineTangency,I=A.theta,D=d?Math.abs(f-g):Math.abs(f-g)-E-I;if(D<0)return u?"M ".concat(O.x,",").concat(O.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):fF({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:f,endAngle:g});var L="M ".concat(O.x,",").concat(O.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(x<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(D>180),",").concat(+(x<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(x<0),",").concat(P.x,",").concat(P.y,`
  `);if(i>0){var F=C0({cx:r,cy:n,radius:i,angle:f,sign:x,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),U=F.circleTangency,H=F.lineTangency,W=F.theta,ce=C0({cx:r,cy:n,radius:i,angle:g,sign:-x,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),K=ce.circleTangency,z=ce.lineTangency,Z=ce.theta,Q=d?Math.abs(f-g):Math.abs(f-g)-W-Z;if(Q<0&&o===0)return"".concat(L,"L").concat(r,",").concat(n,"Z");L+="L".concat(z.x,",").concat(z.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(x<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(x>0),",").concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(x<0),",").concat(H.x,",").concat(H.y,"Z")}else L+="L".concat(r,",").concat(n,"Z");return L},Lce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hF=function(e){var r=hM(hM({},Lce),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,g=r.startAngle,x=r.endAngle,_=r.className;if(o<s||g===x)return null;var T=Qt("recharts-sector",_),O=o-s,E=Ki(u,O,0,!0),A;return E>0&&Math.abs(g-x)<360?A=Dce({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(E,O/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:g,endAngle:x}):A=fF({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:g,endAngle:x}),oe.createElement("path",vA({},Ut(r,!0),{className:T,d:A,role:"img"}))};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xA.apply(this,arguments)}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){Bce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bce(t,e,r){return e=Fce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fce(t){var e=Uce(t,"string");return ym(e)=="symbol"?e:e+""}function Uce(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gM={curveBasisClosed:ate,curveBasisOpen:ote,curveBasis:ste,curveBumpX:Wee,curveBumpY:Hee,curveLinearClosed:lte,curveLinear:Q1,curveMonotoneX:cte,curveMonotoneY:ute,curveNatural:dte,curveStep:fte,curveStepAfter:pte,curveStepBefore:hte},T0=function(e){return e.x===+e.x&&e.y===+e.y},Qh=function(e){return e.x},Jh=function(e){return e.y},$ce=function(e,r){if(Ht(e))return e;var n="curve".concat(Y1(e));return(n==="curveMonotone"||n==="curveBump")&&r?gM["".concat(n).concat(r==="vertical"?"Y":"X")]:gM[n]||Q1},Vce=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,g=$ce(n,u),x=f?s.filter(function(E){return T0(E)}):s,_;if(Array.isArray(o)){var T=f?o.filter(function(E){return T0(E)}):o,O=x.map(function(E,A){return mM(mM({},E),{},{base:T[A]})});return u==="vertical"?_=v0().y(Jh).x1(Qh).x0(function(E){return E.base.x}):_=v0().x(Qh).y1(Jh).y0(function(E){return E.base.y}),_.defined(T0).curve(g),_(O)}return u==="vertical"&&Qe(o)?_=v0().y(Jh).x1(Qh).x0(o):Qe(o)?_=v0().x(Qh).y1(Jh).y0(o):_=d7().x(Qh).y(Jh),_.defined(T0).curve(g),_(x)},wA=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Vce(e):i;return M.createElement("path",xA({},Ut(e,!1),yy(e),{className:Qt("recharts-curve",r),d:o,ref:s}))},dS={exports:{}},fS,yM;function qce(){if(yM)return fS;yM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fS=t,fS}var hS,vM;function zce(){if(vM)return hS;vM=1;var t=qce();function e(){}function r(){}return r.resetWarningCache=e,hS=function(){function n(o,u,d,f,g,x){if(x!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},hS}var xM;function Wce(){return xM||(xM=1,dS.exports=zce()()),dS.exports}var Hce=Wce();const Sr=Ar(Hce);var Gce=Object.getOwnPropertyNames,Kce=Object.getOwnPropertySymbols,Xce=Object.prototype.hasOwnProperty;function wM(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function O0(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),u=s.get(n);if(o&&u)return o===n&&u===r;s.set(r,n),s.set(n,r);var d=t(r,n,i);return s.delete(r),s.delete(n),d}}function bM(t){return Gce(t).concat(Kce(t))}var Yce=Object.hasOwn||(function(t,e){return Xce.call(t,e)});function Au(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Zce="__v",Qce="__o",Jce="_owner",_M=Object.getOwnPropertyDescriptor,SM=Object.keys;function eue(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function tue(t,e){return Au(t.getTime(),e.getTime())}function rue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nue(t,e){return t===e}function EM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,u,d=0;(o=s.next())&&!o.done;){for(var f=e.entries(),g=!1,x=0;(u=f.next())&&!u.done;){if(i[x]){x++;continue}var _=o.value,T=u.value;if(r.equals(_[0],T[0],d,x,t,e,r)&&r.equals(_[1],T[1],_[0],T[0],t,e,r)){g=i[x]=!0;break}x++}if(!g)return!1;d++}return!0}var iue=Au;function sue(t,e,r){var n=SM(t),i=n.length;if(SM(e).length!==i)return!1;for(;i-- >0;)if(!pF(t,e,r,n[i]))return!1;return!0}function ep(t,e,r){var n=bM(t),i=n.length;if(bM(e).length!==i)return!1;for(var s,o,u;i-- >0;)if(s=n[i],!pF(t,e,r,s)||(o=_M(t,s),u=_M(e,s),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function aue(t,e){return Au(t.valueOf(),e.valueOf())}function oue(t,e){return t.source===e.source&&t.flags===e.flags}function AM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,u;(o=s.next())&&!o.done;){for(var d=e.values(),f=!1,g=0;(u=d.next())&&!u.done;){if(!i[g]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){f=i[g]=!0;break}g++}if(!f)return!1}return!0}function lue(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function cue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function pF(t,e,r,n){return(n===Jce||n===Qce||n===Zce)&&(t.$$typeof||e.$$typeof)?!0:Yce(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var uue="[object Arguments]",due="[object Boolean]",fue="[object Date]",hue="[object Error]",pue="[object Map]",mue="[object Number]",gue="[object Object]",yue="[object RegExp]",vue="[object Set]",xue="[object String]",wue="[object URL]",bue=Array.isArray,CM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,TM=Object.assign,_ue=Object.prototype.toString.call.bind(Object.prototype.toString);function Sue(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,g=t.areSetsEqual,x=t.areTypedArraysEqual,_=t.areUrlsEqual;return function(O,E,A){if(O===E)return!0;if(O==null||E==null)return!1;var R=typeof O;if(R!==typeof E)return!1;if(R!=="object")return R==="number"?o(O,E,A):R==="function"?i(O,E,A):!1;var P=O.constructor;if(P!==E.constructor)return!1;if(P===Object)return u(O,E,A);if(bue(O))return e(O,E,A);if(CM!=null&&CM(O))return x(O,E,A);if(P===Date)return r(O,E,A);if(P===RegExp)return f(O,E,A);if(P===Map)return s(O,E,A);if(P===Set)return g(O,E,A);var I=_ue(O);return I===fue?r(O,E,A):I===yue?f(O,E,A):I===pue?s(O,E,A):I===vue?g(O,E,A):I===gue?typeof O.then!="function"&&typeof E.then!="function"&&u(O,E,A):I===wue?_(O,E,A):I===hue?n(O,E,A):I===uue?u(O,E,A):I===due||I===mue||I===xue?d(O,E,A):!1}}function Eue(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?ep:eue,areDatesEqual:tue,areErrorsEqual:rue,areFunctionsEqual:nue,areMapsEqual:n?wM(EM,ep):EM,areNumbersEqual:iue,areObjectsEqual:n?ep:sue,arePrimitiveWrappersEqual:aue,areRegExpsEqual:oue,areSetsEqual:n?wM(AM,ep):AM,areTypedArraysEqual:n?ep:lue,areUrlsEqual:cue};if(r&&(i=TM({},i,r(i))),e){var s=O0(i.areArraysEqual),o=O0(i.areMapsEqual),u=O0(i.areObjectsEqual),d=O0(i.areSetsEqual);i=TM({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:d})}return i}function Aue(t){return function(e,r,n,i,s,o,u){return t(e,r,u)}}function Cue(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(d,f){var g=n(),x=g.cache,_=x===void 0?e?new WeakMap:void 0:x,T=g.meta;return r(d,f,{cache:_,equals:i,meta:T,strict:s})};if(e)return function(d,f){return r(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(d,f){return r(d,f,o)}}var Tue=rc();rc({strict:!0});rc({circular:!0});rc({circular:!0,strict:!0});rc({createInternalComparator:function(){return Au}});rc({strict:!0,createInternalComparator:function(){return Au}});rc({circular:!0,createInternalComparator:function(){return Au}});rc({circular:!0,createInternalComparator:function(){return Au},strict:!0});function rc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,u=Eue(t),d=Sue(u),f=n?n(d):Aue(d);return Cue({circular:r,comparator:d,createState:i,equals:f,strict:o})}function Oue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function OM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Oue(i)};requestAnimationFrame(n)}function bA(t){"@babel/helpers - typeof";return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bA(t)}function Nue(t){return jue(t)||Rue(t)||Pue(t)||Iue()}function Iue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pue(t,e){if(t){if(typeof t=="string")return NM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(t,e)}}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jue(t){if(Array.isArray(t))return t}function kue(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,u=Nue(o),d=u[0],f=u.slice(1);if(typeof d=="number"){OM(i.bind(null,f),d);return}i(d),OM(i.bind(null,f));return}bA(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){mF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mF(t,e,r){return e=Mue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mue(t){var e=Due(t,"string");return vm(e)==="symbol"?e:String(e)}function Due(t,e){if(vm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lue=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Bue=function(e){return e},Fue=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_p=function(e,r){return Object.keys(r).reduce(function(n,i){return PM(PM({},n),{},mF({},i,e(i,r[i])))},{})},RM=function(e,r,n){return e.map(function(i){return"".concat(Fue(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Uue(t,e){return que(t)||Vue(t,e)||gF(t,e)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function que(t){if(Array.isArray(t))return t}function zue(t){return Gue(t)||Hue(t)||gF(t)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gF(t,e){if(t){if(typeof t=="string")return _A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(t,e)}}function Hue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gue(t){if(Array.isArray(t))return _A(t)}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var zy=1e-4,yF=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},vF=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},jM=function(e,r){return function(n){var i=yF(e,r);return vF(i,n)}},Kue=function(e,r){return function(n){var i=yF(e,r),s=[].concat(zue(i.map(function(o,u){return o*u}).slice(1)),[0]);return vF(s,n)}},kM=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,u=1;break;case"ease":i=.25,s=.1,o=.25,u=1;break;case"ease-in":i=.42,s=0,o=1,u=1;break;case"ease-out":i=.42,s=0,o=.58,u=1;break;case"ease-in-out":i=0,s=0,o=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),g=Uue(f,4);i=g[0],s=g[1],o=g[2],u=g[3]}}}var x=jM(i,o),_=jM(s,u),T=Kue(i,o),O=function(R){return R>1?1:R<0?0:R},E=function(R){for(var P=R>1?1:R,I=P,D=0;D<8;++D){var L=x(I)-P,F=T(I);if(Math.abs(L-P)<zy||F<zy)return _(I);I=O(I-L/F)}return _(I)};return E.isStepper=!1,E},Xue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,d=function(g,x,_){var T=-(g-x)*n,O=_*s,E=_+(T-O)*u/1e3,A=_*u/1e3+g;return Math.abs(A-x)<zy&&Math.abs(E)<zy?[x,0]:[A,E]};return d.isStepper=!0,d.dt=u,d},Yue=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kM(i);case"spring":return Xue();default:if(i.split("(")[0]==="cubic-bezier")return kM(i)}return typeof i=="function"?i:null};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function MM(t){return Jue(t)||Que(t)||xF(t)||Zue()}function Zue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jue(t){if(Array.isArray(t))return EA(t)}function DM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(r),!0).forEach(function(n){SA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SA(t,e,r){return e=ede(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ede(t){var e=tde(t,"string");return xm(e)==="symbol"?e:String(e)}function tde(t,e){if(xm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rde(t,e){return sde(t)||ide(t,e)||xF(t,e)||nde()}function nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xF(t,e){if(t){if(typeof t=="string")return EA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(t,e)}}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ide(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function sde(t){if(Array.isArray(t))return t}var Wy=function(e,r,n){return e+(r-e)*n},AA=function(e){var r=e.from,n=e.to;return r!==n},ade=function t(e,r,n){var i=_p(function(s,o){if(AA(o)){var u=e(o.from,o.to,o.velocity),d=rde(u,2),f=d[0],g=d[1];return Ci(Ci({},o),{},{from:f,velocity:g})}return o},r);return n<1?_p(function(s,o){return AA(o)?Ci(Ci({},o),{},{velocity:Wy(o.velocity,i[s].velocity,n),from:Wy(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const ode=(function(t,e,r,n,i){var s=Lue(t,e),o=s.reduce(function(A,R){return Ci(Ci({},A),{},SA({},R,[t[R],e[R]]))},{}),u=s.reduce(function(A,R){return Ci(Ci({},A),{},SA({},R,{from:t[R],velocity:0,to:e[R]}))},{}),d=-1,f,g,x=function(){return null},_=function(){return _p(function(R,P){return P.from},u)},T=function(){return!Object.values(u).filter(AA).length},O=function(R){f||(f=R);var P=R-f,I=P/r.dt;u=ade(r,u,I),i(Ci(Ci(Ci({},t),e),_())),f=R,T()||(d=requestAnimationFrame(x))},E=function(R){g||(g=R);var P=(R-g)/n,I=_p(function(L,F){return Wy.apply(void 0,MM(F).concat([r(P)]))},o);if(i(Ci(Ci(Ci({},t),e),I)),P<1)d=requestAnimationFrame(x);else{var D=_p(function(L,F){return Wy.apply(void 0,MM(F).concat([r(1)]))},o);i(Ci(Ci(Ci({},t),e),D))}};return x=r.isStepper?O:E,function(){return requestAnimationFrame(x),function(){cancelAnimationFrame(d)}}});function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}var lde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cde(t,e){if(t==null)return{};var r=ude(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ude(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function pS(t){return pde(t)||hde(t)||fde(t)||dde()}function dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fde(t,e){if(t){if(typeof t=="string")return CA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(t,e)}}function hde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pde(t){if(Array.isArray(t))return CA(t)}function CA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(r),!0).forEach(function(n){up(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function up(t,e,r){return e=wF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wF(n.key),n)}}function yde(t,e,r){return e&&gde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wF(t){var e=vde(t,"string");return df(e)==="symbol"?e:String(e)}function vde(t,e){if(df(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TA(t,e)}function wde(t){var e=bde();return function(){var n=Hy(t),i;if(e){var s=Hy(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return OA(this,i)}}function OA(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NA(t)}function NA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hy(t){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(t)}var Yo=(function(t){xde(r,t);var e=wde(r);function r(n,i){var s;mde(this,r),s=e.call(this,n,i);var o=s.props,u=o.isActive,d=o.attributeName,f=o.from,g=o.to,x=o.steps,_=o.children,T=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(NA(s)),s.changeStyle=s.changeStyle.bind(NA(s)),!u||T<=0)return s.state={style:{}},typeof _=="function"&&(s.state={style:g}),OA(s);if(x&&x.length)s.state={style:x[0].style};else if(f){if(typeof _=="function")return s.state={style:f},OA(s);s.state={style:d?up({},d,f):f}}else s.state={style:{}};return s}return yde(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,u=s.canBegin,d=s.attributeName,f=s.shouldReAnimate,g=s.to,x=s.from,_=this.state.style;if(u){if(!o){var T={style:d?up({},d,g):g};this.state&&_&&(d&&_[d]!==g||!d&&_!==g)&&this.setState(T);return}if(!(Tue(i.to,g)&&i.canBegin&&i.isActive)){var O=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=O||f?x:i.to;if(this.state&&_){var A={style:d?up({},d,E):E};(d&&_[d]!==E||!d&&_!==E)&&this.setState(A)}this.runAnimation(ga(ga({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,u=i.to,d=i.duration,f=i.easing,g=i.begin,x=i.onAnimationEnd,_=i.onAnimationStart,T=ode(o,u,Yue(f),d,this.changeStyle),O=function(){s.stopJSAnimation=T()};this.manager.start([_,g,O,d,x])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,u=i.begin,d=i.onAnimationStart,f=o[0],g=f.style,x=f.duration,_=x===void 0?0:x,T=function(E,A,R){if(R===0)return E;var P=A.duration,I=A.easing,D=I===void 0?"ease":I,L=A.style,F=A.properties,U=A.onAnimationEnd,H=R>0?o[R-1]:A,W=F||Object.keys(L);if(typeof D=="function"||D==="spring")return[].concat(pS(E),[s.runJSAnimation.bind(s,{from:H.style,to:L,duration:P,easing:D}),P]);var ce=RM(W,P,D),K=ga(ga(ga({},H.style),L),{},{transition:ce});return[].concat(pS(E),[K,P,U]).filter(Bue)};return this.manager.start([d].concat(pS(o.reduce(T,[g,Math.max(_,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=kue());var s=i.begin,o=i.duration,u=i.attributeName,d=i.to,f=i.easing,g=i.onAnimationStart,x=i.onAnimationEnd,_=i.steps,T=i.children,O=this.manager;if(this.unSubscribe=O.subscribe(this.handleStyleChange),typeof f=="function"||typeof T=="function"||f==="spring"){this.runJSAnimation(i);return}if(_.length>1){this.runStepAnimation(i);return}var E=u?up({},u,d):d,A=RM(Object.keys(E),o,f);O.start([g,s,ga(ga({},E),{},{transition:A}),o,x])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=cde(i,lde),f=M.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!u||f===0||o<=0)return s;var x=function(T){var O=T.props,E=O.style,A=E===void 0?{}:E,R=O.className,P=M.cloneElement(T,ga(ga({},d),{},{style:ga(ga({},A),g),className:R}));return P};return f===1?x(M.Children.only(s)):oe.createElement("div",null,M.Children.map(s,function(_){return x(_)}))}}]),r})(M.PureComponent);Yo.displayName="Animate";Yo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yo.propTypes={from:Sr.oneOfType([Sr.object,Sr.string]),to:Sr.oneOfType([Sr.object,Sr.string]),attributeName:Sr.string,duration:Sr.number,begin:Sr.number,easing:Sr.oneOfType([Sr.string,Sr.func]),steps:Sr.arrayOf(Sr.shape({duration:Sr.number.isRequired,style:Sr.object.isRequired,easing:Sr.oneOfType([Sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Sr.func]),properties:Sr.arrayOf("string"),onAnimationEnd:Sr.func})),children:Sr.oneOfType([Sr.node,Sr.func]),isActive:Sr.bool,canBegin:Sr.bool,onAnimationEnd:Sr.func,shouldReAnimate:Sr.bool,onAnimationStart:Sr.func,onAnimationReStart:Sr.func};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gy.apply(this,arguments)}function _de(t,e){return Cde(t)||Ade(t,e)||Ede(t,e)||Sde()}function Sde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ede(t,e){if(t){if(typeof t=="string")return BM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ade(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Cde(t){if(Array.isArray(t))return t}function FM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(r),!0).forEach(function(n){Tde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tde(t,e,r){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ode(t){var e=Nde(t,"string");return wm(e)=="symbol"?e:e+""}function Nde(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $M=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,g;if(o>0&&s instanceof Array){for(var x=[0,0,0,0],_=0,T=4;_<T;_++)x[_]=s[_]>o?o:s[_];g="M".concat(e,",").concat(r+u*x[0]),x[0]>0&&(g+="A ".concat(x[0],",").concat(x[0],",0,0,").concat(f,",").concat(e+d*x[0],",").concat(r)),g+="L ".concat(e+n-d*x[1],",").concat(r),x[1]>0&&(g+="A ".concat(x[1],",").concat(x[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*x[1])),g+="L ".concat(e+n,",").concat(r+i-u*x[2]),x[2]>0&&(g+="A ".concat(x[2],",").concat(x[2],",0,0,").concat(f,`,
        `).concat(e+n-d*x[2],",").concat(r+i)),g+="L ".concat(e+d*x[3],",").concat(r+i),x[3]>0&&(g+="A ".concat(x[3],",").concat(x[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*x[3])),g+="Z"}else if(o>0&&s===+s&&s>0){var O=Math.min(o,s);g="M ".concat(e,",").concat(r+u*O,`
            A `).concat(O,",").concat(O,",0,0,").concat(f,",").concat(e+d*O,",").concat(r,`
            L `).concat(e+n-d*O,",").concat(r,`
            A `).concat(O,",").concat(O,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*O,`
            L `).concat(e+n,",").concat(r+i-u*O,`
            A `).concat(O,",").concat(O,",0,0,").concat(f,",").concat(e+n-d*O,",").concat(r+i,`
            L `).concat(e+d*O,",").concat(r+i,`
            A `).concat(O,",").concat(O,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*O," Z")}else g="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},Ide=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(s,s+u),g=Math.max(s,s+u),x=Math.min(o,o+d),_=Math.max(o,o+d);return n>=f&&n<=g&&i>=x&&i<=_}return!1},Pde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sO=function(e){var r=UM(UM({},Pde),e),n=M.useRef(),i=M.useState(-1),s=_de(i,2),o=s[0],u=s[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&u(D)}catch{}},[]);var d=r.x,f=r.y,g=r.width,x=r.height,_=r.radius,T=r.className,O=r.animationEasing,E=r.animationDuration,A=r.animationBegin,R=r.isAnimationActive,P=r.isUpdateAnimationActive;if(d!==+d||f!==+f||g!==+g||x!==+x||g===0||x===0)return null;var I=Qt("recharts-rectangle",T);return P?oe.createElement(Yo,{canBegin:o>0,from:{width:g,height:x,x:d,y:f},to:{width:g,height:x,x:d,y:f},duration:E,animationEasing:O,isActive:P},function(D){var L=D.width,F=D.height,U=D.x,H=D.y;return oe.createElement(Yo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:E,isActive:R,easing:O},oe.createElement("path",Gy({},Ut(r,!0),{className:I,d:$M(U,H,L,F,_),ref:n})))}):oe.createElement("path",Gy({},Ut(r,!0),{className:I,d:$M(d,f,g,x,_)}))},Rde=["points","className","baseLinePoints","connectNulls"];function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cd.apply(this,arguments)}function jde(t,e){if(t==null)return{};var r=kde(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VM(t){return Bde(t)||Lde(t)||Dde(t)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(t,e){if(t){if(typeof t=="string")return IA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(t,e)}}function Lde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bde(t){if(Array.isArray(t))return IA(t)}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qM=function(e){return e&&e.x===+e.x&&e.y===+e.y},Fde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){qM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),qM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Sp=function(e,r){var n=Fde(e);r&&(n=[n.reduce(function(s,o){return[].concat(VM(s),VM(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,u,d){return"".concat(o).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Ude=function(e,r,n){var i=Sp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sp(r.reverse(),n).slice(1))},$de=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=jde(e,Rde);if(!r||!r.length)return null;var u=Qt("recharts-polygon",n);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",f=Ude(r,i,s);return oe.createElement("g",{className:u},oe.createElement("path",Cd({},Ut(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),d?oe.createElement("path",Cd({},Ut(o,!0),{fill:"none",d:Sp(r,s)})):null,d?oe.createElement("path",Cd({},Ut(o,!0),{fill:"none",d:Sp(i,s)})):null)}var g=Sp(r,s);return oe.createElement("path",Cd({},Ut(o,!0),{fill:g.slice(-1)==="Z"?o.fill:"none",className:u,d:g}))};function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PA.apply(this,arguments)}var aO=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=Qt("recharts-dot",s);return r===+r&&n===+n&&i===+i?M.createElement("circle",PA({},Ut(e,!1),yy(e),{className:o,cx:r,cy:n,r:i})):null};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}var Vde=["x","y","top","left","width","height","className"];function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RA.apply(this,arguments)}function zM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(r),!0).forEach(function(n){zde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zde(t,e,r){return e=Wde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wde(t){var e=Hde(t,"string");return bm(e)=="symbol"?e:e+""}function Hde(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gde(t,e){if(t==null)return{};var r=Kde(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Xde=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Yde=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,g=e.width,x=g===void 0?0:g,_=e.height,T=_===void 0?0:_,O=e.className,E=Gde(e,Vde),A=qde({x:n,y:s,top:u,left:f,width:x,height:T},E);return!Qe(n)||!Qe(s)||!Qe(x)||!Qe(T)||!Qe(u)||!Qe(f)?null:oe.createElement("path",RA({},Ut(A,!0),{className:Qt("recharts-cross",O),d:Xde(n,s,x,T,u,f)}))},mS,WM;function Zde(){if(WM)return mS;WM=1;var t=uv(),e=DB(),r=po();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return mS=n,mS}var Qde=Zde();const Jde=Ar(Qde);var gS,HM;function efe(){if(HM)return gS;HM=1;var t=uv(),e=po(),r=LB();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return gS=n,gS}var tfe=efe();const rfe=Ar(tfe);var nfe=["cx","cy","angle","ticks","axisLine"],ife=["ticks","tick","angle","tickFormatter","stroke"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ep.apply(this,arguments)}function GM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(r),!0).forEach(function(n){yv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KM(t,e){if(t==null)return{};var r=sfe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_F(n.key),n)}}function ofe(t,e,r){return e&&XM(t.prototype,e),r&&XM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lfe(t,e,r){return e=Ky(e),cfe(t,bF()?Reflect.construct(e,r||[],Ky(t).constructor):e.apply(t,r))}function cfe(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ufe(t)}function ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!t})()}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(t)}function dfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jA(t,e)}function yv(t,e,r){return e=_F(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _F(t){var e=ffe(t,"string");return ff(e)=="symbol"?e:e+""}function ffe(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vv=(function(t){function e(){return afe(this,e),lfe(this,e,arguments)}return dfe(e,t),ofe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,u=s.cx,d=s.cy;return Hr(u,d,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,u=n.ticks,d=Jde(u,function(g){return g.coordinate||0}),f=rfe(u,function(g){return g.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,u=n.ticks,d=n.axisLine,f=KM(n,nfe),g=u.reduce(function(O,E){return[Math.min(O[0],E.coordinate),Math.max(O[1],E.coordinate)]},[1/0,-1/0]),x=Hr(i,s,g[0],o),_=Hr(i,s,g[1],o),T=Lc(Lc(Lc({},Ut(f,!1)),{},{fill:"none"},Ut(d,!1)),{},{x1:x.x,y1:x.y,x2:_.x,y2:_.y});return oe.createElement("line",Ep({className:"recharts-polar-radius-axis-line"},T))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,g=KM(i,ife),x=this.getTickTextAnchor(),_=Ut(g,!1),T=Ut(o,!1),O=s.map(function(E,A){var R=n.getTickValueCoord(E),P=Lc(Lc(Lc(Lc({textAnchor:x,transform:"rotate(".concat(90-u,", ").concat(R.x,", ").concat(R.y,")")},_),{},{stroke:"none",fill:f},T),{},{index:A},R),{},{payload:E});return oe.createElement(Nr,Ep({className:Qt("recharts-polar-radius-axis-tick",uF(o)),key:"tick-".concat(E.coordinate)},uu(n.props,E,A)),e.renderTickItem(o,P,d?d(E.value,A):E.value))});return oe.createElement(Nr,{className:"recharts-polar-radius-axis-ticks"},O)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:oe.createElement(Nr,{className:Qt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),ui.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return oe.isValidElement(n)?o=oe.cloneElement(n,i):Ht(n)?o=n(i):o=oe.createElement(du,Ep({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(M.PureComponent);yv(vv,"displayName","PolarRadiusAxis");yv(vv,"axisType","radiusAxis");yv(vv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wc.apply(this,arguments)}function YM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(r),!0).forEach(function(n){xv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EF(n.key),n)}}function pfe(t,e,r){return e&&ZM(t.prototype,e),r&&ZM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mfe(t,e,r){return e=Xy(e),gfe(t,SF()?Reflect.construct(e,r||[],Xy(t).constructor):e.apply(t,r))}function gfe(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yfe(t)}function yfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!t})()}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}function vfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kA(t,e)}function xv(t,e,r){return e=EF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EF(t){var e=xfe(t,"string");return hf(e)=="symbol"?e:e+""}function xfe(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wfe=Math.PI/180,QM=1e-5,wv=(function(t){function e(){return hfe(this,e),mfe(this,e,arguments)}return vfe(e,t),pfe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,g=f||8,x=Hr(s,o,u,n.coordinate),_=Hr(s,o,u+(d==="inner"?-1:1)*g,n.coordinate);return{x1:x.x,y1:x.y,x2:_.x,y2:_.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*wfe),o;return s>QM?o=i==="outer"?"start":"end":s<-QM?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,u=n.axisLine,d=n.axisLineType,f=Bc(Bc({},Ut(this.props,!1)),{},{fill:"none"},Ut(u,!1));if(d==="circle")return oe.createElement(aO,Wc({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:s,r:o}));var g=this.props.ticks,x=g.map(function(_){return Hr(i,s,o,_.coordinate)});return oe.createElement($de,Wc({className:"recharts-polar-angle-axis-line"},f,{points:x}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,g=Ut(this.props,!1),x=Ut(o,!1),_=Bc(Bc({},g),{},{fill:"none"},Ut(u,!1)),T=s.map(function(O,E){var A=n.getTickLineCoord(O),R=n.getTickTextAnchor(O),P=Bc(Bc(Bc({textAnchor:R},g),{},{stroke:"none",fill:f},x),{},{index:E,payload:O,x:A.x2,y:A.y2});return oe.createElement(Nr,Wc({className:Qt("recharts-polar-angle-axis-tick",uF(o)),key:"tick-".concat(O.coordinate)},uu(n.props,O,E)),u&&oe.createElement("line",Wc({className:"recharts-polar-angle-axis-tick-line"},_,A)),o&&e.renderTickItem(o,P,d?d(O.value,E):O.value))});return oe.createElement(Nr,{className:"recharts-polar-angle-axis-ticks"},T)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:oe.createElement(Nr,{className:Qt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return oe.isValidElement(n)?o=oe.cloneElement(n,i):Ht(n)?o=n(i):o=oe.createElement(du,Wc({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(M.PureComponent);xv(wv,"displayName","PolarAngleAxis");xv(wv,"axisType","angleAxis");xv(wv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var yS,JM;function bfe(){if(JM)return yS;JM=1;var t=k7(),e=t(Object.getPrototypeOf,Object);return yS=e,yS}var vS,e8;function _fe(){if(e8)return vS;e8=1;var t=el(),e=bfe(),r=tl(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,u=s.hasOwnProperty,d=o.call(Object);function f(g){if(!r(g)||t(g)!=n)return!1;var x=e(g);if(x===null)return!0;var _=u.call(x,"constructor")&&x.constructor;return typeof _=="function"&&_ instanceof _&&o.call(_)==d}return vS=f,vS}var Sfe=_fe();const Efe=Ar(Sfe);var xS,t8;function Afe(){if(t8)return xS;t8=1;var t=el(),e=tl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return xS=n,xS}var Cfe=Afe();const Tfe=Ar(Cfe);function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yy.apply(this,arguments)}function Ofe(t,e){return Rfe(t)||Pfe(t,e)||Ife(t,e)||Nfe()}function Nfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ife(t,e){if(t){if(typeof t=="string")return r8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r8(t,e)}}function r8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Rfe(t){if(Array.isArray(t))return t}function n8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(r),!0).forEach(function(n){jfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jfe(t,e,r){return e=kfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kfe(t){var e=Mfe(t,"string");return _m(e)=="symbol"?e:e+""}function Mfe(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s8=function(e,r,n,i,s){var o=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+s),u+="L ".concat(e+n-o/2-i,",").concat(r+s),u+="L ".concat(e,",").concat(r," Z"),u},Dfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lfe=function(e){var r=i8(i8({},Dfe),e),n=M.useRef(),i=M.useState(-1),s=Ofe(i,2),o=s[0],u=s[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&u(I)}catch{}},[]);var d=r.x,f=r.y,g=r.upperWidth,x=r.lowerWidth,_=r.height,T=r.className,O=r.animationEasing,E=r.animationDuration,A=r.animationBegin,R=r.isUpdateAnimationActive;if(d!==+d||f!==+f||g!==+g||x!==+x||_!==+_||g===0&&x===0||_===0)return null;var P=Qt("recharts-trapezoid",T);return R?oe.createElement(Yo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:_,x:d,y:f},to:{upperWidth:g,lowerWidth:x,height:_,x:d,y:f},duration:E,animationEasing:O,isActive:R},function(I){var D=I.upperWidth,L=I.lowerWidth,F=I.height,U=I.x,H=I.y;return oe.createElement(Yo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:E,easing:O},oe.createElement("path",Yy({},Ut(r,!0),{className:P,d:s8(U,H,D,L,F),ref:n})))}):oe.createElement("g",null,oe.createElement("path",Yy({},Ut(r,!0),{className:P,d:s8(d,f,g,x,_)})))},Bfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function Ffe(t,e){if(t==null)return{};var r=Ufe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ufe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(r),!0).forEach(function(n){$fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $fe(t,e,r){return e=Vfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vfe(t){var e=qfe(t,"string");return Sm(e)=="symbol"?e:e+""}function qfe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zfe(t,e){return Zy(Zy({},e),t)}function Wfe(t,e){return t==="symbols"}function o8(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return oe.createElement(sO,r);case"trapezoid":return oe.createElement(Lfe,r);case"sector":return oe.createElement(hF,r);case"symbols":if(Wfe(e))return oe.createElement(ET,r);break;default:return null}}function Hfe(t){return M.isValidElement(t)?t.props:t}function AF(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?zfe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,u=t.isActive,d=Ffe(t,Bfe),f;if(M.isValidElement(e))f=M.cloneElement(e,Zy(Zy({},d),Hfe(e)));else if(Ht(e))f=e(d);else if(Efe(e)&&!Tfe(e)){var g=i(e,d);f=oe.createElement(o8,{shapeType:r,elementProps:g})}else{var x=d;f=oe.createElement(o8,{shapeType:r,elementProps:x})}return u?oe.createElement(Nr,{className:o},f):f}function bv(t,e){return e!=null&&"trapezoids"in t.props}function _v(t,e){return e!=null&&"sectors"in t.props}function Em(t,e){return e!=null&&"points"in t.props}function Gfe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function Kfe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Xfe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Yfe(t,e){var r;return bv(t,e)?r=Gfe:_v(t,e)?r=Kfe:Em(t,e)&&(r=Xfe),r}function Zfe(t,e){var r;return bv(t,e)?r="trapezoids":_v(t,e)?r="sectors":Em(t,e)&&(r="points"),r}function Qfe(t,e){if(bv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_v(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Em(t,e)?e.payload:{}}function Jfe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Zfe(r,e),s=Qfe(r,e),o=n.filter(function(d,f){var g=hv(s,d),x=r.props[i].filter(function(O){var E=Yfe(r,e);return E(O,e)}),_=r.props[i].indexOf(x[x.length-1]),T=f===_;return g&&T}),u=n.indexOf(o[o.length-1]);return u}var $0;function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}function l8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TF(n.key),n)}}function the(t,e,r){return e&&c8(t.prototype,e),r&&c8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rhe(t,e,r){return e=Qy(e),nhe(t,CF()?Reflect.construct(e,r||[],Qy(t).constructor):e.apply(t,r))}function nhe(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ihe(t)}function ihe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!t})()}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(t)}function she(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MA(t,e)}function ea(t,e,r){return e=TF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TF(t){var e=ahe(t,"string");return pf(e)=="symbol"?e:e+""}function ahe(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nl=(function(t){function e(r){var n;return ehe(this,e),n=rhe(this,e,[r]),ea(n,"pieRef",null),ea(n,"sectorRefs",[]),ea(n,"id",Wm("recharts-pie-")),ea(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ht(i)&&i()}),ea(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ht(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return she(e,t),the(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,u=s.labelLine,d=s.dataKey,f=s.valueKey,g=Ut(this.props,!1),x=Ut(o,!1),_=Ut(u,!1),T=o&&o.offsetRadius||20,O=n.map(function(E,A){var R=(E.startAngle+E.endAngle)/2,P=Hr(E.cx,E.cy,E.outerRadius+T,R),I=zr(zr(zr(zr({},g),E),{},{stroke:"none"},x),{},{index:A,textAnchor:e.getTextAnchor(P.x,E.cx)},P),D=zr(zr(zr(zr({},g),E),{},{fill:"none",stroke:E.fill},_),{},{index:A,points:[Hr(E.cx,E.cy,E.outerRadius,R),P]}),L=d;return ir(d)&&ir(f)?L="value":ir(d)&&(L=f),oe.createElement(Nr,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(A)},u&&e.renderLabelLineItem(u,D,"line"),e.renderLabelItem(o,I,Bi(E,L)))});return oe.createElement(Nr,{className:"recharts-pie-labels"},O)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,u=s.blendStroke,d=s.inactiveShape;return n.map(function(f,g){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var x=i.isActiveIndex(g),_=d&&i.hasActiveIndex()?d:null,T=x?o:_,O=zr(zr({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return oe.createElement(Nr,Td({ref:function(A){A&&!i.sectorRefs.includes(A)&&i.sectorRefs.push(A)},tabIndex:-1,className:"recharts-pie-sector"},uu(i.props,f,g),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(g)}),oe.createElement(AF,Td({option:T,isActive:x,shapeType:"sector"},O)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,g=i.animationId,x=this.state,_=x.prevSectors,T=x.prevIsAnimationActive;return oe.createElement(Yo,{begin:u,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(T),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(O){var E=O.t,A=[],R=s&&s[0],P=R.startAngle;return s.forEach(function(I,D){var L=_&&_[D],F=D>0?Ms(I,"paddingAngle",0):0;if(L){var U=Ll(L.endAngle-L.startAngle,I.endAngle-I.startAngle),H=zr(zr({},I),{},{startAngle:P+F,endAngle:P+U(E)+F});A.push(H),P=H.endAngle}else{var W=I.endAngle,ce=I.startAngle,K=Ll(0,W-ce),z=K(E),Z=zr(zr({},I),{},{startAngle:P+F,endAngle:P+z+F});A.push(Z),P=Z.endAngle}}),oe.createElement(Nr,null,n.renderSectorsStatically(A))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!hv(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,u=i.className,d=i.label,f=i.cx,g=i.cy,x=i.innerRadius,_=i.outerRadius,T=i.isAnimationActive,O=this.state.isAnimationFinished;if(s||!o||!o.length||!Qe(f)||!Qe(g)||!Qe(x)||!Qe(_))return null;var E=Qt("recharts-pie",u);return oe.createElement(Nr,{tabIndex:this.props.rootTabIndex,className:E,ref:function(R){n.pieRef=R}},this.renderSectors(),d&&this.renderLabels(o),ui.renderCallByParent(this.props,null,!1),(!T||O)&&zl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(oe.isValidElement(n))return oe.cloneElement(n,i);if(Ht(n))return n(i);var o=Qt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return oe.createElement(wA,Td({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(oe.isValidElement(n))return oe.cloneElement(n,i);var o=s;if(Ht(n)&&(o=n(i),oe.isValidElement(o)))return o;var u=Qt("recharts-pie-label-text",typeof n!="boolean"&&!Ht(n)?n.className:"");return oe.createElement(du,Td({},i,{alignmentBaseline:"middle",className:u}),o)}}])})(M.PureComponent);$0=nl;ea(nl,"displayName","Pie");ea(nl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Gf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ea(nl,"parseDeltaAngle",function(t,e){var r=Gi(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ea(nl,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ut(t,!1),i=na(r,nv);return e&&e.length?e.map(function(s,o){return zr(zr(zr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return zr(zr({},n),s.props)}):[]});ea(nl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=cF(i,s),u=n+Ki(t.cx,i,i/2),d=r+Ki(t.cy,s,s/2),f=Ki(t.innerRadius,o,0),g=Ki(t.outerRadius,o,o*.8),x=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:g,maxRadius:x}});ea(nl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?zr(zr({},e.type.defaultProps),e.props):e.props,i=$0.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,g=n.nameKey,x=n.valueKey,_=n.tooltipType,T=Math.abs(n.minAngle),O=$0.parseCoordinateOfPie(n,r),E=$0.parseDeltaAngle(o,u),A=Math.abs(E),R=f;ir(f)&&ir(x)?($o(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R="value"):ir(f)&&($o(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R=x);var P=i.filter(function(H){return Bi(H,R,0)!==0}).length,I=(A>=360?P:P-1)*d,D=A-P*T-I,L=i.reduce(function(H,W){var ce=Bi(W,R,0);return H+(Qe(ce)?ce:0)},0),F;if(L>0){var U;F=i.map(function(H,W){var ce=Bi(H,R,0),K=Bi(H,g,W),z=(Qe(ce)?ce:0)/L,Z;W?Z=U.endAngle+Gi(E)*d*(ce!==0?1:0):Z=o;var Q=Z+Gi(E)*((ce!==0?T:0)+z*D),Y=(Z+Q)/2,J=(O.innerRadius+O.outerRadius)/2,re=[{name:K,value:ce,payload:H,dataKey:R,type:_}],ie=Hr(O.cx,O.cy,J,Y);return U=zr(zr(zr({percent:z,cornerRadius:s,name:K,tooltipPayload:re,midAngle:Y,middleRadius:J,tooltipPosition:ie},H),O),{},{value:Bi(H,R),startAngle:Z,endAngle:Q,payload:H,paddingAngle:Gi(E)*d}),U})}return zr(zr({},O),{},{sectors:F,data:i})});var wS,u8;function ohe(){if(u8)return wS;u8=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var u=-1,d=e(t((i-n)/(s||1)),0),f=Array(d);d--;)f[o?d:++u]=n,n+=s;return f}return wS=r,wS}var bS,d8;function OF(){if(d8)return bS;d8=1;var t=Y7(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return bS=n,bS}var _S,f8;function lhe(){if(f8)return _S;f8=1;var t=ohe(),e=rv(),r=OF();function n(i){return function(s,o,u){return u&&typeof u!="number"&&e(s,o,u)&&(o=u=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),u=u===void 0?s<o?1:-1:r(u),t(s,o,u,i)}}return _S=n,_S}var SS,h8;function che(){if(h8)return SS;h8=1;var t=lhe(),e=t();return SS=e,SS}var uhe=che();const Jy=Ar(uhe);function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function p8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(r),!0).forEach(function(n){NF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NF(t,e,r){return e=dhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dhe(t){var e=fhe(t,"string");return Am(e)=="symbol"?e:e+""}function fhe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hhe=["Webkit","Moz","O","ms"],phe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=hhe.reduce(function(s,o){return m8(m8({},s),{},NF({},o+n,r))},{});return i[e]=r,i};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e1.apply(this,arguments)}function g8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ES(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(r),!0).forEach(function(n){Es(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PF(n.key),n)}}function ghe(t,e,r){return e&&y8(t.prototype,e),r&&y8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yhe(t,e,r){return e=t1(e),vhe(t,IF()?Reflect.construct(e,r||[],t1(t).constructor):e.apply(t,r))}function vhe(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xhe(t)}function xhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!t})()}function t1(t){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t1(t)}function whe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DA(t,e)}function Es(t,e,r){return e=PF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PF(t){var e=bhe(t,"string");return mf(e)=="symbol"?e:e+""}function bhe(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _he=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=wp().domain(Jy(0,d)).range([s,s+o-u]),g=f.domain().map(function(x){return f(x)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:g}},v8=function(e){return e.changedTouches&&!!e.changedTouches.length},gf=(function(t){function e(r){var n;return mhe(this,e),n=yhe(this,e,[r]),Es(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Es(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Es(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,u=i.startIndex;o?.({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),Es(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Es(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Es(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Es(n,"handleSlideDragStart",function(i){var s=v8(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return whe(e,t),ghe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,g=f.length-1,x=Math.min(i,s),_=Math.max(i,s),T=e.getIndexInRange(o,x),O=e.getIndexInRange(o,_);return{startIndex:T-T%d,endIndex:O===g?g:O-O%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,u=i.dataKey,d=Bi(s[n],u,n);return Ht(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,u=i.endX,d=this.props,f=d.x,g=d.width,x=d.travellerWidth,_=d.startIndex,T=d.endIndex,O=d.onChange,E=n.pageX-s;E>0?E=Math.min(E,f+g-x-u,f+g-x-o):E<0&&(E=Math.max(E,f-o,f-u));var A=this.getIndex({startX:o+E,endX:u+E});(A.startIndex!==_||A.endIndex!==T)&&O&&O(A),this.setState({startX:o+E,endX:u+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=v8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[o],g=this.props,x=g.x,_=g.width,T=g.travellerWidth,O=g.onChange,E=g.gap,A=g.data,R={startX:this.state.startX,endX:this.state.endX},P=n.pageX-s;P>0?P=Math.min(P,x+_-T-f):P<0&&(P=Math.max(P,x-f)),R[o]=f+P;var I=this.getIndex(R),D=I.startIndex,L=I.endIndex,F=function(){var H=A.length-1;return o==="startX"&&(u>d?D%E===0:L%E===0)||u<d&&L===H||o==="endX"&&(u>d?L%E===0:D%E===0)||u>d&&L===H};this.setState(Es(Es({},o,f+P),"brushMoveStartX",n.pageX),function(){O&&F()&&O(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,g=this.state[i],x=u.indexOf(g);if(x!==-1){var _=x+n;if(!(_===-1||_>=u.length)){var T=u[_];i==="startX"&&T>=f||i==="endX"&&T<=d||this.setState(Es({},i,T),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,d=n.fill,f=n.stroke;return oe.createElement("rect",{stroke:f,fill:d,x:i,y:s,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,d=n.data,f=n.children,g=n.padding,x=M.Children.only(f);return x?oe.cloneElement(x,{x:i,y:s,width:o,height:u,margin:g,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,u=this,d=this.props,f=d.y,g=d.travellerWidth,x=d.height,_=d.traveller,T=d.ariaLabel,O=d.data,E=d.startIndex,A=d.endIndex,R=Math.max(n,this.props.x),P=ES(ES({},Ut(this.props,!1)),{},{x:R,y:f,width:g,height:x}),I=T||"Min value: ".concat((s=O[E])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=O[A])===null||o===void 0?void 0:o.name);return oe.createElement(Nr,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(L){["ArrowLeft","ArrowRight"].includes(L.key)&&(L.preventDefault(),L.stopPropagation(),u.handleTravellerMoveKeyboard(L.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(_,P))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,u=s.height,d=s.stroke,f=s.travellerWidth,g=Math.min(n,i)+f,x=Math.max(Math.abs(i-n)-f,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:g,y:o,width:x,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,g=this.state,x=g.startX,_=g.endX,T=5,O={pointerEvents:"none",fill:f};return oe.createElement(Nr,{className:"recharts-brush-texts"},oe.createElement(du,e1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,_)-T,y:o+u/2},O),this.getTextOfTick(i)),oe.createElement(du,e1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,_)+d+T,y:o+u/2},O),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,u=n.x,d=n.y,f=n.width,g=n.height,x=n.alwaysShowText,_=this.state,T=_.startX,O=_.endX,E=_.isTextActive,A=_.isSlideMoving,R=_.isTravellerMoving,P=_.isTravellerFocused;if(!i||!i.length||!Qe(u)||!Qe(d)||!Qe(f)||!Qe(g)||f<=0||g<=0)return null;var I=Qt("recharts-brush",s),D=oe.Children.count(o)===1,L=phe("userSelect","none");return oe.createElement(Nr,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:L},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(T,O),this.renderTravellerLayer(T,"startX"),this.renderTravellerLayer(O,"endX"),(E||A||R||P||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,u=n.height,d=n.stroke,f=Math.floor(s+u/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:i,y:s,width:o,height:u,fill:d,stroke:"none"}),oe.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,i):Ht(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,g=n.startIndex,x=n.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return ES({prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},s&&s.length?_he({data:s,width:o,x:u,travellerWidth:d,startIndex:g,endIndex:x}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+o-d]);var _=i.scale.domain().map(function(T){return i.scale(T)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:_}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,u=s-1;u-o>1;){var d=Math.floor((o+u)/2);n[d]>i?u=d:o=d}return i>=n[u]?u:o}}])})(M.PureComponent);Es(gf,"displayName","Brush");Es(gf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AS,x8;function She(){if(x8)return AS;x8=1;var t=PT();function e(r,n){var i;return t(r,function(s,o,u){return i=n(s,o,u),!i}),!!i}return AS=e,AS}var CS,w8;function Ehe(){if(w8)return CS;w8=1;var t=T7(),e=po(),r=She(),n=ds(),i=rv();function s(o,u,d){var f=n(o)?t:r;return d&&i(o,u,d)&&(u=void 0),f(o,e(u,3))}return CS=s,CS}var Ahe=Ehe();const Che=Ar(Ahe);var ro=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},TS,b8;function The(){if(b8)return TS;b8=1;var t=W7();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return TS=e,TS}var OS,_8;function Ohe(){if(_8)return OS;_8=1;var t=The(),e=q7(),r=po();function n(i,s){var o={};return s=r(s,3),e(i,function(u,d,f){t(o,d,s(u,d,f))}),o}return OS=n,OS}var Nhe=Ohe();const Ihe=Ar(Nhe);var NS,S8;function Phe(){if(S8)return NS;S8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return NS=t,NS}var IS,E8;function Rhe(){if(E8)return IS;E8=1;var t=PT();function e(r,n){var i=!0;return t(r,function(s,o,u){return i=!!n(s,o,u),i}),i}return IS=e,IS}var PS,A8;function jhe(){if(A8)return PS;A8=1;var t=Phe(),e=Rhe(),r=po(),n=ds(),i=rv();function s(o,u,d){var f=n(o)?t:e;return d&&i(o,u,d)&&(u=void 0),f(o,r(u,3))}return PS=s,PS}var khe=jhe();const Mhe=Ar(khe);var Dhe=["x","y"];function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LA.apply(this,arguments)}function C8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(r),!0).forEach(function(n){Lhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lhe(t,e,r){return e=Bhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bhe(t){var e=Fhe(t,"string");return Cm(e)=="symbol"?e:e+""}function Fhe(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uhe(t,e){if(t==null)return{};var r=$he(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $he(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vhe(t,e){var r=t.x,n=t.y,i=Uhe(t,Dhe),s="".concat(r),o=parseInt(s,10),u="".concat(n),d=parseInt(u,10),f="".concat(e.height||i.height),g=parseInt(f,10),x="".concat(e.width||i.width),_=parseInt(x,10);return tp(tp(tp(tp(tp({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:g,width:_,name:e.name,radius:e.radius})}function T8(t){return oe.createElement(AF,LA({shapeType:"rectangle",propTransformer:Vhe,activeClassName:"recharts-active-bar"},t))}var qhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=Qe(n)||hee(n);return s?e(n,i):(s||hu(),r)}},zhe=["value","background"],RF;function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Whe(t,e){if(t==null)return{};var r=Hhe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r1.apply(this,arguments)}function O8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(r),!0).forEach(function(n){Vl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ghe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kF(n.key),n)}}function Khe(t,e,r){return e&&N8(t.prototype,e),r&&N8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xhe(t,e,r){return e=n1(e),Yhe(t,jF()?Reflect.construct(e,r||[],n1(t).constructor):e.apply(t,r))}function Yhe(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zhe(t)}function Zhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(t)}function Qhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BA(t,e)}function Vl(t,e,r){return e=kF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kF(t){var e=Jhe(t,"string");return yf(e)=="symbol"?e:e+""}function Jhe(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cu=(function(t){function e(){var r;Ghe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Xhe(this,e,[].concat(i)),Vl(r,"state",{isAnimationFinished:!1}),Vl(r,"id",Wm("recharts-bar-")),Vl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Vl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Qhe(e,t),Khe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,u=s.dataKey,d=s.activeIndex,f=s.activeBar,g=Ut(this.props,!1);return n&&n.map(function(x,_){var T=_===d,O=T?f:o,E=Dn(Dn(Dn({},g),x),{},{isActive:T,option:O,index:_,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return oe.createElement(Nr,r1({className:"recharts-bar-rectangle"},uu(i.props,x,_),{key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(_)}),oe.createElement(T8,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,g=i.animationEasing,x=i.animationId,_=this.state.prevData;return oe.createElement(Yo,{begin:d,duration:f,isActive:u,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var O=T.t,E=s.map(function(A,R){var P=_&&_[R];if(P){var I=Ll(P.x,A.x),D=Ll(P.y,A.y),L=Ll(P.width,A.width),F=Ll(P.height,A.height);return Dn(Dn({},A),{},{x:I(O),y:D(O),width:L(O),height:F(O)})}if(o==="horizontal"){var U=Ll(0,A.height),H=U(O);return Dn(Dn({},A),{},{y:A.y+A.height-H,height:H})}var W=Ll(0,A.width),ce=W(O);return Dn(Dn({},A),{},{width:ce})});return oe.createElement(Nr,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!hv(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,u=i.activeIndex,d=Ut(this.props.background,!1);return s.map(function(f,g){f.value;var x=f.background,_=Whe(f,zhe);if(!x)return null;var T=Dn(Dn(Dn(Dn(Dn({},_),{},{fill:"#eee"},x),d),uu(n.props,f,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:g,className:"recharts-bar-background-rectangle"});return oe.createElement(T8,r1({key:"background-bar-".concat(g),option:n.props.background,isActive:g===u},T))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,u=s.xAxis,d=s.yAxis,f=s.layout,g=s.children,x=na(g,gv);if(!x)return null;var _=f==="vertical"?o[0].height/2:o[0].width/2,T=function(A,R){var P=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:P,errorVal:Bi(A,R)}},O={clipPath:n?"url(#clipPath-".concat(i,")"):null};return oe.createElement(Nr,O,x.map(function(E){return oe.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:_,dataPointFormatter:T})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,u=n.xAxis,d=n.yAxis,f=n.left,g=n.top,x=n.width,_=n.height,T=n.isAnimationActive,O=n.background,E=n.id;if(i||!s||!s.length)return null;var A=this.state.isAnimationFinished,R=Qt("recharts-bar",o),P=u&&u.allowDataOverflow,I=d&&d.allowDataOverflow,D=P||I,L=ir(E)?this.id:E;return oe.createElement(Nr,{className:R},P||I?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(L)},oe.createElement("rect",{x:P?f:f-x/2,y:I?g:g-_/2,width:P?x:x*2,height:I?_:_*2}))):null,oe.createElement(Nr,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(L,")"):null},O?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,L),(!T||A)&&zl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(M.PureComponent);RF=Cu;Vl(Cu,"displayName","Bar");Vl(Cu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vl(Cu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,g=t.dataStartIndex,x=t.displayedData,_=t.offset,T=Tle(n,r);if(!T)return null;var O=e.layout,E=r.type.defaultProps,A=E!==void 0?Dn(Dn({},E),r.props):r.props,R=A.dataKey,P=A.children,I=A.minPointSize,D=O==="horizontal"?o:s,L=f?D.scale.domain():null,F=kle({numericAxis:D}),U=na(P,nv),H=x.map(function(W,ce){var K,z,Z,Q,Y,J;f?K=Ole(f[g+ce],L):(K=Bi(W,R),Array.isArray(K)||(K=[F,K]));var re=qhe(I,RF.defaultProps.minPointSize)(K[1],ce);if(O==="horizontal"){var ie,se=[o.scale(K[0]),o.scale(K[1])],me=se[0],ne=se[1];z=eM({axis:s,ticks:u,bandSize:i,offset:T.offset,entry:W,index:ce}),Z=(ie=ne??me)!==null&&ie!==void 0?ie:void 0,Q=T.size;var ue=me-ne;if(Y=Number.isNaN(ue)?0:ue,J={x:z,y:o.y,width:Q,height:o.height},Math.abs(re)>0&&Math.abs(Y)<Math.abs(re)){var be=Gi(Y||re)*(Math.abs(re)-Math.abs(Y));Z-=be,Y+=be}}else{var Pe=[s.scale(K[0]),s.scale(K[1])],rt=Pe[0],Ie=Pe[1];if(z=rt,Z=eM({axis:o,ticks:d,bandSize:i,offset:T.offset,entry:W,index:ce}),Q=Ie-rt,Y=T.size,J={x:s.x,y:Z,width:s.width,height:Y},Math.abs(re)>0&&Math.abs(Q)<Math.abs(re)){var Re=Gi(Q||re)*(Math.abs(re)-Math.abs(Q));Q+=Re}}return Dn(Dn(Dn({},W),{},{x:z,y:Z,width:Q,height:Y,value:f?K:K[1],payload:W,background:J},U&&U[ce]&&U[ce].props),{},{tooltipPayload:[oF(r,W)],tooltipPosition:{x:z+Q/2,y:Z+Y/2}})});return Dn({data:H,layout:O},_)});function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function epe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MF(n.key),n)}}function tpe(t,e,r){return e&&I8(t.prototype,e),r&&I8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){Sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sv(t,e,r){return e=MF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MF(t){var e=rpe(t,"string");return Tm(e)=="symbol"?e:e+""}function rpe(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var npe=function(e,r,n,i,s){var o=e.width,u=e.height,d=e.layout,f=e.children,g=Object.keys(r),x={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},_=!!As(f,Cu);return g.reduce(function(T,O){var E=r[O],A=E.orientation,R=E.domain,P=E.padding,I=P===void 0?{}:P,D=E.mirror,L=E.reversed,F="".concat(A).concat(D?"Mirror":""),U,H,W,ce,K;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var z=R[1]-R[0],Z=1/0,Q=E.categoricalDomain.sort(gee);if(Q.forEach(function(Pe,rt){rt>0&&(Z=Math.min((Pe||0)-(Q[rt-1]||0),Z))}),Number.isFinite(Z)){var Y=Z/z,J=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(U=Y*J/2),E.padding==="no-gap"){var re=Ki(e.barCategoryGap,Y*J),ie=Y*J/2;U=ie-re-(ie-re)/J*re}}}i==="xAxis"?H=[n.left+(I.left||0)+(U||0),n.left+n.width-(I.right||0)-(U||0)]:i==="yAxis"?H=d==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(U||0),n.top+n.height-(I.bottom||0)-(U||0)]:H=E.range,L&&(H=[H[1],H[0]]);var se=nF(E,s,_),me=se.scale,ne=se.realScaleType;me.domain(R).range(H),iF(me);var ue=sF(me,Sa(Sa({},E),{},{realScaleType:ne}));i==="xAxis"?(K=A==="top"&&!D||A==="bottom"&&D,W=n.left,ce=x[F]-K*E.height):i==="yAxis"&&(K=A==="left"&&!D||A==="right"&&D,W=x[F]-K*E.width,ce=n.top);var be=Sa(Sa(Sa({},E),ue),{},{realScaleType:ne,x:W,y:ce,scale:me,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return be.bandSize=$y(be,ue),!E.hide&&i==="xAxis"?x[F]+=(K?-1:1)*be.height:E.hide||(x[F]+=(K?-1:1)*be.width),Sa(Sa({},T),{},Sv({},O,be))},{})},DF=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},ipe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return DF({x:r,y:n},{x:i,y:s})},LF=(function(){function t(e){epe(this,t),this.scale=e}return tpe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Sv(LF,"EPS",1e-4);var oO=function(e){var r=Object.keys(e).reduce(function(n,i){return Sa(Sa({},n),{},Sv({},i,LF.create(e[i])))},{});return Sa(Sa({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,u=s.position;return Ihe(i,function(d,f){return r[f].apply(d,{bandAware:o,position:u})})},isInRange:function(i){return Mhe(i,function(s,o){return r[o].isInRange(s)})}})};function spe(t){return(t%180+180)%180}var ape=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=spe(i),o=s*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},RS,R8;function ope(){if(R8)return RS;R8=1;var t=po(),e=Hm(),r=ev();function n(i){return function(s,o,u){var d=Object(s);if(!e(s)){var f=t(o,3);s=r(s),o=function(x){return f(d[x],x,d)}}var g=i(s,o,u);return g>-1?d[f?s[g]:g]:void 0}}return RS=n,RS}var jS,j8;function lpe(){if(j8)return jS;j8=1;var t=OF();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return jS=e,jS}var kS,k8;function cpe(){if(k8)return kS;k8=1;var t=B7(),e=po(),r=lpe(),n=Math.max;function i(s,o,u){var d=s==null?0:s.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),t(s,e(o,3),f)}return kS=i,kS}var MS,M8;function upe(){if(M8)return MS;M8=1;var t=ope(),e=cpe(),r=t(e);return MS=r,MS}upe();var dpe=e7();const fpe=Ar(dpe);var hpe=fpe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),BF=M.createContext(void 0),FF=M.createContext(void 0),UF=M.createContext(void 0),ppe=M.createContext({}),$F=M.createContext(void 0),VF=M.createContext(0),qF=M.createContext(0),D8=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,g=hpe(s);return oe.createElement(BF.Provider,{value:n},oe.createElement(FF.Provider,{value:i},oe.createElement(ppe.Provider,{value:s},oe.createElement(UF.Provider,{value:g},oe.createElement($F.Provider,{value:o},oe.createElement(VF.Provider,{value:f},oe.createElement(qF.Provider,{value:d},u)))))))},mpe=function(){return M.useContext($F)},zF=function(e){var r=M.useContext(BF);r==null&&hu();var n=r[e];return n==null&&hu(),n},WF=function(e){var r=M.useContext(FF);r==null&&hu();var n=r[e];return n==null&&hu(),n},gpe=function(){var e=M.useContext(UF);return e},HF=function(){return M.useContext(qF)},GF=function(){return M.useContext(VF)};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XF(n.key),n)}}function xpe(t,e,r){return e&&vpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wpe(t,e,r){return e=i1(e),bpe(t,KF()?Reflect.construct(e,r||[],i1(t).constructor):e.apply(t,r))}function bpe(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(t)}function _pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!t})()}function i1(t){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i1(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FA(t,e)}function L8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(r),!0).forEach(function(n){lO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lO(t,e,r){return e=XF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XF(t){var e=Epe(t,"string");return vf(e)=="symbol"?e:e+""}function Epe(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ape(t,e){return Npe(t)||Ope(t,e)||Tpe(t,e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(t,e){if(t){if(typeof t=="string")return F8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F8(t,e)}}function F8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ope(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Npe(t){if(Array.isArray(t))return t}function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UA.apply(this,arguments)}var Ipe=function(e,r){var n;return oe.isValidElement(e)?n=oe.cloneElement(e,r):Ht(e)?n=e(r):n=oe.createElement("line",UA({},r,{className:"recharts-reference-line-line"})),n},Ppe=function(e,r,n,i,s,o,u,d,f){var g=s.x,x=s.y,_=s.width,T=s.height;if(n){var O=f.y,E=e.y.apply(O,{position:o});if(ro(f,"discard")&&!e.y.isInRange(E))return null;var A=[{x:g+_,y:E},{x:g,y:E}];return d==="left"?A.reverse():A}if(r){var R=f.x,P=e.x.apply(R,{position:o});if(ro(f,"discard")&&!e.x.isInRange(P))return null;var I=[{x:P,y:x+T},{x:P,y:x}];return u==="top"?I.reverse():I}if(i){var D=f.segment,L=D.map(function(F){return e.apply(F,{position:o})});return ro(f,"discard")&&Che(L,function(F){return!e.isInRange(F)})?null:L}return null};function Rpe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=mpe(),g=zF(i),x=WF(s),_=gpe();if(!f||!_)return null;$o(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var T=oO({x:g.scale,y:x.scale}),O=Jn(e),E=Jn(r),A=n&&n.length===2,R=Ppe(T,O,E,A,_,t.position,g.orientation,x.orientation,t);if(!R)return null;var P=Ape(R,2),I=P[0],D=I.x,L=I.y,F=P[1],U=F.x,H=F.y,W=ro(t,"hidden")?"url(#".concat(f,")"):void 0,ce=B8(B8({clipPath:W},Ut(t,!0)),{},{x1:D,y1:L,x2:U,y2:H});return oe.createElement(Nr,{className:Qt("recharts-reference-line",u)},Ipe(o,ce),ui.renderCallByParent(t,ipe({x1:D,y1:L,x2:U,y2:H})))}var cO=(function(t){function e(){return ype(this,e),wpe(this,e,arguments)}return Spe(e,t),xpe(e,[{key:"render",value:function(){return oe.createElement(Rpe,this.props)}}])})(oe.Component);lO(cO,"displayName","ReferenceLine");lO(cO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$A.apply(this,arguments)}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function U8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(r),!0).forEach(function(n){Ev(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZF(n.key),n)}}function Mpe(t,e,r){return e&&kpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dpe(t,e,r){return e=s1(e),Lpe(t,YF()?Reflect.construct(e,r||[],s1(t).constructor):e.apply(t,r))}function Lpe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bpe(t)}function Bpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YF=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(t)}function Fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VA(t,e)}function Ev(t,e,r){return e=ZF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZF(t){var e=Upe(t,"string");return xf(e)=="symbol"?e:e+""}function Upe(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $pe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=oO({x:i.scale,y:s.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return ro(e,"discard")&&!o.isInRange(u)?null:u},Av=(function(t){function e(){return jpe(this,e),Dpe(this,e,arguments)}return Fpe(e,t),Mpe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,u=n.alwaysShow,d=n.clipPathId,f=Jn(i),g=Jn(s);if($o(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!g)return null;var x=$pe(this.props);if(!x)return null;var _=x.x,T=x.y,O=this.props,E=O.shape,A=O.className,R=ro(this.props,"hidden")?"url(#".concat(d,")"):void 0,P=$8($8({clipPath:R},Ut(this.props,!0)),{},{cx:_,cy:T});return oe.createElement(Nr,{className:Qt("recharts-reference-dot",A)},e.renderDot(E,P),ui.renderCallByParent(this.props,{x:_-o,y:T-o,width:2*o,height:2*o}))}}])})(oe.Component);Ev(Av,"displayName","ReferenceDot");Ev(Av,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ev(Av,"renderDot",function(t,e){var r;return oe.isValidElement(t)?r=oe.cloneElement(t,e):Ht(t)?r=t(e):r=oe.createElement(aO,$A({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qA.apply(this,arguments)}function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function V8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(r),!0).forEach(function(n){Cv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JF(n.key),n)}}function zpe(t,e,r){return e&&qpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wpe(t,e,r){return e=a1(e),Hpe(t,QF()?Reflect.construct(e,r||[],a1(t).constructor):e.apply(t,r))}function Hpe(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gpe(t)}function Gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QF=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a1(t)}function Kpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zA(t,e)}function Cv(t,e,r){return e=JF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JF(t){var e=Xpe(t,"string");return wf(e)=="symbol"?e:e+""}function Xpe(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ype=function(e,r,n,i,s){var o=s.x1,u=s.x2,d=s.y1,f=s.y2,g=s.xAxis,x=s.yAxis;if(!g||!x)return null;var _=oO({x:g.scale,y:x.scale}),T={x:e?_.x.apply(o,{position:"start"}):_.x.rangeMin,y:n?_.y.apply(d,{position:"start"}):_.y.rangeMin},O={x:r?_.x.apply(u,{position:"end"}):_.x.rangeMax,y:i?_.y.apply(f,{position:"end"}):_.y.rangeMax};return ro(s,"discard")&&(!_.isInRange(T)||!_.isInRange(O))?null:DF(T,O)},Tv=(function(t){function e(){return Vpe(this,e),Wpe(this,e,arguments)}return Kpe(e,t),zpe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,g=n.clipPathId;$o(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=Jn(i),_=Jn(s),T=Jn(o),O=Jn(u),E=this.props.shape;if(!x&&!_&&!T&&!O&&!E)return null;var A=Ype(x,_,T,O,this.props);if(!A&&!E)return null;var R=ro(this.props,"hidden")?"url(#".concat(g,")"):void 0;return oe.createElement(Nr,{className:Qt("recharts-reference-area",d)},e.renderRect(E,q8(q8({clipPath:R},Ut(this.props,!0)),A)),ui.renderCallByParent(this.props,A))}}])})(oe.Component);Cv(Tv,"displayName","ReferenceArea");Cv(Tv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cv(Tv,"renderRect",function(t,e){var r;return oe.isValidElement(t)?r=oe.cloneElement(t,e):Ht(t)?r=t(e):r=oe.createElement(sO,qA({},e,{className:"recharts-reference-area-rect"})),r});function e9(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Zpe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return ape(n,r)}function Qpe(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,u=t.height;return e===1?{start:n?i:s,end:n?i+o:s+u}:{start:n?i+o:s+u,end:n?i:s}}function o1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Jpe(t,e){return e9(t,e+1)}function eme(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,u=e.end,d=0,f=1,g=o,x=function(){var O=n?.[d];if(O===void 0)return{v:e9(n,f)};var E=d,A,R=function(){return A===void 0&&(A=r(O,E)),A},P=O.coordinate,I=d===0||o1(t,P,R,g,u);I||(d=0,g=o,f+=1),I&&(g=P+t*(R()/2+i),d+=f)},_;f<=s.length;)if(_=x(),_)return _.v;return[]}function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(r),!0).forEach(function(n){tme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tme(t,e,r){return e=rme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rme(t){var e=nme(t,"string");return Om(e)=="symbol"?e:e+""}function nme(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ime(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,u=e.start,d=e.end,f=function(_){var T=s[_],O,E=function(){return O===void 0&&(O=r(T,_)),O};if(_===o-1){var A=t*(T.coordinate+t*E()/2-d);s[_]=T=Li(Li({},T),{},{tickCoord:A>0?T.coordinate-A*t:T.coordinate})}else s[_]=T=Li(Li({},T),{},{tickCoord:T.coordinate});var R=o1(t,T.tickCoord,E,u,d);R&&(d=T.tickCoord-t*(E()/2+i),s[_]=Li(Li({},T),{},{isShow:!0}))},g=o-1;g>=0;g--)f(g);return s}function sme(t,e,r,n,i,s){var o=(n||[]).slice(),u=o.length,d=e.start,f=e.end;if(s){var g=n[u-1],x=r(g,u-1),_=t*(g.coordinate+t*x/2-f);o[u-1]=g=Li(Li({},g),{},{tickCoord:_>0?g.coordinate-_*t:g.coordinate});var T=o1(t,g.tickCoord,function(){return x},d,f);T&&(f=g.tickCoord-t*(x/2+i),o[u-1]=Li(Li({},g),{},{isShow:!0}))}for(var O=s?u-1:u,E=function(P){var I=o[P],D,L=function(){return D===void 0&&(D=r(I,P)),D};if(P===0){var F=t*(I.coordinate-t*L()/2-d);o[P]=I=Li(Li({},I),{},{tickCoord:F<0?I.coordinate-F*t:I.coordinate})}else o[P]=I=Li(Li({},I),{},{tickCoord:I.coordinate});var U=o1(t,I.tickCoord,L,d,f);U&&(d=I.tickCoord+t*(L()/2+i),o[P]=Li(Li({},I),{},{isShow:!0}))},A=0;A<O;A++)E(A);return o}function ame(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,g=t.unit,x=t.angle;if(!i||!i.length||!n)return[];if(Qe(d)||Gf.isSsr)return Jpe(i,typeof d=="number"&&Qe(d)?d:0);var _=[],T=u==="top"||u==="bottom"?"width":"height",O=g&&T==="width"?xp(g,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(I,D){var L=Ht(f)?f(I.value,D):I.value;return T==="width"?Zpe(xp(L,{fontSize:e,letterSpacing:r}),O,x):xp(L,{fontSize:e,letterSpacing:r})[T]},A=i.length>=2?Gi(i[1].coordinate-i[0].coordinate):1,R=Qpe(s,A,T);return d==="equidistantPreserveStart"?eme(A,R,E,i,o):(d==="preserveStart"||d==="preserveStartEnd"?_=sme(A,R,E,i,o,d==="preserveStartEnd"):_=ime(A,R,E,i,o),_.filter(function(P){return P.isShow}))}var ome=["viewBox"],lme=["viewBox"],cme=["ticks"];function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}function W8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(r),!0).forEach(function(n){uO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DS(t,e){if(t==null)return{};var r=ume(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ume(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r9(n.key),n)}}function fme(t,e,r){return e&&H8(t.prototype,e),r&&H8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,r){return e=l1(e),pme(t,t9()?Reflect.construct(e,r||[],l1(t).constructor):e.apply(t,r))}function pme(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mme(t)}function mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function l1(t){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l1(t)}function gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WA(t,e)}function uO(t,e,r){return e=r9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r9(t){var e=yme(t,"string");return bf(e)=="symbol"?e:e+""}function yme(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ov=(function(t){function e(r){var n;return dme(this,e),n=hme(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return gme(e,t),fme(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=DS(n,ome),u=this.props,d=u.viewBox,f=DS(u,lme);return!Bd(s,d)||!Bd(o,f)||!Bd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,u=i.width,d=i.height,f=i.orientation,g=i.tickSize,x=i.mirror,_=i.tickMargin,T,O,E,A,R,P,I=x?-1:1,D=n.tickSize||g,L=Qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":T=O=n.coordinate,A=o+ +!x*d,E=A-I*D,P=E-I*_,R=L;break;case"left":E=A=n.coordinate,O=s+ +!x*u,T=O-I*D,R=T-I*_,P=L;break;case"right":E=A=n.coordinate,O=s+ +x*u,T=O+I*D,R=T+I*_,P=L;break;default:T=O=n.coordinate,A=o+ +x*d,E=A+I*D,P=E+I*_,R=L;break}return{line:{x1:T,y1:E,x2:O,y2:A},tick:{x:R,y:P}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,d=n.orientation,f=n.mirror,g=n.axisLine,x=Kn(Kn(Kn({},Ut(this.props,!1)),Ut(g,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var _=+(d==="top"&&!f||d==="bottom"&&f);x=Kn(Kn({},x),{},{x1:i,y1:s+_*u,x2:i+o,y2:s+_*u})}else{var T=+(d==="left"&&!f||d==="right"&&f);x=Kn(Kn({},x),{},{x1:i+T*o,y1:s,x2:i+T*o,y2:s+u})}return oe.createElement("line",Od({},x,{className:Qt("recharts-cartesian-axis-line",Ms(g,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,u=this.props,d=u.tickLine,f=u.stroke,g=u.tick,x=u.tickFormatter,_=u.unit,T=ame(Kn(Kn({},this.props),{},{ticks:n}),i,s),O=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),A=Ut(this.props,!1),R=Ut(g,!1),P=Kn(Kn({},A),{},{fill:"none"},Ut(d,!1)),I=T.map(function(D,L){var F=o.getTickLineCoord(D),U=F.line,H=F.tick,W=Kn(Kn(Kn(Kn({textAnchor:O,verticalAnchor:E},A),{},{stroke:"none",fill:f},R),H),{},{index:L,payload:D,visibleTicksCount:T.length,tickFormatter:x});return oe.createElement(Nr,Od({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},uu(o.props,D,L)),d&&oe.createElement("line",Od({},P,U,{className:Qt("recharts-cartesian-axis-tick-line",Ms(d,"className"))})),g&&e.renderTickItem(g,W,"".concat(Ht(x)?x(D.value,L):D.value).concat(_||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,u=i.height,d=i.ticksGenerator,f=i.className,g=i.hide;if(g)return null;var x=this.props,_=x.ticks,T=DS(x,cme),O=_;return Ht(d)&&(O=_&&_.length>0?d(this.props):d(T)),o<=0||u<=0||!O||!O.length?null:oe.createElement(Nr,{className:Qt("recharts-cartesian-axis",f),ref:function(A){n.layerReference=A}},s&&this.renderAxisLine(),this.renderTicks(O,this.state.fontSize,this.state.letterSpacing),ui.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,u=Qt(i.className,"recharts-cartesian-axis-tick-value");return oe.isValidElement(n)?o=oe.cloneElement(n,Kn(Kn({},i),{},{className:u})):Ht(n)?o=n(Kn(Kn({},i),{},{className:u})):o=oe.createElement(du,Od({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(M.Component);uO(Ov,"displayName","CartesianAxis");uO(Ov,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s9(n.key),n)}}function wme(t,e,r){return e&&xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bme(t,e,r){return e=c1(e),_me(t,n9()?Reflect.construct(e,r||[],c1(t).constructor):e.apply(t,r))}function _me(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sme(t)}function Sme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HA(t,e)}function i9(t,e,r){return e=s9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s9(t){var e=Ame(t,"string");return _f(e)=="symbol"?e:e+""}function Ame(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GA.apply(this,arguments)}function Cme(t){var e=t.xAxisId,r=HF(),n=GF(),i=zF(e);return i==null?null:M.createElement(Ov,GA({},i,{className:Qt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Zc(o,!0)}}))}var Nv=(function(t){function e(){return vme(this,e),bme(this,e,arguments)}return Eme(e,t),wme(e,[{key:"render",value:function(){return M.createElement(Cme,this.props)}}])})(M.Component);i9(Nv,"displayName","XAxis");i9(Nv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Tme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ome(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l9(n.key),n)}}function Nme(t,e,r){return e&&Ome(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ime(t,e,r){return e=u1(e),Pme(t,a9()?Reflect.construct(e,r||[],u1(t).constructor):e.apply(t,r))}function Pme(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rme(t)}function Rme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u1(t)}function jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KA(t,e)}function o9(t,e,r){return e=l9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l9(t){var e=kme(t,"string");return Sf(e)=="symbol"?e:e+""}function kme(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XA.apply(this,arguments)}var Mme=function(e){var r=e.yAxisId,n=HF(),i=GF(),s=WF(r);return s==null?null:M.createElement(Ov,XA({},s,{className:Qt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Zc(u,!0)}}))},Iv=(function(t){function e(){return Tme(this,e),Ime(this,e,arguments)}return jme(e,t),Nme(e,[{key:"render",value:function(){return M.createElement(Mme,this.props)}}])})(M.Component);o9(Iv,"displayName","YAxis");o9(Iv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function G8(t){return Fme(t)||Bme(t)||Lme(t)||Dme()}function Dme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lme(t,e){if(t){if(typeof t=="string")return YA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(t,e)}}function Bme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fme(t){if(Array.isArray(t))return YA(t)}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZA=function(e,r,n,i,s){var o=na(e,cO),u=na(e,Av),d=[].concat(G8(o),G8(u)),f=na(e,Tv),g="".concat(i,"Id"),x=i[0],_=r;if(d.length&&(_=d.reduce(function(E,A){if(A.props[g]===n&&ro(A.props,"extendDomain")&&Qe(A.props[x])){var R=A.props[x];return[Math.min(E[0],R),Math.max(E[1],R)]}return E},_)),f.length){var T="".concat(x,"1"),O="".concat(x,"2");_=f.reduce(function(E,A){if(A.props[g]===n&&ro(A.props,"extendDomain")&&Qe(A.props[T])&&Qe(A.props[O])){var R=A.props[T],P=A.props[O];return[Math.min(E[0],R,P),Math.max(E[1],R,P)]}return E},_)}return s&&s.length&&(_=s.reduce(function(E,A){return Qe(A)?[Math.min(E[0],A),Math.max(E[1],A)]:E},_)),_},LS={exports:{}},K8;function Ume(){return K8||(K8=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,g){this.fn=d,this.context=f,this.once=g||!1}function s(d,f,g,x,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var T=new i(g,x||d,_),O=r?r+f:f;return d._events[O]?d._events[O].fn?d._events[O]=[d._events[O],T]:d._events[O].push(T):(d._events[O]=T,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],g,x;if(this._eventsCount===0)return f;for(x in g=this._events)e.call(g,x)&&f.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},u.prototype.listeners=function(f){var g=r?r+f:f,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var _=0,T=x.length,O=new Array(T);_<T;_++)O[_]=x[_].fn;return O},u.prototype.listenerCount=function(f){var g=r?r+f:f,x=this._events[g];return x?x.fn?1:x.length:0},u.prototype.emit=function(f,g,x,_,T,O){var E=r?r+f:f;if(!this._events[E])return!1;var A=this._events[E],R=arguments.length,P,I;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),R){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,x),!0;case 4:return A.fn.call(A.context,g,x,_),!0;case 5:return A.fn.call(A.context,g,x,_,T),!0;case 6:return A.fn.call(A.context,g,x,_,T,O),!0}for(I=1,P=new Array(R-1);I<R;I++)P[I-1]=arguments[I];A.fn.apply(A.context,P)}else{var D=A.length,L;for(I=0;I<D;I++)switch(A[I].once&&this.removeListener(f,A[I].fn,void 0,!0),R){case 1:A[I].fn.call(A[I].context);break;case 2:A[I].fn.call(A[I].context,g);break;case 3:A[I].fn.call(A[I].context,g,x);break;case 4:A[I].fn.call(A[I].context,g,x,_);break;default:if(!P)for(L=1,P=new Array(R-1);L<R;L++)P[L-1]=arguments[L];A[I].fn.apply(A[I].context,P)}}return!0},u.prototype.on=function(f,g,x){return s(this,f,g,x,!1)},u.prototype.once=function(f,g,x){return s(this,f,g,x,!0)},u.prototype.removeListener=function(f,g,x,_){var T=r?r+f:f;if(!this._events[T])return this;if(!g)return o(this,T),this;var O=this._events[T];if(O.fn)O.fn===g&&(!_||O.once)&&(!x||O.context===x)&&o(this,T);else{for(var E=0,A=[],R=O.length;E<R;E++)(O[E].fn!==g||_&&!O[E].once||x&&O[E].context!==x)&&A.push(O[E]);A.length?this._events[T]=A.length===1?A[0]:A:o(this,T)}return this},u.prototype.removeAllListeners=function(f){var g;return f?(g=r?r+f:f,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(LS)),LS.exports}var $me=Ume();const Vme=Ar($me);var BS=new Vme,FS="recharts.syncMouseEvents";function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c9(n.key),n)}}function Wme(t,e,r){return e&&zme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function US(t,e,r){return e=c9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c9(t){var e=Hme(t,"string");return Nm(e)=="symbol"?e:e+""}function Hme(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gme=(function(){function t(){qme(this,t),US(this,"activeIndex",0),US(this,"coordinateList",[]),US(this,"layout","horizontal")}return Wme(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,u=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,g=r.offset,x=g===void 0?null:g,_=r.mouseHandlerCallback,T=_===void 0?null:_;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=x??this.offset,this.mouseHandlerCallback=T??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,x=s+d+f,_=o+this.offset.top+u/2+g;this.mouseHandlerCallback({pageX:x,pageY:_})}}}])})();function Kme(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Qe(n)&&Qe(i))return!0}return!1}function Xme(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function u9(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=Hr(e,r,n,i),u=Hr(e,r,n,s);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Yme(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,g=e.outerRadius,x=e.angle,_=Hr(u,d,f,x),T=Hr(u,d,g,x);n=_.x,i=_.y,s=T.x,o=T.y}else return u9(e);return[{x:n,y:i},{x:s,y:o}]}function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(n){Zme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zme(t,e,r){return e=Qme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qme(t){var e=Jme(t,"string");return Im(e)=="symbol"?e:e+""}function Jme(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ege(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,g=t.tooltipAxisBandSize,x=t.layout,_=t.chartName,T=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!T||!s||!o||_!=="ScatterChart"&&i!=="axis")return null;var O,E=wA;if(_==="ScatterChart")O=o,E=Yde;else if(_==="BarChart")O=Xme(x,o,d,g),E=sO;else if(x==="radial"){var A=u9(o),R=A.cx,P=A.cy,I=A.radius,D=A.startAngle,L=A.endAngle;O={cx:R,cy:P,startAngle:D,endAngle:L,innerRadius:I,outerRadius:I},E=hF}else O={points:Yme(x,o,d)},E=wA;var F=N0(N0(N0(N0({stroke:"#ccc",pointerEvents:"none"},d),O),Ut(T,!1)),{},{payload:u,payloadIndex:f,className:Qt("recharts-tooltip-cursor",T.className)});return M.isValidElement(T)?M.cloneElement(T,F):M.createElement(E,F)}var tge=["item"],rge=["children","className","width","height","style","compact","title","desc"];function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function Y8(t,e){return sge(t)||ige(t,e)||f9(t,e)||nge()}function nge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function sge(t){if(Array.isArray(t))return t}function Z8(t,e){if(t==null)return{};var r=age(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function age(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h9(n.key),n)}}function cge(t,e,r){return e&&lge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uge(t,e,r){return e=d1(e),dge(t,d9()?Reflect.construct(e,r||[],d1(t).constructor):e.apply(t,r))}function dge(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fge(t)}function fge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d9=function(){return!!t})()}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d1(t)}function hge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QA(t,e)}function Af(t){return gge(t)||mge(t)||f9(t)||pge()}function pge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9(t,e){if(t){if(typeof t=="string")return JA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(t,e)}}function mge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gge(t){if(Array.isArray(t))return JA(t)}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(r),!0).forEach(function(n){Rt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rt(t,e,r){return e=h9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h9(t){var e=yge(t,"string");return Ef(e)=="symbol"?e:e+""}function yge(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vge={xAxis:["bottom","top"],yAxis:["left","right"]},xge={width:"100%",height:"100%"},p9={x:0,y:0};function I0(t){return t}var wge=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},bge=function(e,r,n,i){var s=r.find(function(g){return g&&g.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,u=i.radius;return Oe(Oe(Oe({},i),Hr(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var d=s.coordinate,f=i.angle;return Oe(Oe(Oe({},i),Hr(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return p9},Pv=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Af(u),Af(f)):u},[]);return o.length>0?o:e&&e.length&&Qe(i)&&Qe(s)?e.slice(i,s+1):[]};function m9(t){return t==="number"?[0,"auto"]:void 0}var eC=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,u=Pv(r,e);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,f){var g,x=(g=f.props.data)!==null&&g!==void 0?g:r;x&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(x=x.slice(e.dataStartIndex,e.dataEndIndex+1));var _;if(o.dataKey&&!o.allowDuplicatedCategory){var T=x===void 0?u:x;_=ME(T,o.dataKey,i)}else _=x&&x[n]||u[n];return _?[].concat(Af(d),[oF(f,_)]):d},[])},J8=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=wge(s,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,g=ble(o,u,f,d);if(g>=0&&f){var x=f[g]&&f[g].value,_=eC(e,r,g,x),T=bge(n,u,g,s);return{activeTooltipIndex:g,activeLabel:x,activePayload:_,activeCoordinate:T}}return null},_ge=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=e.layout,x=e.children,_=e.stackOffset,T=rF(g,s);return n.reduce(function(O,E){var A,R=E.type.defaultProps!==void 0?Oe(Oe({},E.type.defaultProps),E.props):E.props,P=R.type,I=R.dataKey,D=R.allowDataOverflow,L=R.allowDuplicatedCategory,F=R.scale,U=R.ticks,H=R.includeHidden,W=R[o];if(O[W])return O;var ce=Pv(e.data,{graphicalItems:i.filter(function(ue){var be,Pe=o in ue.props?ue.props[o]:(be=ue.type.defaultProps)===null||be===void 0?void 0:be[o];return Pe===W}),dataStartIndex:d,dataEndIndex:f}),K=ce.length,z,Z,Q;Kme(R.domain,D,P)&&(z=mA(R.domain,null,D),T&&(P==="number"||F!=="auto")&&(Q=bp(ce,I,"category")));var Y=m9(P);if(!z||z.length===0){var J,re=(J=R.domain)!==null&&J!==void 0?J:Y;if(I){if(z=bp(ce,I,P),P==="category"&&T){var ie=mee(z);L&&ie?(Z=z,z=Jy(0,K)):L||(z=nM(re,z,E).reduce(function(ue,be){return ue.indexOf(be)>=0?ue:[].concat(Af(ue),[be])},[]))}else if(P==="category")L?z=z.filter(function(ue){return ue!==""&&!ir(ue)}):z=nM(re,z,E).reduce(function(ue,be){return ue.indexOf(be)>=0||be===""||ir(be)?ue:[].concat(Af(ue),[be])},[]);else if(P==="number"){var se=Cle(ce,i.filter(function(ue){var be,Pe,rt=o in ue.props?ue.props[o]:(be=ue.type.defaultProps)===null||be===void 0?void 0:be[o],Ie="hide"in ue.props?ue.props.hide:(Pe=ue.type.defaultProps)===null||Pe===void 0?void 0:Pe.hide;return rt===W&&(H||!Ie)}),I,s,g);se&&(z=se)}T&&(P==="number"||F!=="auto")&&(Q=bp(ce,I,"category"))}else T?z=Jy(0,K):u&&u[W]&&u[W].hasStack&&P==="number"?z=_==="expand"?[0,1]:aF(u[W].stackGroups,d,f):z=tF(ce,i.filter(function(ue){var be=o in ue.props?ue.props[o]:ue.type.defaultProps[o],Pe="hide"in ue.props?ue.props.hide:ue.type.defaultProps.hide;return be===W&&(H||!Pe)}),P,g,!0);if(P==="number")z=ZA(x,z,W,s,U),re&&(z=mA(re,z,D));else if(P==="category"&&re){var me=re,ne=z.every(function(ue){return me.indexOf(ue)>=0});ne&&(z=me)}}return Oe(Oe({},O),{},Rt({},W,Oe(Oe({},R),{},{axisType:s,domain:z,categoricalDomain:Q,duplicateDomain:Z,originalDomain:(A=R.domain)!==null&&A!==void 0?A:Y,isCategorical:T,layout:g})))},{})},Sge=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=e.layout,x=e.children,_=Pv(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),T=_.length,O=rF(g,s),E=-1;return n.reduce(function(A,R){var P=R.type.defaultProps!==void 0?Oe(Oe({},R.type.defaultProps),R.props):R.props,I=P[o],D=m9("number");if(!A[I]){E++;var L;return O?L=Jy(0,T):u&&u[I]&&u[I].hasStack?(L=aF(u[I].stackGroups,d,f),L=ZA(x,L,I,s)):(L=mA(D,tF(_,n.filter(function(F){var U,H,W=o in F.props?F.props[o]:(U=F.type.defaultProps)===null||U===void 0?void 0:U[o],ce="hide"in F.props?F.props.hide:(H=F.type.defaultProps)===null||H===void 0?void 0:H.hide;return W===I&&!ce}),"number",g),i.defaultProps.allowDataOverflow),L=ZA(x,L,I,s)),Oe(Oe({},A),{},Rt({},I,Oe(Oe({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ms(vge,"".concat(s,".").concat(E%2),null),domain:L,originalDomain:D,isCategorical:O,layout:g})))}return A},{})},Ege=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=e.children,x="".concat(i,"Id"),_=na(g,s),T={};return _&&_.length?T=_ge(e,{axes:_,graphicalItems:o,axisType:i,axisIdKey:x,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(T=Sge(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:x,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),T},Age=function(e){var r=_d(e),n=Zc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:RT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:$y(r,n)}},eD=function(e){var r=e.children,n=e.defaultShowTooltip,i=As(r,gf),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Cge=function(e){return!e||!e.length?!1:e.some(function(r){var n=Uo(r&&r.type);return n&&n.indexOf("Bar")>=0})},tD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Tge=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,u=e.yAxisMap,d=u===void 0?{}:u,f=n.width,g=n.height,x=n.children,_=n.margin||{},T=As(x,gf),O=As(x,Fd),E=Object.keys(d).reduce(function(L,F){var U=d[F],H=U.orientation;return!U.mirror&&!U.hide?Oe(Oe({},L),{},Rt({},H,L[H]+U.width)):L},{left:_.left||0,right:_.right||0}),A=Object.keys(o).reduce(function(L,F){var U=o[F],H=U.orientation;return!U.mirror&&!U.hide?Oe(Oe({},L),{},Rt({},H,Ms(L,"".concat(H))+U.height)):L},{top:_.top||0,bottom:_.bottom||0}),R=Oe(Oe({},A),E),P=R.bottom;T&&(R.bottom+=T.props.height||gf.defaultProps.height),O&&r&&(R=Ele(R,i,n,r));var I=f-R.left-R.right,D=g-R.top-R.bottom;return Oe(Oe({brushBottom:P},R),{},{width:Math.max(I,0),height:Math.max(D,0)})},Oge=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},g9=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,g=e.formatAxisMap,x=e.defaultProps,_=function(R,P){var I=P.graphicalItems,D=P.stackGroups,L=P.offset,F=P.updateId,U=P.dataStartIndex,H=P.dataEndIndex,W=R.barSize,ce=R.layout,K=R.barGap,z=R.barCategoryGap,Z=R.maxBarSize,Q=tD(ce),Y=Q.numericAxisName,J=Q.cateAxisName,re=Cge(I),ie=[];return I.forEach(function(se,me){var ne=Pv(R.data,{graphicalItems:[se],dataStartIndex:U,dataEndIndex:H}),ue=se.type.defaultProps!==void 0?Oe(Oe({},se.type.defaultProps),se.props):se.props,be=ue.dataKey,Pe=ue.maxBarSize,rt=ue["".concat(Y,"Id")],Ie=ue["".concat(J,"Id")],Re={},Be=d.reduce(function(Fe,le){var xe=P["".concat(le.axisType,"Map")],Ae=ue["".concat(le.axisType,"Id")];xe&&xe[Ae]||le.axisType==="zAxis"||hu();var tt=xe[Ae];return Oe(Oe({},Fe),{},Rt(Rt({},le.axisType,tt),"".concat(le.axisType,"Ticks"),Zc(tt)))},Re),Te=Be[J],$e=Be["".concat(J,"Ticks")],Ve=D&&D[rt]&&D[rt].hasStack&&Mle(se,D[rt].stackGroups),Ce=Uo(se.type).indexOf("Bar")>=0,et=$y(Te,$e),_t=[],Ne=re&&_le({barSize:W,stackGroups:D,totalSize:Oge(Be,J)});if(Ce){var Ke,ot,Ze=ir(Pe)?Z:Pe,dt=(Ke=(ot=$y(Te,$e,!0))!==null&&ot!==void 0?ot:Ze)!==null&&Ke!==void 0?Ke:0;_t=Sle({barGap:K,barCategoryGap:z,bandSize:dt!==et?dt:et,sizeList:Ne[Ie],maxBarSize:Ze}),dt!==et&&(_t=_t.map(function(Fe){return Oe(Oe({},Fe),{},{position:Oe(Oe({},Fe.position),{},{offset:Fe.position.offset-dt/2})})}))}var Bt=se&&se.type&&se.type.getComposedData;Bt&&ie.push({props:Oe(Oe({},Bt(Oe(Oe({},Be),{},{displayedData:ne,props:R,dataKey:be,item:se,bandSize:et,barPosition:_t,offset:L,stackedData:Ve,layout:ce,dataStartIndex:U,dataEndIndex:H}))),{},Rt(Rt(Rt({key:se.key||"item-".concat(me)},Y,Be[Y]),J,Be[J]),"animationId",F)),childIndex:Tee(se,R.children),item:se})}),ie},T=function(R,P){var I=R.props,D=R.dataStartIndex,L=R.dataEndIndex,F=R.updateId;if(!vR({props:I}))return null;var U=I.children,H=I.layout,W=I.stackOffset,ce=I.data,K=I.reverseStackOrder,z=tD(H),Z=z.numericAxisName,Q=z.cateAxisName,Y=na(U,n),J=jle(ce,Y,"".concat(Z,"Id"),"".concat(Q,"Id"),W,K),re=d.reduce(function(ue,be){var Pe="".concat(be.axisType,"Map");return Oe(Oe({},ue),{},Rt({},Pe,Ege(I,Oe(Oe({},be),{},{graphicalItems:Y,stackGroups:be.axisType===Z&&J,dataStartIndex:D,dataEndIndex:L}))))},{}),ie=Tge(Oe(Oe({},re),{},{props:I,graphicalItems:Y}),P?.legendBBox);Object.keys(re).forEach(function(ue){re[ue]=g(I,re[ue],ie,ue.replace("Map",""),r)});var se=re["".concat(Q,"Map")],me=Age(se),ne=_(I,Oe(Oe({},re),{},{dataStartIndex:D,dataEndIndex:L,updateId:F,graphicalItems:Y,stackGroups:J,offset:ie}));return Oe(Oe({formattedGraphicalItems:ne,graphicalItems:Y,offset:ie,stackGroups:J},me),re)},O=(function(A){function R(P){var I,D,L;return oge(this,R),L=uge(this,R,[P]),Rt(L,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Rt(L,"accessibilityManager",new Gme),Rt(L,"handleLegendBBoxUpdate",function(F){if(F){var U=L.state,H=U.dataStartIndex,W=U.dataEndIndex,ce=U.updateId;L.setState(Oe({legendBBox:F},T({props:L.props,dataStartIndex:H,dataEndIndex:W,updateId:ce},Oe(Oe({},L.state),{},{legendBBox:F}))))}}),Rt(L,"handleReceiveSyncEvent",function(F,U,H){if(L.props.syncId===F){if(H===L.eventEmitterSymbol&&typeof L.props.syncMethod!="function")return;L.applySyncEvent(U)}}),Rt(L,"handleBrushChange",function(F){var U=F.startIndex,H=F.endIndex;if(U!==L.state.dataStartIndex||H!==L.state.dataEndIndex){var W=L.state.updateId;L.setState(function(){return Oe({dataStartIndex:U,dataEndIndex:H},T({props:L.props,dataStartIndex:U,dataEndIndex:H,updateId:W},L.state))}),L.triggerSyncEvent({dataStartIndex:U,dataEndIndex:H})}}),Rt(L,"handleMouseEnter",function(F){var U=L.getMouseInfo(F);if(U){var H=Oe(Oe({},U),{},{isTooltipActive:!0});L.setState(H),L.triggerSyncEvent(H);var W=L.props.onMouseEnter;Ht(W)&&W(H,F)}}),Rt(L,"triggeredAfterMouseMove",function(F){var U=L.getMouseInfo(F),H=U?Oe(Oe({},U),{},{isTooltipActive:!0}):{isTooltipActive:!1};L.setState(H),L.triggerSyncEvent(H);var W=L.props.onMouseMove;Ht(W)&&W(H,F)}),Rt(L,"handleItemMouseEnter",function(F){L.setState(function(){return{isTooltipActive:!0,activeItem:F,activePayload:F.tooltipPayload,activeCoordinate:F.tooltipPosition||{x:F.cx,y:F.cy}}})}),Rt(L,"handleItemMouseLeave",function(){L.setState(function(){return{isTooltipActive:!1}})}),Rt(L,"handleMouseMove",function(F){F.persist(),L.throttleTriggeredAfterMouseMove(F)}),Rt(L,"handleMouseLeave",function(F){L.throttleTriggeredAfterMouseMove.cancel();var U={isTooltipActive:!1};L.setState(U),L.triggerSyncEvent(U);var H=L.props.onMouseLeave;Ht(H)&&H(U,F)}),Rt(L,"handleOuterEvent",function(F){var U=Cee(F),H=Ms(L.props,"".concat(U));if(U&&Ht(H)){var W,ce;/.*touch.*/i.test(U)?ce=L.getMouseInfo(F.changedTouches[0]):ce=L.getMouseInfo(F),H((W=ce)!==null&&W!==void 0?W:{},F)}}),Rt(L,"handleClick",function(F){var U=L.getMouseInfo(F);if(U){var H=Oe(Oe({},U),{},{isTooltipActive:!0});L.setState(H),L.triggerSyncEvent(H);var W=L.props.onClick;Ht(W)&&W(H,F)}}),Rt(L,"handleMouseDown",function(F){var U=L.props.onMouseDown;if(Ht(U)){var H=L.getMouseInfo(F);U(H,F)}}),Rt(L,"handleMouseUp",function(F){var U=L.props.onMouseUp;if(Ht(U)){var H=L.getMouseInfo(F);U(H,F)}}),Rt(L,"handleTouchMove",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&L.throttleTriggeredAfterMouseMove(F.changedTouches[0])}),Rt(L,"handleTouchStart",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&L.handleMouseDown(F.changedTouches[0])}),Rt(L,"handleTouchEnd",function(F){F.changedTouches!=null&&F.changedTouches.length>0&&L.handleMouseUp(F.changedTouches[0])}),Rt(L,"handleDoubleClick",function(F){var U=L.props.onDoubleClick;if(Ht(U)){var H=L.getMouseInfo(F);U(H,F)}}),Rt(L,"handleContextMenu",function(F){var U=L.props.onContextMenu;if(Ht(U)){var H=L.getMouseInfo(F);U(H,F)}}),Rt(L,"triggerSyncEvent",function(F){L.props.syncId!==void 0&&BS.emit(FS,L.props.syncId,F,L.eventEmitterSymbol)}),Rt(L,"applySyncEvent",function(F){var U=L.props,H=U.layout,W=U.syncMethod,ce=L.state.updateId,K=F.dataStartIndex,z=F.dataEndIndex;if(F.dataStartIndex!==void 0||F.dataEndIndex!==void 0)L.setState(Oe({dataStartIndex:K,dataEndIndex:z},T({props:L.props,dataStartIndex:K,dataEndIndex:z,updateId:ce},L.state)));else if(F.activeTooltipIndex!==void 0){var Z=F.chartX,Q=F.chartY,Y=F.activeTooltipIndex,J=L.state,re=J.offset,ie=J.tooltipTicks;if(!re)return;if(typeof W=="function")Y=W(ie,F);else if(W==="value"){Y=-1;for(var se=0;se<ie.length;se++)if(ie[se].value===F.activeLabel){Y=se;break}}var me=Oe(Oe({},re),{},{x:re.left,y:re.top}),ne=Math.min(Z,me.x+me.width),ue=Math.min(Q,me.y+me.height),be=ie[Y]&&ie[Y].value,Pe=eC(L.state,L.props.data,Y),rt=ie[Y]?{x:H==="horizontal"?ie[Y].coordinate:ne,y:H==="horizontal"?ue:ie[Y].coordinate}:p9;L.setState(Oe(Oe({},F),{},{activeLabel:be,activeCoordinate:rt,activePayload:Pe,activeTooltipIndex:Y}))}else L.setState(F)}),Rt(L,"renderCursor",function(F){var U,H=L.state,W=H.isTooltipActive,ce=H.activeCoordinate,K=H.activePayload,z=H.offset,Z=H.activeTooltipIndex,Q=H.tooltipAxisBandSize,Y=L.getTooltipEventType(),J=(U=F.props.active)!==null&&U!==void 0?U:W,re=L.props.layout,ie=F.key||"_recharts-cursor";return oe.createElement(ege,{key:ie,activeCoordinate:ce,activePayload:K,activeTooltipIndex:Z,chartName:r,element:F,isActive:J,layout:re,offset:z,tooltipAxisBandSize:Q,tooltipEventType:Y})}),Rt(L,"renderPolarAxis",function(F,U,H){var W=Ms(F,"type.axisType"),ce=Ms(L.state,"".concat(W,"Map")),K=F.type.defaultProps,z=K!==void 0?Oe(Oe({},K),F.props):F.props,Z=ce&&ce[z["".concat(W,"Id")]];return M.cloneElement(F,Oe(Oe({},Z),{},{className:Qt(W,Z.className),key:F.key||"".concat(U,"-").concat(H),ticks:Zc(Z,!0)}))}),Rt(L,"renderPolarGrid",function(F){var U=F.props,H=U.radialLines,W=U.polarAngles,ce=U.polarRadius,K=L.state,z=K.radiusAxisMap,Z=K.angleAxisMap,Q=_d(z),Y=_d(Z),J=Y.cx,re=Y.cy,ie=Y.innerRadius,se=Y.outerRadius;return M.cloneElement(F,{polarAngles:Array.isArray(W)?W:Zc(Y,!0).map(function(me){return me.coordinate}),polarRadius:Array.isArray(ce)?ce:Zc(Q,!0).map(function(me){return me.coordinate}),cx:J,cy:re,innerRadius:ie,outerRadius:se,key:F.key||"polar-grid",radialLines:H})}),Rt(L,"renderLegend",function(){var F=L.state.formattedGraphicalItems,U=L.props,H=U.children,W=U.width,ce=U.height,K=L.props.margin||{},z=W-(K.left||0)-(K.right||0),Z=JB({children:H,formattedGraphicalItems:F,legendWidth:z,legendContent:f});if(!Z)return null;var Q=Z.item,Y=Z8(Z,tge);return M.cloneElement(Q,Oe(Oe({},Y),{},{chartWidth:W,chartHeight:ce,margin:K,onBBoxUpdate:L.handleLegendBBoxUpdate}))}),Rt(L,"renderTooltip",function(){var F,U=L.props,H=U.children,W=U.accessibilityLayer,ce=As(H,_a);if(!ce)return null;var K=L.state,z=K.isTooltipActive,Z=K.activeCoordinate,Q=K.activePayload,Y=K.activeLabel,J=K.offset,re=(F=ce.props.active)!==null&&F!==void 0?F:z;return M.cloneElement(ce,{viewBox:Oe(Oe({},J),{},{x:J.left,y:J.top}),active:re,label:Y,payload:re?Q:[],coordinate:Z,accessibilityLayer:W})}),Rt(L,"renderBrush",function(F){var U=L.props,H=U.margin,W=U.data,ce=L.state,K=ce.offset,z=ce.dataStartIndex,Z=ce.dataEndIndex,Q=ce.updateId;return M.cloneElement(F,{key:F.key||"_recharts-brush",onChange:A0(L.handleBrushChange,F.props.onChange),data:W,x:Qe(F.props.x)?F.props.x:K.left,y:Qe(F.props.y)?F.props.y:K.top+K.height+K.brushBottom-(H.bottom||0),width:Qe(F.props.width)?F.props.width:K.width,startIndex:z,endIndex:Z,updateId:"brush-".concat(Q)})}),Rt(L,"renderReferenceElement",function(F,U,H){if(!F)return null;var W=L,ce=W.clipPathId,K=L.state,z=K.xAxisMap,Z=K.yAxisMap,Q=K.offset,Y=F.type.defaultProps||{},J=F.props,re=J.xAxisId,ie=re===void 0?Y.xAxisId:re,se=J.yAxisId,me=se===void 0?Y.yAxisId:se;return M.cloneElement(F,{key:F.key||"".concat(U,"-").concat(H),xAxis:z[ie],yAxis:Z[me],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:ce})}),Rt(L,"renderActivePoints",function(F){var U=F.item,H=F.activePoint,W=F.basePoint,ce=F.childIndex,K=F.isRange,z=[],Z=U.props.key,Q=U.item.type.defaultProps!==void 0?Oe(Oe({},U.item.type.defaultProps),U.item.props):U.item.props,Y=Q.activeDot,J=Q.dataKey,re=Oe(Oe({index:ce,dataKey:J,cx:H.x,cy:H.y,r:4,fill:iO(U.item),strokeWidth:2,stroke:"#fff",payload:H.payload,value:H.value},Ut(Y,!1)),yy(Y));return z.push(R.renderActiveDot(Y,re,"".concat(Z,"-activePoint-").concat(ce))),W?z.push(R.renderActiveDot(Y,Oe(Oe({},re),{},{cx:W.x,cy:W.y}),"".concat(Z,"-basePoint-").concat(ce))):K&&z.push(null),z}),Rt(L,"renderGraphicChild",function(F,U,H){var W=L.filterFormatItem(F,U,H);if(!W)return null;var ce=L.getTooltipEventType(),K=L.state,z=K.isTooltipActive,Z=K.tooltipAxis,Q=K.activeTooltipIndex,Y=K.activeLabel,J=L.props.children,re=As(J,_a),ie=W.props,se=ie.points,me=ie.isRange,ne=ie.baseLine,ue=W.item.type.defaultProps!==void 0?Oe(Oe({},W.item.type.defaultProps),W.item.props):W.item.props,be=ue.activeDot,Pe=ue.hide,rt=ue.activeBar,Ie=ue.activeShape,Re=!!(!Pe&&z&&re&&(be||rt||Ie)),Be={};ce!=="axis"&&re&&re.props.trigger==="click"?Be={onClick:A0(L.handleItemMouseEnter,F.props.onClick)}:ce!=="axis"&&(Be={onMouseLeave:A0(L.handleItemMouseLeave,F.props.onMouseLeave),onMouseEnter:A0(L.handleItemMouseEnter,F.props.onMouseEnter)});var Te=M.cloneElement(F,Oe(Oe({},W.props),Be));function $e(le){return typeof Z.dataKey=="function"?Z.dataKey(le.payload):null}if(Re)if(Q>=0){var Ve,Ce;if(Z.dataKey&&!Z.allowDuplicatedCategory){var et=typeof Z.dataKey=="function"?$e:"payload.".concat(Z.dataKey.toString());Ve=ME(se,et,Y),Ce=me&&ne&&ME(ne,et,Y)}else Ve=se?.[Q],Ce=me&&ne&&ne[Q];if(Ie||rt){var _t=F.props.activeIndex!==void 0?F.props.activeIndex:Q;return[M.cloneElement(F,Oe(Oe(Oe({},W.props),Be),{},{activeIndex:_t})),null,null]}if(!ir(Ve))return[Te].concat(Af(L.renderActivePoints({item:W,activePoint:Ve,basePoint:Ce,childIndex:Q,isRange:me})))}else{var Ne,Ke=(Ne=L.getItemByXY(L.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:Te},ot=Ke.graphicalItem,Ze=ot.item,dt=Ze===void 0?F:Ze,Bt=ot.childIndex,Fe=Oe(Oe(Oe({},W.props),Be),{},{activeIndex:Bt});return[M.cloneElement(dt,Fe),null,null]}return me?[Te,null,null]:[Te,null]}),Rt(L,"renderCustomized",function(F,U,H){return M.cloneElement(F,Oe(Oe({key:"recharts-customized-".concat(H)},L.props),L.state))}),Rt(L,"renderMap",{CartesianGrid:{handler:I0,once:!0},ReferenceArea:{handler:L.renderReferenceElement},ReferenceLine:{handler:I0},ReferenceDot:{handler:L.renderReferenceElement},XAxis:{handler:I0},YAxis:{handler:I0},Brush:{handler:L.renderBrush,once:!0},Bar:{handler:L.renderGraphicChild},Line:{handler:L.renderGraphicChild},Area:{handler:L.renderGraphicChild},Radar:{handler:L.renderGraphicChild},RadialBar:{handler:L.renderGraphicChild},Scatter:{handler:L.renderGraphicChild},Pie:{handler:L.renderGraphicChild},Funnel:{handler:L.renderGraphicChild},Tooltip:{handler:L.renderCursor,once:!0},PolarGrid:{handler:L.renderPolarGrid,once:!0},PolarAngleAxis:{handler:L.renderPolarAxis},PolarRadiusAxis:{handler:L.renderPolarAxis},Customized:{handler:L.renderCustomized}}),L.clipPathId="".concat((I=P.id)!==null&&I!==void 0?I:Wm("recharts"),"-clip"),L.throttleTriggeredAfterMouseMove=Z7(L.triggeredAfterMouseMove,(D=P.throttleDelay)!==null&&D!==void 0?D:1e3/60),L.state={},L}return hge(R,A),cge(R,[{key:"componentDidMount",value:function(){var I,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,D=I.children,L=I.data,F=I.height,U=I.layout,H=As(D,_a);if(H){var W=H.props.defaultIndex;if(!(typeof W!="number"||W<0||W>this.state.tooltipTicks.length-1)){var ce=this.state.tooltipTicks[W]&&this.state.tooltipTicks[W].value,K=eC(this.state,L,W,ce),z=this.state.tooltipTicks[W].coordinate,Z=(this.state.offset.top+F)/2,Q=U==="horizontal",Y=Q?{x:z,y:Z}:{y:z,x:Z},J=this.state.formattedGraphicalItems.find(function(ie){var se=ie.item;return se.type.name==="Scatter"});J&&(Y=Oe(Oe({},Y),J.props.points[W].tooltipPosition),K=J.props.points[W].tooltipPayload);var re={activeTooltipIndex:W,isTooltipActive:!0,activeLabel:ce,activePayload:K,activeCoordinate:Y};this.setState(re),this.renderCursor(H),this.accessibilityManager.setIndex(W)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var L,F;this.accessibilityManager.setDetails({offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(F=this.props.margin.top)!==null&&F!==void 0?F:0}})}return null}},{key:"componentDidUpdate",value:function(I){LE([As(I.children,_a)],[As(this.props.children,_a)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=As(this.props.children,_a);if(I&&typeof I.props.shared=="boolean"){var D=I.props.shared?"axis":"item";return u.indexOf(D)>=0?D:s}return s}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var D=this.container,L=D.getBoundingClientRect(),F=hie(L),U={chartX:Math.round(I.pageX-F.left),chartY:Math.round(I.pageY-F.top)},H=L.width/D.offsetWidth||1,W=this.inRange(U.chartX,U.chartY,H);if(!W)return null;var ce=this.state,K=ce.xAxisMap,z=ce.yAxisMap,Z=this.getTooltipEventType(),Q=J8(this.state,this.props.data,this.props.layout,W);if(Z!=="axis"&&K&&z){var Y=_d(K).scale,J=_d(z).scale,re=Y&&Y.invert?Y.invert(U.chartX):null,ie=J&&J.invert?J.invert(U.chartY):null;return Oe(Oe({},U),{},{xValue:re,yValue:ie},Q)}return Q?Oe(Oe({},U),Q):null}},{key:"inRange",value:function(I,D){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,F=this.props.layout,U=I/L,H=D/L;if(F==="horizontal"||F==="vertical"){var W=this.state.offset,ce=U>=W.left&&U<=W.left+W.width&&H>=W.top&&H<=W.top+W.height;return ce?{x:U,y:H}:null}var K=this.state,z=K.angleAxisMap,Z=K.radiusAxisMap;if(z&&Z){var Q=_d(z);return aM({x:U,y:H},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,D=this.getTooltipEventType(),L=As(I,_a),F={};L&&D==="axis"&&(L.props.trigger==="click"?F={onClick:this.handleClick}:F={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var U=yy(this.props,this.handleOuterEvent);return Oe(Oe({},U),F)}},{key:"addListener",value:function(){BS.on(FS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){BS.removeListener(FS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,D,L){for(var F=this.state.formattedGraphicalItems,U=0,H=F.length;U<H;U++){var W=F[U];if(W.item===I||W.props.key===I.key||D===Uo(W.item.type)&&L===W.childIndex)return W}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,D=this.state.offset,L=D.left,F=D.top,U=D.height,H=D.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:I},oe.createElement("rect",{x:L,y:F,height:U,width:H})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(D,L){var F=Y8(L,2),U=F[0],H=F[1];return Oe(Oe({},D),{},Rt({},U,H.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(D,L){var F=Y8(L,2),U=F[0],H=F[1];return Oe(Oe({},D),{},Rt({},U,H.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[I])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(I){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[I])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(I){var D=this.state,L=D.formattedGraphicalItems,F=D.activeItem;if(L&&L.length)for(var U=0,H=L.length;U<H;U++){var W=L[U],ce=W.props,K=W.item,z=K.type.defaultProps!==void 0?Oe(Oe({},K.type.defaultProps),K.props):K.props,Z=Uo(K.type);if(Z==="Bar"){var Q=(ce.data||[]).find(function(ie){return Ide(I,ie)});if(Q)return{graphicalItem:W,payload:Q}}else if(Z==="RadialBar"){var Y=(ce.data||[]).find(function(ie){return aM(I,ie)});if(Y)return{graphicalItem:W,payload:Y}}else if(bv(W,F)||_v(W,F)||Em(W,F)){var J=Jfe({graphicalItem:W,activeTooltipItem:F,itemData:z.data}),re=z.activeIndex===void 0?J:z.activeIndex;return{graphicalItem:Oe(Oe({},W),{},{childIndex:re}),payload:Em(W,F)?z.data[J]:W.props.data[J]}}}return null}},{key:"render",value:function(){var I=this;if(!vR(this))return null;var D=this.props,L=D.children,F=D.className,U=D.width,H=D.height,W=D.style,ce=D.compact,K=D.title,z=D.desc,Z=Z8(D,rge),Q=Ut(Z,!1);if(ce)return oe.createElement(D8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(FE,Nd({},Q,{width:U,height:H,title:K,desc:z}),this.renderClipPath(),wR(L,this.renderMap)));if(this.props.accessibilityLayer){var Y,J;Q.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,Q.role=(J=this.props.role)!==null&&J!==void 0?J:"application",Q.onKeyDown=function(ie){I.accessibilityManager.keyboardEvent(ie)},Q.onFocus=function(){I.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return oe.createElement(D8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",Nd({className:Qt("recharts-wrapper",F),style:Oe({position:"relative",cursor:"default",width:U,height:H},W)},re,{ref:function(se){I.container=se}}),oe.createElement(FE,Nd({},Q,{width:U,height:H,title:K,desc:z,style:xge}),this.renderClipPath(),wR(L,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);Rt(O,"displayName",r),Rt(O,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),Rt(O,"getDerivedStateFromProps",function(A,R){var P=A.dataKey,I=A.data,D=A.children,L=A.width,F=A.height,U=A.layout,H=A.stackOffset,W=A.margin,ce=R.dataStartIndex,K=R.dataEndIndex;if(R.updateId===void 0){var z=eD(A);return Oe(Oe(Oe({},z),{},{updateId:0},T(Oe(Oe({props:A},z),{},{updateId:0}),R)),{},{prevDataKey:P,prevData:I,prevWidth:L,prevHeight:F,prevLayout:U,prevStackOffset:H,prevMargin:W,prevChildren:D})}if(P!==R.prevDataKey||I!==R.prevData||L!==R.prevWidth||F!==R.prevHeight||U!==R.prevLayout||H!==R.prevStackOffset||!Bd(W,R.prevMargin)){var Z=eD(A),Q={chartX:R.chartX,chartY:R.chartY,isTooltipActive:R.isTooltipActive},Y=Oe(Oe({},J8(R,I,U)),{},{updateId:R.updateId+1}),J=Oe(Oe(Oe({},Z),Q),Y);return Oe(Oe(Oe({},J),T(Oe({props:A},J),R)),{},{prevDataKey:P,prevData:I,prevWidth:L,prevHeight:F,prevLayout:U,prevStackOffset:H,prevMargin:W,prevChildren:D})}if(!LE(D,R.prevChildren)){var re,ie,se,me,ne=As(D,gf),ue=ne&&(re=(ie=ne.props)===null||ie===void 0?void 0:ie.startIndex)!==null&&re!==void 0?re:ce,be=ne&&(se=(me=ne.props)===null||me===void 0?void 0:me.endIndex)!==null&&se!==void 0?se:K,Pe=ue!==ce||be!==K,rt=!ir(I),Ie=rt&&!Pe?R.updateId:R.updateId+1;return Oe(Oe({updateId:Ie},T(Oe(Oe({props:A},R),{},{updateId:Ie,dataStartIndex:ue,dataEndIndex:be}),R)),{},{prevChildren:D,dataStartIndex:ue,dataEndIndex:be})}return null}),Rt(O,"renderActiveDot",function(A,R,P){var I;return M.isValidElement(A)?I=M.cloneElement(A,R):Ht(A)?I=A(R):I=oe.createElement(aO,R),oe.createElement(Nr,{className:"recharts-active-dot",key:P},I)});var E=M.forwardRef(function(R,P){return oe.createElement(O,Nd({},R,{ref:P}))});return E.displayName=O.displayName,E},Nge=g9({chartName:"BarChart",GraphicalChild:Cu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Nv},{axisType:"yAxis",AxisComp:Iv}],formatAxisMap:npe}),Ige=g9({chartName:"PieChart",GraphicalChild:nl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:wv},{axisType:"radiusAxis",AxisComp:vv}],formatAxisMap:Wle,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Fi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const y9=6048e5,Pge=864e5,v9=6e4,x9=36e5;let Rge={};function Rv(){return Rge}function Pm(t,e){const r=Rv(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Fi(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function f1(t){return Pm(t,{weekStartsOn:1})}function w9(t){const e=Fi(t),r=e.getFullYear(),n=pu(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=f1(n),s=pu(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=f1(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function rD(t){const e=Fi(t);return e.setHours(0,0,0,0),e}function nD(t){const e=Fi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function jge(t,e){const r=rD(t),n=rD(e),i=+r-nD(r),s=+n-nD(n);return Math.round((i-s)/Pge)}function kge(t){const e=w9(t),r=pu(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),f1(r)}function Mge(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Dge(t){if(!Mge(t)&&typeof t!="number")return!1;const e=Fi(t);return!isNaN(Number(e))}function b9(t){const e=Fi(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function _9(t){const e=Fi(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Lge(t){const e=Fi(t),r=pu(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Bge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fge=(t,e,r)=>{let n;const i=Bge[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function $S(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Uge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$ge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qge={date:$S({formats:Uge,defaultWidth:"full"}),time:$S({formats:$ge,defaultWidth:"full"}),dateTime:$S({formats:Vge,defaultWidth:"full"})},zge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wge=(t,e,r,n)=>zge[t];function rp(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=r?.width?String(r.width):o;i=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=r?.width?String(r.width):t.defaultWidth;i=t.values[u]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Hge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qge=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Jge={ordinalNumber:Qge,era:rp({values:Hge,defaultWidth:"wide"}),quarter:rp({values:Gge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:rp({values:Kge,defaultWidth:"wide"}),day:rp({values:Xge,defaultWidth:"wide"}),dayPeriod:rp({values:Yge,defaultWidth:"wide",formattingValues:Zge,defaultFormattingWidth:"wide"})};function np(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?t0e(u,x=>x.test(o)):e0e(u,x=>x.test(o));let f;f=t.valueCallback?t.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const g=e.slice(o.length);return{value:f,rest:g}}}function e0e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function t0e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function r0e(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const u=e.slice(i.length);return{value:o,rest:u}}}const n0e=/^(\d+)(th|st|nd|rd)?/i,i0e=/\d+/i,s0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a0e={any:[/^b/i,/^(a|c)/i]},o0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l0e={any:[/1/i,/2/i,/3/i,/4/i]},c0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},u0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},d0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m0e={ordinalNumber:r0e({matchPattern:n0e,parsePattern:i0e,valueCallback:t=>parseInt(t,10)}),era:np({matchPatterns:s0e,defaultMatchWidth:"wide",parsePatterns:a0e,defaultParseWidth:"any"}),quarter:np({matchPatterns:o0e,defaultMatchWidth:"wide",parsePatterns:l0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:np({matchPatterns:c0e,defaultMatchWidth:"wide",parsePatterns:u0e,defaultParseWidth:"any"}),day:np({matchPatterns:d0e,defaultMatchWidth:"wide",parsePatterns:f0e,defaultParseWidth:"any"}),dayPeriod:np({matchPatterns:h0e,defaultMatchWidth:"any",parsePatterns:p0e,defaultParseWidth:"any"})},g0e={code:"en-US",formatDistance:Fge,formatLong:qge,formatRelative:Wge,localize:Jge,match:m0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y0e(t){const e=Fi(t);return jge(e,Lge(e))+1}function v0e(t){const e=Fi(t),r=+f1(e)-+kge(e);return Math.round(r/y9)+1}function S9(t,e){const r=Fi(t),n=r.getFullYear(),i=Rv(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=pu(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const u=Pm(o,e),d=pu(t,0);d.setFullYear(n,0,s),d.setHours(0,0,0,0);const f=Pm(d,e);return r.getTime()>=u.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function x0e(t,e){const r=Rv(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=S9(t,e),s=pu(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Pm(s,e)}function w0e(t,e){const r=Fi(t),n=+Pm(r,e)-+x0e(r,e);return Math.round(n/y9)+1}function Or(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const kl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Or(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Or(r+1,2)},d(t,e){return Or(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Or(t.getHours()%12||12,e.length)},H(t,e){return Or(t.getHours(),e.length)},m(t,e){return Or(t.getMinutes(),e.length)},s(t,e){return Or(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Or(i,e.length)}},hd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iD={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return kl.y(t,e)},Y:function(t,e,r,n){const i=S9(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Or(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Or(s,e.length)},R:function(t,e){const r=w9(t);return Or(r,e.length)},u:function(t,e){const r=t.getFullYear();return Or(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Or(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Or(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return kl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Or(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=w0e(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Or(i,e.length)},I:function(t,e,r){const n=v0e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Or(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):kl.d(t,e)},D:function(t,e,r){const n=y0e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Or(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Or(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Or(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Or(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=hd.noon:n===0?i=hd.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=hd.evening:n>=12?i=hd.afternoon:n>=4?i=hd.morning:i=hd.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return kl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):kl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Or(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Or(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):kl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):kl.s(t,e)},S:function(t,e){return kl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return aD(n);case"XXXX":case"XX":return Vc(n);default:return Vc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return aD(n);case"xxxx":case"xx":return Vc(n);default:return Vc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sD(n,":");default:return"GMT"+Vc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sD(n,":");default:return"GMT"+Vc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Or(n,e.length)},T:function(t,e,r){const n=t.getTime();return Or(n,e.length)}};function sD(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Or(s,2)}function aD(t,e){return t%60===0?(t>0?"-":"+")+Or(Math.abs(t)/60,2):Vc(t,e)}function Vc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Or(Math.trunc(n/60),2),s=Or(n%60,2);return r+i+e+s}const oD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},E9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},b0e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return oD(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",oD(n,e)).replace("{{time}}",E9(i,e))},_0e={p:E9,P:b0e},S0e=/^D+$/,E0e=/^Y+$/,A0e=["D","DD","YY","YYYY"];function C0e(t){return S0e.test(t)}function T0e(t){return E0e.test(t)}function O0e(t,e,r){const n=N0e(t,e,r);if(console.warn(n),A0e.includes(t))throw new RangeError(n)}function N0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const I0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,P0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R0e=/^'([^]*?)'?$/,j0e=/''/g,k0e=/[a-zA-Z]/;function gn(t,e,r){const n=Rv(),i=n.locale??g0e,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Fi(t);if(!Dge(u))throw new RangeError("Invalid time value");let d=e.match(P0e).map(g=>{const x=g[0];if(x==="p"||x==="P"){const _=_0e[x];return _(g,i.formatLong)}return g}).join("").match(I0e).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:M0e(g)};if(iD[x])return{isToken:!0,value:g};if(x.match(k0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return d.map(g=>{if(!g.isToken)return g.value;const x=g.value;(T0e(x)||C0e(x))&&O0e(x,e,String(t));const _=iD[x[0]];return _(u,x,i.localize,f)}).join("")}function M0e(t){const e=t.match(R0e);return e?e[1].replace(j0e,"'"):t}function A9(t,e){const r=+Fi(t),[n,i]=[+Fi(e.start),+Fi(e.end)].sort((s,o)=>s-o);return r>=n&&r<=i}function Oa(t,e){const n=F0e(t);let i;if(n.date){const d=U0e(n.date,2);i=$0e(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,u;if(n.time&&(o=V0e(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(u=q0e(n.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(s+o),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+o+u)}const P0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},D0e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,L0e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,B0e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function F0e(t){const e={},r=t.split(P0.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],P0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(P0.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=P0.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function U0e(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function $0e(t,e){if(e===null)return new Date(NaN);const r=t.match(D0e);if(!r)return new Date(NaN);const n=!!r[4],i=ip(r[1]),s=ip(r[2])-1,o=ip(r[3]),u=ip(r[4]),d=ip(r[5])-1;if(n)return K0e(e,u,d)?z0e(e,u,d):new Date(NaN);{const f=new Date(0);return!H0e(e,s,o)||!G0e(e,i)?new Date(NaN):(f.setUTCFullYear(e,s,Math.max(i,o)),f)}}function ip(t){return t?parseInt(t):1}function V0e(t){const e=t.match(L0e);if(!e)return NaN;const r=VS(e[1]),n=VS(e[2]),i=VS(e[3]);return X0e(r,n,i)?r*x9+n*v9+i*1e3:NaN}function VS(t){return t&&parseFloat(t.replace(",","."))||0}function q0e(t){if(t==="Z")return 0;const e=t.match(B0e);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Y0e(n,i)?r*(n*x9+i*v9):NaN}function z0e(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const W0e=[31,null,31,30,31,30,31,31,30,31,30,31];function C9(t){return t%400===0||t%4===0&&t%100!==0}function H0e(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(W0e[e]||(C9(t)?29:28))}function G0e(t,e){return e>=1&&e<=(C9(t)?366:365)}function K0e(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function X0e(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Y0e(t,e){return e>=0&&e<=59}function Z0e(){const{user:t}=$i();return t?m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:"Dashboard"}),m.jsxs("p",{className:"text-muted-foreground mt-2",children:["Welcome back, ",t.fullName,". Here's what's happening today."]})]}),t.role==="student"&&m.jsx(Q0e,{}),t.role==="teacher"&&m.jsx(J0e,{}),t.role==="superadmin"&&m.jsx(eye,{})]}):null}function ra({title:t,value:e,icon:r,description:n,trend:i}){return m.jsxs(zt,{className:"shadow-sm border-border hover:shadow-md transition-shadow duration-200 overflow-hidden",children:[m.jsxs(Qr,{className:"flex flex-row items-center justify-between space-y-0 pb-1 sm:pb-2 p-3 sm:p-6",children:[m.jsx(Jr,{className:"text-[10px] sm:text-sm font-medium text-muted-foreground",children:t}),m.jsx(r,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),m.jsxs(Xt,{className:"p-3 sm:p-6 pt-0",children:[m.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:e}),n&&m.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5 sm:mt-1 truncate",children:[i&&m.jsx("span",{className:"text-green-600 font-medium mr-1",children:i}),n]})]})]})}function Q0e(){const{user:t}=$i(),{data:e}=cT({studentId:t?.id}),{data:r}=dT(t?.id),n=e?.length||0,i=e?.filter(g=>g.status?.toLowerCase()==="present").length||0,s=e?.filter(g=>g.status?.toLowerCase()==="late").length||0,o=e?.filter(g=>g.status?.toLowerCase()==="absent").length||0,u=e?.filter(g=>g.status?.toLowerCase()==="excused").length||0,d=n>0?((i+s)/n*100).toFixed(1):"0.0",f=[{name:"Present",value:i,color:"#22c55e"},{name:"Late",value:s,color:"#f97316"},{name:"Absent",value:o,color:"#ef4444"},{name:"Excused",value:u,color:"#3b82f6"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[m.jsx(ra,{title:"Attendance Rate",value:`${d}%`,icon:PC,description:"Overall participation",trend:parseFloat(d)>=85?"Excellent":"Needs Attention"}),m.jsx(ra,{title:"Active Subjects",value:r?.length||0,icon:Ra,description:"Currently enrolled"}),m.jsx(ra,{title:"Absences",value:o,icon:no,description:"Total unexcused"}),m.jsx(ra,{title:"Classes Attended",value:i,icon:Fo,description:"Total sessions"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[m.jsxs(zt,{className:"md:col-span-2 shadow-sm",children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Recent Attendance"}),m.jsx(Rn,{children:"Your latest class records"})]}),m.jsx(Xt,{children:m.jsxs("div",{className:"space-y-4",children:[e?.slice(0,5).map(g=>m.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg border border-gray-100 gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[m.jsx("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full bg-white border border-gray-200 flex items-center justify-center flex-shrink-0",children:m.jsx(Ra,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-medium text-xs sm:text-sm text-gray-900 truncate",children:g.subjectName||"Subject"}),m.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:gn(new Date(g.date),"MMMM d, yyyy")})]})]}),m.jsx(CJ,{status:g.status})]},g.id)),(!e||e.length===0)&&m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No attendance records found"})]})})]}),m.jsxs(zt,{className:"shadow-sm",children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Overview"}),m.jsx(Rn,{children:"Status breakdown"})]}),m.jsx(Xt,{className:"h-[280px] sm:h-[300px]",children:n>0?m.jsxs(m.Fragment,{children:[m.jsx(Q7,{width:"100%",height:"80%",children:m.jsxs(Ige,{children:[m.jsx(nl,{data:f.filter(g=>g.value>0),cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,dataKey:"value",label:({name:g,value:x,percent:_})=>`${x} (${(_*100).toFixed(0)}%)`,labelLine:!1,children:f.filter(g=>g.value>0).map((g,x)=>m.jsx(nv,{fill:g.color},`cell-${x}`))}),m.jsx(_a,{formatter:(g,x)=>[`${g} classes`,x]})]})}),m.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 text-[10px] sm:text-xs text-muted-foreground",children:f.map(g=>m.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[m.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full",style:{backgroundColor:g.color}}),m.jsxs("span",{children:[g.name,": ",g.value]})]},g.name))})]}):m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground",children:[m.jsx(Fo,{className:"w-12 h-12 mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No attendance data yet"}),m.jsx("p",{className:"text-xs",children:"Your records will appear here"})]})})]})]})]})}function J0e(){const{user:t}=$i(),{data:e}=qf(),{data:r}=ZL(),[,n]=vu(),{data:i}=La({queryKey:["teacher-stats",t?.id],queryFn:async()=>{if(!t?.id)return{totalStudents:0};const{data:O}=await St.from("subjects").select("id").eq("teacher_id",t.id);if(!O||O.length===0)return{totalStudents:0};const E=O.map(P=>P.id),{data:A}=await St.from("enrollments").select("student_id").in("subject_id",E);return{totalStudents:new Set(A?.map(P=>P.student_id)||[]).size}},enabled:!!t?.id}),s=i?.totalStudents||0,o="88%",u=r?.reduce((O,E)=>{const A=E.subjectId;return O[A]||(O[A]={subjectName:E.subjectName,subjectCode:E.subjectCode,schedules:[]}),O[A].schedules.push({dayOfWeek:E.dayOfWeek,startTime:E.startTime,endTime:E.endTime,room:E.room}),O},{})||{},d=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],f={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"},g=O=>{const E=O.reduce((A,R)=>{const P=`${R.startTime}-${R.endTime}-${R.room}`;return A[P]||(A[P]={days:[],startTime:R.startTime,endTime:R.endTime,room:R.room}),A[P].days.push(R.dayOfWeek),A},{});return Object.values(E).map(A=>({...A,days:A.days.sort((R,P)=>d.indexOf(R)-d.indexOf(P))}))},x=O=>{const[E,A]=O.split(":"),R=parseInt(E),P=R>=12?"PM":"AM";return`${R%12||12}:${A} ${P}`},_=new Date().toLocaleDateString("en-US",{weekday:"long"}),T=r?.filter(O=>O.dayOfWeek===_).sort((O,E)=>O.startTime.localeCompare(E.startTime))||[];return m.jsxs("div",{className:"space-y-6 overflow-x-hidden",children:[m.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[m.jsx(ra,{title:"Total Classes",value:e?.length||0,icon:Ra,description:"Active subjects"}),m.jsx(ra,{title:"Total Students",value:s,icon:Qo,description:"Across all sections"}),m.jsx(ra,{title:"Avg. Attendance",value:o,icon:PC,description:"This semester"}),m.jsx(ra,{title:"Classes Today",value:T.length,icon:Wl,description:_})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 sm:gap-6",children:[m.jsxs(zt,{className:"shadow-sm overflow-hidden",children:[m.jsxs(Qr,{className:"pb-3 px-3 sm:px-6",children:[m.jsxs(Jr,{className:"flex items-center gap-2 text-base sm:text-lg",children:[m.jsx(Fo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Class Schedule"]}),m.jsx(Rn,{className:"text-xs sm:text-sm",children:"Your daily and weekly class schedule"})]}),m.jsx(Xt,{className:"px-3 sm:px-6",children:m.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 sm:mb-3 flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),"Today's Classes (",_,")"]}),T.length>0?m.jsx("div",{className:"space-y-2",children:T.map((O,E)=>m.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-primary/5 rounded-lg border border-primary/20 gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[m.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 text-primary flex items-center justify-center flex-shrink-0",children:m.jsx(Ra,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h4",{className:"font-medium text-gray-900 text-xs sm:text-sm truncate",children:O.subjectName}),m.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:O.subjectCode})]})]}),m.jsxs("div",{className:"text-right flex-shrink-0",children:[m.jsx("div",{className:"text-[10px] sm:text-sm font-medium text-gray-900 whitespace-nowrap",children:x(O.startTime)}),m.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-muted-foreground justify-end",children:[m.jsx(dE,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),m.jsx("span",{className:"truncate max-w-[50px] sm:max-w-none",children:O.room})]})]})]},E))}):m.jsx("div",{className:"text-center py-3 sm:py-4 text-muted-foreground bg-gray-50 rounded-lg border border-dashed text-xs sm:text-sm",children:"No classes scheduled for today"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Weekly Schedule"}),m.jsx("div",{className:"space-y-2 sm:space-y-3",children:Object.values(u).length>0?Object.values(u).map((O,E)=>m.jsxs("div",{className:"p-2 sm:p-3 bg-gray-50 rounded-lg border border-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-2 mb-2 flex-wrap",children:[m.jsx("h4",{className:"font-medium text-gray-900 text-xs sm:text-sm break-words",children:O.subjectName}),m.jsx("span",{className:"text-[10px] sm:text-xs font-mono bg-primary/10 text-primary px-1 sm:px-1.5 py-0.5 rounded flex-shrink-0",children:O.subjectCode})]}),m.jsx("div",{className:"space-y-1 sm:space-y-1.5",children:g(O.schedules).map((A,R)=>m.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-1 sm:gap-x-3 sm:gap-y-1 text-[10px] sm:text-xs bg-white p-1.5 sm:p-2 rounded border border-gray-100",children:[m.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[m.jsx(Wl,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-muted-foreground flex-shrink-0"}),m.jsx("span",{className:"font-medium text-gray-700",children:A.days.length>1?A.days.map(P=>f[P]).join(", "):f[A.days[0]]||A.days[0]}),m.jsxs("span",{className:"text-muted-foreground",children:[x(A.startTime)," - ",x(A.endTime)]})]}),m.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground ml-4 sm:ml-0",children:[m.jsx(dE,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),m.jsx("span",{children:A.room})]})]},R))})]},E)):m.jsx("div",{className:"text-center py-3 sm:py-4 text-muted-foreground bg-gray-50 rounded-lg border border-dashed text-xs sm:text-sm",children:"No schedules set up yet"})})]})]})})]}),m.jsxs(zt,{className:"shadow-sm overflow-hidden",children:[m.jsxs(Qr,{className:"pb-3 px-3 sm:px-6",children:[m.jsx(Jr,{className:"text-base sm:text-lg",children:"My Classes"}),m.jsx(Rn,{className:"text-xs sm:text-sm",children:"Manage your subjects and students"})]}),m.jsx(Xt,{className:"px-3 sm:px-6",children:m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e?.map(O=>m.jsxs("div",{className:"p-2.5 sm:p-4 rounded-lg sm:rounded-xl border bg-card hover:border-primary/50 transition-colors group cursor-pointer",onClick:()=>n(`/subjects?viewStudents=${O.id}`),children:[m.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1.5 sm:mb-2",children:[m.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 text-primary flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors flex-shrink-0",children:m.jsx(Ra,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),m.jsx("span",{className:"text-[10px] sm:text-xs font-mono bg-gray-100 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-gray-600",children:O.code})]}),m.jsx("h3",{className:"font-semibold text-xs sm:text-base mb-0.5 sm:mb-1 truncate",children:O.name}),m.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground line-clamp-1",children:O.description||"No description provided."}),m.jsxs("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t flex justify-between items-center text-[10px] sm:text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"View Students"}),m.jsx("span",{className:"text-primary font-medium group-hover:underline",children:"View "})]})]},O.id)),(!e||e.length===0)&&m.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground bg-gray-50 rounded-xl border border-dashed text-xs sm:text-sm",children:"No classes assigned yet."})]})})]})]})]})}function eye(){const{settings:t}=Vf();return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[m.jsx(ra,{title:"Total Users",value:"1,234",icon:Qo,description:"+12 this week"}),m.jsx(ra,{title:"Active Classes",value:"48",icon:Ra,description:"Currently in session"}),m.jsx(ra,{title:"System Health",value:"98%",icon:PC,description:"Operational"}),m.jsx(ra,{title:"Reports Generated",value:"156",icon:Fo,description:"Last 30 days"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs(zt,{children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Attendance Trends"}),m.jsx(Rn,{children:"Weekly overview"})]}),m.jsx(Xt,{className:"h-[300px]",children:m.jsx(Q7,{width:"100%",height:"100%",children:m.jsxs(Nge,{data:[{day:"Mon",attendance:85},{day:"Tue",attendance:92},{day:"Wed",attendance:88},{day:"Thu",attendance:90},{day:"Fri",attendance:82}],children:[m.jsx(Nv,{dataKey:"day"}),m.jsx(Iv,{}),m.jsx(_a,{}),m.jsx(Cu,{dataKey:"attendance",fill:t.primaryColor,radius:[4,4,0,0]})]})})})]}),m.jsxs(zt,{children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Recent Activity"}),m.jsx(Rn,{children:"System logs"})]}),m.jsx(Xt,{children:m.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>m.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),m.jsxs("p",{className:"flex-1 text-gray-600",children:[m.jsx("span",{className:"font-medium text-gray-900",children:"System"})," backup completed successfully."]}),m.jsx("span",{className:"text-muted-foreground text-xs",children:"2h ago"})]},e))})})]})]})]})}var qS="focusScope.autoFocusOnMount",zS="focusScope.autoFocusOnUnmount",lD={bubbles:!1,cancelable:!0},tye="FocusScope",jv=M.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[u,d]=M.useState(null),f=Oi(i),g=Oi(s),x=M.useRef(null),_=mr(e,E=>d(E)),T=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let E=function(I){if(T.paused||!u)return;const D=I.target;u.contains(D)?x.current=D:Ml(x.current,{select:!0})},A=function(I){if(T.paused||!u)return;const D=I.relatedTarget;D!==null&&(u.contains(D)||Ml(x.current,{select:!0}))},R=function(I){if(document.activeElement===document.body)for(const L of I)L.removedNodes.length>0&&Ml(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",A);const P=new MutationObserver(R);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",A),P.disconnect()}}},[n,u,T.paused]),M.useEffect(()=>{if(u){uD.add(T);const E=document.activeElement;if(!u.contains(E)){const R=new CustomEvent(qS,lD);u.addEventListener(qS,f),u.dispatchEvent(R),R.defaultPrevented||(rye(oye(T9(u)),{select:!0}),document.activeElement===E&&Ml(u))}return()=>{u.removeEventListener(qS,f),setTimeout(()=>{const R=new CustomEvent(zS,lD);u.addEventListener(zS,g),u.dispatchEvent(R),R.defaultPrevented||Ml(E??document.body,{select:!0}),u.removeEventListener(zS,g),uD.remove(T)},0)}}},[u,f,g,T]);const O=M.useCallback(E=>{if(!r&&!n||T.paused)return;const A=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,R=document.activeElement;if(A&&R){const P=E.currentTarget,[I,D]=nye(P);I&&D?!E.shiftKey&&R===D?(E.preventDefault(),r&&Ml(I,{select:!0})):E.shiftKey&&R===I&&(E.preventDefault(),r&&Ml(D,{select:!0})):R===P&&E.preventDefault()}},[r,n,T.paused]);return m.jsx(Pt.div,{tabIndex:-1,...o,ref:_,onKeyDown:O})});jv.displayName=tye;function rye(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ml(n,{select:e}),document.activeElement!==r)return}function nye(t){const e=T9(t),r=cD(e,t),n=cD(e.reverse(),t);return[r,n]}function T9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function cD(t,e){for(const r of t)if(!iye(r,{upTo:e}))return r}function iye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sye(t){return t instanceof HTMLInputElement&&"select"in t}function Ml(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&sye(t)&&e&&t.select()}}var uD=aye();function aye(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=dD(t,e),t.unshift(e)},remove(e){t=dD(t,e),t[0]?.resume()}}}function dD(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function oye(t){return t.filter(e=>e.tagName!=="A")}var WS=0;function dO(){M.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fD()),document.body.insertAdjacentElement("beforeend",t[1]??fD()),WS++,()=>{WS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),WS--}},[])}function fD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var V0="right-scroll-bar-position",q0="width-before-scroll-bar",lye="with-scroll-bars-hidden",cye="--removed-body-scroll-bar-size";function HS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uye(t,e){var r=M.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var dye=typeof window<"u"?M.useLayoutEffect:M.useEffect,hD=new WeakMap;function fye(t,e){var r=uye(null,function(n){return t.forEach(function(i){return HS(i,n)})});return dye(function(){var n=hD.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(u){s.has(u)||HS(u,null)}),s.forEach(function(u){i.has(u)||HS(u,o)})}hD.set(r,t)},[t]),r}function hye(t){return t}function pye(t,e){e===void 0&&(e=hye);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(u){return u!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var u=r;r=[],u.forEach(s),o=r}var d=function(){var g=o;o=[],g.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(g){o.push(g),f()},filter:function(g){return o=o.filter(g),r}}}};return i}function mye(t){t===void 0&&(t={});var e=pye(null);return e.options=Xa({async:!0,ssr:!1},t),e}var O9=function(t){var e=t.sideCar,r=$f(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,Xa({},r))};O9.isSideCarExport=!0;function gye(t,e){return t.useMedium(e),O9}var N9=mye(),GS=function(){},kv=M.forwardRef(function(t,e){var r=M.useRef(null),n=M.useState({onScrollCapture:GS,onWheelCapture:GS,onTouchMoveCapture:GS}),i=n[0],s=n[1],o=t.forwardProps,u=t.children,d=t.className,f=t.removeScrollBar,g=t.enabled,x=t.shards,_=t.sideCar,T=t.noIsolation,O=t.inert,E=t.allowPinchZoom,A=t.as,R=A===void 0?"div":A,P=t.gapMode,I=$f(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=_,L=fye([r,e]),F=Xa(Xa({},I),i);return M.createElement(M.Fragment,null,g&&M.createElement(D,{sideCar:N9,removeScrollBar:f,shards:x,noIsolation:T,inert:O,setCallbacks:s,allowPinchZoom:!!E,lockRef:r,gapMode:P}),o?M.cloneElement(M.Children.only(u),Xa(Xa({},F),{ref:L})):M.createElement(R,Xa({},F,{className:d,ref:L}),u))});kv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kv.classNames={fullWidth:q0,zeroRight:V0};var yye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vye(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yye();return e&&t.setAttribute("nonce",e),t}function xye(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function wye(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bye=function(){var t=0,e=null;return{add:function(r){t==0&&(e=vye())&&(xye(e,r),wye(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_ye=function(){var t=bye();return function(e,r){M.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},I9=function(){var t=_ye(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Sye={left:0,top:0,right:0,gap:0},KS=function(t){return parseInt(t||"",10)||0},Eye=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[KS(r),KS(n),KS(i)]},Aye=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Sye;var e=Eye(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Cye=I9(),Vd="data-scroll-locked",Tye=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(lye,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Vd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(V0,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(q0,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(V0," .").concat(V0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(q0," .").concat(q0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vd,`] {
    `).concat(cye,": ").concat(u,`px;
  }
`)},pD=function(){var t=parseInt(document.body.getAttribute(Vd)||"0",10);return isFinite(t)?t:0},Oye=function(){M.useEffect(function(){return document.body.setAttribute(Vd,(pD()+1).toString()),function(){var t=pD()-1;t<=0?document.body.removeAttribute(Vd):document.body.setAttribute(Vd,t.toString())}},[])},Nye=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Oye();var s=M.useMemo(function(){return Aye(i)},[i]);return M.createElement(Cye,{styles:Tye(s,!e,i,r?"":"!important")})},tC=!1;if(typeof window<"u")try{var R0=Object.defineProperty({},"passive",{get:function(){return tC=!0,!0}});window.addEventListener("test",R0,R0),window.removeEventListener("test",R0,R0)}catch{tC=!1}var pd=tC?{passive:!1}:!1,Iye=function(t){return t.tagName==="TEXTAREA"},P9=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Iye(t)&&r[e]==="visible")},Pye=function(t){return P9(t,"overflowY")},Rye=function(t){return P9(t,"overflowX")},mD=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=R9(t,n);if(i){var s=j9(t,n),o=s[1],u=s[2];if(o>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jye=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},kye=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},R9=function(t,e){return t==="v"?Pye(e):Rye(e)},j9=function(t,e){return t==="v"?jye(e):kye(e)},Mye=function(t,e){return t==="h"&&e==="rtl"?-1:1},Dye=function(t,e,r,n,i){var s=Mye(t,window.getComputedStyle(e).direction),o=s*n,u=r.target,d=e.contains(u),f=!1,g=o>0,x=0,_=0;do{var T=j9(t,u),O=T[0],E=T[1],A=T[2],R=E-A-s*O;(O||R)&&R9(t,u)&&(x+=R,_+=O),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(g&&Math.abs(x)<1||!g&&Math.abs(_)<1)&&(f=!0),f},j0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gD=function(t){return[t.deltaX,t.deltaY]},yD=function(t){return t&&"current"in t?t.current:t},Lye=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bye=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fye=0,md=[];function Uye(t){var e=M.useRef([]),r=M.useRef([0,0]),n=M.useRef(),i=M.useState(Fye++)[0],s=M.useState(I9)[0],o=M.useRef(t);M.useEffect(function(){o.current=t},[t]),M.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=EK([t.lockRef.current],(t.shards||[]).map(yD),!0).filter(Boolean);return E.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=M.useCallback(function(E,A){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var R=j0(E),P=r.current,I="deltaX"in E?E.deltaX:P[0]-R[0],D="deltaY"in E?E.deltaY:P[1]-R[1],L,F=E.target,U=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in E&&U==="h"&&F.type==="range")return!1;var H=mD(U,F);if(!H)return!0;if(H?L=U:(L=U==="v"?"h":"v",H=mD(U,F)),!H)return!1;if(!n.current&&"changedTouches"in E&&(I||D)&&(n.current=L),!L)return!0;var W=n.current||L;return Dye(W,A,E,W==="h"?I:D)},[]),d=M.useCallback(function(E){var A=E;if(!(!md.length||md[md.length-1]!==s)){var R="deltaY"in A?gD(A):j0(A),P=e.current.filter(function(L){return L.name===A.type&&(L.target===A.target||A.target===L.shadowParent)&&Lye(L.delta,R)})[0];if(P&&P.should){A.cancelable&&A.preventDefault();return}if(!P){var I=(o.current.shards||[]).map(yD).filter(Boolean).filter(function(L){return L.contains(A.target)}),D=I.length>0?u(A,I[0]):!o.current.noIsolation;D&&A.cancelable&&A.preventDefault()}}},[]),f=M.useCallback(function(E,A,R,P){var I={name:E,delta:A,target:R,should:P,shadowParent:$ye(R)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(D){return D!==I})},1)},[]),g=M.useCallback(function(E){r.current=j0(E),n.current=void 0},[]),x=M.useCallback(function(E){f(E.type,gD(E),E.target,u(E,t.lockRef.current))},[]),_=M.useCallback(function(E){f(E.type,j0(E),E.target,u(E,t.lockRef.current))},[]);M.useEffect(function(){return md.push(s),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:_}),document.addEventListener("wheel",d,pd),document.addEventListener("touchmove",d,pd),document.addEventListener("touchstart",g,pd),function(){md=md.filter(function(E){return E!==s}),document.removeEventListener("wheel",d,pd),document.removeEventListener("touchmove",d,pd),document.removeEventListener("touchstart",g,pd)}},[]);var T=t.removeScrollBar,O=t.inert;return M.createElement(M.Fragment,null,O?M.createElement(s,{styles:Bye(i)}):null,T?M.createElement(Nye,{gapMode:t.gapMode}):null)}function $ye(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Vye=gye(N9,Uye);var Mv=M.forwardRef(function(t,e){return M.createElement(kv,Xa({},t,{ref:e,sideCar:Vye}))});Mv.classNames=kv.classNames;var qye=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},gd=new WeakMap,k0=new WeakMap,M0={},XS=0,k9=function(t){return t&&(t.host||k9(t.parentNode))},zye=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=k9(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Wye=function(t,e,r,n){var i=zye(e,Array.isArray(t)?t:[t]);M0[r]||(M0[r]=new WeakMap);var s=M0[r],o=[],u=new Set,d=new Set(i),f=function(x){!x||u.has(x)||(u.add(x),f(x.parentNode))};i.forEach(f);var g=function(x){!x||d.has(x)||Array.prototype.forEach.call(x.children,function(_){if(u.has(_))g(_);else try{var T=_.getAttribute(n),O=T!==null&&T!=="false",E=(gd.get(_)||0)+1,A=(s.get(_)||0)+1;gd.set(_,E),s.set(_,A),o.push(_),E===1&&O&&k0.set(_,!0),A===1&&_.setAttribute(r,"true"),O||_.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",_,R)}})};return g(e),u.clear(),XS++,function(){o.forEach(function(x){var _=gd.get(x)-1,T=s.get(x)-1;gd.set(x,_),s.set(x,T),_||(k0.has(x)||x.removeAttribute(n),k0.delete(x)),T||x.removeAttribute(r)}),XS--,XS||(gd=new WeakMap,gd=new WeakMap,k0=new WeakMap,M0={})}},fO=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=qye(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Wye(n,i,r,"aria-hidden")):function(){return null}},hO="Dialog",[M9,D9]=Ls(hO),[Hye,Ua]=M9(hO),L9=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,u=M.useRef(null),d=M.useRef(null),[f=!1,g]=iu({prop:n,defaultProp:i,onChange:s});return m.jsx(Hye,{scope:e,triggerRef:u,contentRef:d,contentId:Qa(),titleId:Qa(),descriptionId:Qa(),open:f,onOpenChange:g,onOpenToggle:M.useCallback(()=>g(x=>!x),[g]),modal:o,children:r})};L9.displayName=hO;var B9="DialogTrigger",F9=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ua(B9,r),s=mr(e,i.triggerRef);return m.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gO(i.open),...n,ref:s,onClick:st(t.onClick,i.onOpenToggle)})});F9.displayName=B9;var pO="DialogPortal",[Gye,U9]=M9(pO,{forceMount:void 0}),$9=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Ua(pO,e);return m.jsx(Gye,{scope:e,forceMount:r,children:M.Children.map(n,o=>m.jsx(Ba,{present:r||s.open,children:m.jsx(Dm,{asChild:!0,container:i,children:o})}))})};$9.displayName=pO;var h1="DialogOverlay",V9=M.forwardRef((t,e)=>{const r=U9(h1,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Ua(h1,t.__scopeDialog);return s.modal?m.jsx(Ba,{present:n||s.open,children:m.jsx(Xye,{...i,ref:e})}):null});V9.displayName=h1;var Kye=nu("DialogOverlay.RemoveScroll"),Xye=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ua(h1,r);return m.jsx(Mv,{as:Kye,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Pt.div,{"data-state":gO(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),mu="DialogContent",q9=M.forwardRef((t,e)=>{const r=U9(mu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Ua(mu,t.__scopeDialog);return m.jsx(Ba,{present:n||s.open,children:s.modal?m.jsx(Yye,{...i,ref:e}):m.jsx(Zye,{...i,ref:e})})});q9.displayName=mu;var Yye=M.forwardRef((t,e)=>{const r=Ua(mu,t.__scopeDialog),n=M.useRef(null),i=mr(e,r.contentRef,n);return M.useEffect(()=>{const s=n.current;if(s)return fO(s)},[]),m.jsx(z9,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0;(o.button===2||u)&&s.preventDefault()}),onFocusOutside:st(t.onFocusOutside,s=>s.preventDefault())})}),Zye=M.forwardRef((t,e)=>{const r=Ua(mu,t.__scopeDialog),n=M.useRef(!1),i=M.useRef(!1);return m.jsx(z9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),z9=M.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,u=Ua(mu,r),d=M.useRef(null),f=mr(e,d);return dO(),m.jsxs(m.Fragment,{children:[m.jsx(jv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(Df,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":gO(u.open),...o,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(Jye,{titleId:u.titleId}),m.jsx(t1e,{contentRef:d,descriptionId:u.descriptionId})]})]})}),mO="DialogTitle",W9=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ua(mO,r);return m.jsx(Pt.h2,{id:i.titleId,...n,ref:e})});W9.displayName=mO;var H9="DialogDescription",G9=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ua(H9,r);return m.jsx(Pt.p,{id:i.descriptionId,...n,ref:e})});G9.displayName=H9;var K9="DialogClose",X9=M.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ua(K9,r);return m.jsx(Pt.button,{type:"button",...n,ref:e,onClick:st(t.onClick,()=>i.onOpenChange(!1))})});X9.displayName=K9;function gO(t){return t?"open":"closed"}var Y9="DialogTitleWarning",[Qye,Z9]=nW(Y9,{contentName:mu,titleName:mO,docsSlug:"dialog"}),Jye=({titleId:t})=>{const e=Z9(Y9),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return M.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},e1e="DialogDescriptionWarning",t1e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Z9(e1e).contentName}}.`;return M.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Q9=L9,J9=F9,eU=$9,yO=V9,vO=q9,xO=W9,wO=G9,bO=X9;const Tu=Q9,tU=J9,r1e=eU,rU=M.forwardRef(({className:t,...e},r)=>m.jsx(yO,{ref:r,className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));rU.displayName=yO.displayName;const nc=M.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(r1e,{children:[m.jsx(rU,{}),m.jsxs(vO,{ref:n,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,m.jsxs(bO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Op,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nc.displayName=vO.displayName;const ic=({className:t,...e})=>m.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ic.displayName="DialogHeader";const Ou=({className:t,...e})=>m.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ou.displayName="DialogFooter";const sc=M.forwardRef(({className:t,...e},r)=>m.jsx(xO,{ref:r,className:Je("text-lg font-semibold leading-none tracking-tight",t),...e}));sc.displayName=xO.displayName;const Zf=M.forwardRef(({className:t,...e},r)=>m.jsx(wO,{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));Zf.displayName=wO.displayName;var rC=["Enter"," "],n1e=["ArrowDown","PageUp","Home"],nU=["ArrowUp","PageDown","End"],i1e=[...n1e,...nU],s1e={ltr:[...rC,"ArrowRight"],rtl:[...rC,"ArrowLeft"]},a1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zm="Menu",[Rm,o1e,l1e]=T1(Zm),[Nu,iU]=Ls(Zm,[l1e,Uf,q1]),Dv=Uf(),sU=q1(),[c1e,Iu]=Nu(Zm),[u1e,Qm]=Nu(Zm),aU=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,u=Dv(e),[d,f]=M.useState(null),g=M.useRef(!1),x=Oi(s),_=$1(i);return M.useEffect(()=>{const T=()=>{g.current=!0,document.addEventListener("pointerdown",O,{capture:!0,once:!0}),document.addEventListener("pointermove",O,{capture:!0,once:!0})},O=()=>g.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",O,{capture:!0}),document.removeEventListener("pointermove",O,{capture:!0})}},[]),m.jsx(S5,{...u,children:m.jsx(c1e,{scope:e,open:r,onOpenChange:x,content:d,onContentChange:f,children:m.jsx(u1e,{scope:e,onClose:M.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:_,modal:o,children:n})})})};aU.displayName=Zm;var d1e="MenuAnchor",_O=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Dv(r);return m.jsx(VC,{...i,...n,ref:e})});_O.displayName=d1e;var SO="MenuPortal",[f1e,oU]=Nu(SO,{forceMount:void 0}),lU=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=Iu(SO,e);return m.jsx(f1e,{scope:e,forceMount:r,children:m.jsx(Ba,{present:r||s.open,children:m.jsx(Dm,{asChild:!0,container:i,children:n})})})};lU.displayName=SO;var ia="MenuContent",[h1e,EO]=Nu(ia),cU=M.forwardRef((t,e)=>{const r=oU(ia,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Iu(ia,t.__scopeMenu),o=Qm(ia,t.__scopeMenu);return m.jsx(Rm.Provider,{scope:t.__scopeMenu,children:m.jsx(Ba,{present:n||s.open,children:m.jsx(Rm.Slot,{scope:t.__scopeMenu,children:o.modal?m.jsx(p1e,{...i,ref:e}):m.jsx(m1e,{...i,ref:e})})})})}),p1e=M.forwardRef((t,e)=>{const r=Iu(ia,t.__scopeMenu),n=M.useRef(null),i=mr(e,n);return M.useEffect(()=>{const s=n.current;if(s)return fO(s)},[]),m.jsx(AO,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:st(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),m1e=M.forwardRef((t,e)=>{const r=Iu(ia,t.__scopeMenu);return m.jsx(AO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),g1e=nu("MenuContent.ScrollLock"),AO=M.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:_,onDismiss:T,disableOutsideScroll:O,...E}=t,A=Iu(ia,r),R=Qm(ia,r),P=Dv(r),I=sU(r),D=o1e(r),[L,F]=M.useState(null),U=M.useRef(null),H=mr(e,U,A.onContentChange),W=M.useRef(0),ce=M.useRef(""),K=M.useRef(0),z=M.useRef(null),Z=M.useRef("right"),Q=M.useRef(0),Y=O?Mv:M.Fragment,J=O?{as:g1e,allowPinchZoom:!0}:void 0,re=se=>{const me=ce.current+se,ne=D().filter(Re=>!Re.disabled),ue=document.activeElement,be=ne.find(Re=>Re.ref.current===ue)?.textValue,Pe=ne.map(Re=>Re.textValue),rt=O1e(Pe,me,be),Ie=ne.find(Re=>Re.textValue===rt)?.ref.current;(function Re(Be){ce.current=Be,window.clearTimeout(W.current),Be!==""&&(W.current=window.setTimeout(()=>Re(""),1e3))})(me),Ie&&setTimeout(()=>Ie.focus())};M.useEffect(()=>()=>window.clearTimeout(W.current),[]),dO();const ie=M.useCallback(se=>Z.current===z.current?.side&&I1e(se,z.current?.area),[]);return m.jsx(h1e,{scope:r,searchRef:ce,onItemEnter:M.useCallback(se=>{ie(se)&&se.preventDefault()},[ie]),onItemLeave:M.useCallback(se=>{ie(se)||(U.current?.focus(),F(null))},[ie]),onTriggerLeave:M.useCallback(se=>{ie(se)&&se.preventDefault()},[ie]),pointerGraceTimerRef:K,onPointerGraceIntentChange:M.useCallback(se=>{z.current=se},[]),children:m.jsx(Y,{...J,children:m.jsx(jv,{asChild:!0,trapped:i,onMountAutoFocus:st(s,se=>{se.preventDefault(),U.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:m.jsx(Df,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:_,onDismiss:T,children:m.jsx(IL,{asChild:!0,...I,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:L,onCurrentTabStopIdChange:F,onEntryFocus:st(d,se=>{R.isUsingKeyboardRef.current||se.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(qC,{role:"menu","aria-orientation":"vertical","data-state":AU(A.open),"data-radix-menu-content":"",dir:R.dir,...P,...E,ref:H,style:{outline:"none",...E.style},onKeyDown:st(E.onKeyDown,se=>{const ne=se.target.closest("[data-radix-menu-content]")===se.currentTarget,ue=se.ctrlKey||se.altKey||se.metaKey,be=se.key.length===1;ne&&(se.key==="Tab"&&se.preventDefault(),!ue&&be&&re(se.key));const Pe=U.current;if(se.target!==Pe||!i1e.includes(se.key))return;se.preventDefault();const Ie=D().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);nU.includes(se.key)&&Ie.reverse(),C1e(Ie)}),onBlur:st(t.onBlur,se=>{se.currentTarget.contains(se.target)||(window.clearTimeout(W.current),ce.current="")}),onPointerMove:st(t.onPointerMove,jm(se=>{const me=se.target,ne=Q.current!==se.clientX;if(se.currentTarget.contains(me)&&ne){const ue=se.clientX>Q.current?"right":"left";Z.current=ue,Q.current=se.clientX}}))})})})})})})});cU.displayName=ia;var y1e="MenuGroup",CO=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Pt.div,{role:"group",...n,ref:e})});CO.displayName=y1e;var v1e="MenuLabel",uU=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Pt.div,{...n,ref:e})});uU.displayName=v1e;var p1="MenuItem",vD="menu.itemSelect",Lv=M.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=M.useRef(null),o=Qm(p1,t.__scopeMenu),u=EO(p1,t.__scopeMenu),d=mr(e,s),f=M.useRef(!1),g=()=>{const x=s.current;if(!r&&x){const _=new CustomEvent(vD,{bubbles:!0,cancelable:!0});x.addEventListener(vD,T=>n?.(T),{once:!0}),_C(x,_),_.defaultPrevented?f.current=!1:o.onClose()}};return m.jsx(dU,{...i,ref:d,disabled:r,onClick:st(t.onClick,g),onPointerDown:x=>{t.onPointerDown?.(x),f.current=!0},onPointerUp:st(t.onPointerUp,x=>{f.current||x.currentTarget?.click()}),onKeyDown:st(t.onKeyDown,x=>{const _=u.searchRef.current!=="";r||_&&x.key===" "||rC.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Lv.displayName=p1;var dU=M.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=EO(p1,r),u=sU(r),d=M.useRef(null),f=mr(e,d),[g,x]=M.useState(!1),[_,T]=M.useState("");return M.useEffect(()=>{const O=d.current;O&&T((O.textContent??"").trim())},[s.children]),m.jsx(Rm.ItemSlot,{scope:r,disabled:n,textValue:i??_,children:m.jsx(PL,{asChild:!0,...u,focusable:!n,children:m.jsx(Pt.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:f,onPointerMove:st(t.onPointerMove,jm(O=>{n?o.onItemLeave(O):(o.onItemEnter(O),O.defaultPrevented||O.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(t.onPointerLeave,jm(O=>o.onItemLeave(O))),onFocus:st(t.onFocus,()=>x(!0)),onBlur:st(t.onBlur,()=>x(!1))})})})}),x1e="MenuCheckboxItem",fU=M.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return m.jsx(yU,{scope:t.__scopeMenu,checked:r,children:m.jsx(Lv,{role:"menuitemcheckbox","aria-checked":m1(r)?"mixed":r,...i,ref:e,"data-state":OO(r),onSelect:st(i.onSelect,()=>n?.(m1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});fU.displayName=x1e;var hU="MenuRadioGroup",[w1e,b1e]=Nu(hU,{value:void 0,onValueChange:()=>{}}),pU=M.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Oi(n);return m.jsx(w1e,{scope:t.__scopeMenu,value:r,onValueChange:s,children:m.jsx(CO,{...i,ref:e})})});pU.displayName=hU;var mU="MenuRadioItem",gU=M.forwardRef((t,e)=>{const{value:r,...n}=t,i=b1e(mU,t.__scopeMenu),s=r===i.value;return m.jsx(yU,{scope:t.__scopeMenu,checked:s,children:m.jsx(Lv,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":OO(s),onSelect:st(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});gU.displayName=mU;var TO="MenuItemIndicator",[yU,_1e]=Nu(TO,{checked:!1}),vU=M.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=_1e(TO,r);return m.jsx(Ba,{present:n||m1(s.checked)||s.checked===!0,children:m.jsx(Pt.span,{...i,ref:e,"data-state":OO(s.checked)})})});vU.displayName=TO;var S1e="MenuSeparator",xU=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Pt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});xU.displayName=S1e;var E1e="MenuArrow",wU=M.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Dv(r);return m.jsx(zC,{...i,...n,ref:e})});wU.displayName=E1e;var A1e="MenuSub",[d_e,bU]=Nu(A1e),dp="MenuSubTrigger",_U=M.forwardRef((t,e)=>{const r=Iu(dp,t.__scopeMenu),n=Qm(dp,t.__scopeMenu),i=bU(dp,t.__scopeMenu),s=EO(dp,t.__scopeMenu),o=M.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,f={__scopeMenu:t.__scopeMenu},g=M.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return M.useEffect(()=>g,[g]),M.useEffect(()=>{const x=u.current;return()=>{window.clearTimeout(x),d(null)}},[u,d]),m.jsx(_O,{asChild:!0,...f,children:m.jsx(dU,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":AU(r.open),...t,ref:C1(e,i.onTriggerChange),onClick:x=>{t.onClick?.(x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:st(t.onPointerMove,jm(x=>{s.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:st(t.onPointerLeave,jm(x=>{g();const _=r.content?.getBoundingClientRect();if(_){const T=r.content?.dataset.side,O=T==="right",E=O?-5:5,A=_[O?"left":"right"],R=_[O?"right":"left"];s.onPointerGraceIntentChange({area:[{x:x.clientX+E,y:x.clientY},{x:A,y:_.top},{x:R,y:_.top},{x:R,y:_.bottom},{x:A,y:_.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(x),x.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:st(t.onKeyDown,x=>{const _=s.searchRef.current!=="";t.disabled||_&&x.key===" "||s1e[n.dir].includes(x.key)&&(r.onOpenChange(!0),r.content?.focus(),x.preventDefault())})})})});_U.displayName=dp;var SU="MenuSubContent",EU=M.forwardRef((t,e)=>{const r=oU(ia,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Iu(ia,t.__scopeMenu),o=Qm(ia,t.__scopeMenu),u=bU(SU,t.__scopeMenu),d=M.useRef(null),f=mr(e,d);return m.jsx(Rm.Provider,{scope:t.__scopeMenu,children:m.jsx(Ba,{present:n||s.open,children:m.jsx(Rm.Slot,{scope:t.__scopeMenu,children:m.jsx(AO,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{o.isUsingKeyboardRef.current&&d.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:st(t.onFocusOutside,g=>{g.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:st(t.onEscapeKeyDown,g=>{o.onClose(),g.preventDefault()}),onKeyDown:st(t.onKeyDown,g=>{const x=g.currentTarget.contains(g.target),_=a1e[o.dir].includes(g.key);x&&_&&(s.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});EU.displayName=SU;function AU(t){return t?"open":"closed"}function m1(t){return t==="indeterminate"}function OO(t){return m1(t)?"indeterminate":t?"checked":"unchecked"}function C1e(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function T1e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function O1e(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=T1e(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const d=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function N1e(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const u=e[s].x,d=e[s].y,f=e[o].x,g=e[o].y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function I1e(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return N1e(r,e)}function jm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var P1e=aU,R1e=_O,j1e=lU,k1e=cU,M1e=CO,D1e=uU,L1e=Lv,B1e=fU,F1e=pU,U1e=gU,$1e=vU,V1e=xU,q1e=wU,z1e=_U,W1e=EU,NO="DropdownMenu",[H1e]=Ls(NO,[iU]),Ji=iU(),[G1e,CU]=H1e(NO),TU=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:u=!0}=t,d=Ji(e),f=M.useRef(null),[g=!1,x]=iu({prop:i,defaultProp:s,onChange:o});return m.jsx(G1e,{scope:e,triggerId:Qa(),triggerRef:f,contentId:Qa(),open:g,onOpenChange:x,onOpenToggle:M.useCallback(()=>x(_=>!_),[x]),modal:u,children:m.jsx(P1e,{...d,open:g,onOpenChange:x,dir:n,modal:u,children:r})})};TU.displayName=NO;var OU="DropdownMenuTrigger",NU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=CU(OU,r),o=Ji(r);return m.jsx(R1e,{asChild:!0,...o,children:m.jsx(Pt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:C1(e,s.triggerRef),onPointerDown:st(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:st(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});NU.displayName=OU;var K1e="DropdownMenuPortal",IU=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ji(e);return m.jsx(j1e,{...n,...r})};IU.displayName=K1e;var PU="DropdownMenuContent",RU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=CU(PU,r),s=Ji(r),o=M.useRef(!1);return m.jsx(k1e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:st(t.onCloseAutoFocus,u=>{o.current||i.triggerRef.current?.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:st(t.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,g=d.button===2||f;(!i.modal||g)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RU.displayName=PU;var X1e="DropdownMenuGroup",Y1e=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(M1e,{...i,...n,ref:e})});Y1e.displayName=X1e;var Z1e="DropdownMenuLabel",jU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(D1e,{...i,...n,ref:e})});jU.displayName=Z1e;var Q1e="DropdownMenuItem",kU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(L1e,{...i,...n,ref:e})});kU.displayName=Q1e;var J1e="DropdownMenuCheckboxItem",MU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(B1e,{...i,...n,ref:e})});MU.displayName=J1e;var eve="DropdownMenuRadioGroup",tve=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(F1e,{...i,...n,ref:e})});tve.displayName=eve;var rve="DropdownMenuRadioItem",DU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(U1e,{...i,...n,ref:e})});DU.displayName=rve;var nve="DropdownMenuItemIndicator",LU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx($1e,{...i,...n,ref:e})});LU.displayName=nve;var ive="DropdownMenuSeparator",BU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(V1e,{...i,...n,ref:e})});BU.displayName=ive;var sve="DropdownMenuArrow",ave=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(q1e,{...i,...n,ref:e})});ave.displayName=sve;var ove="DropdownMenuSubTrigger",FU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(z1e,{...i,...n,ref:e})});FU.displayName=ove;var lve="DropdownMenuSubContent",UU=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ji(r);return m.jsx(W1e,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UU.displayName=lve;var cve=TU,uve=NU,dve=IU,$U=RU,VU=jU,qU=kU,zU=MU,WU=DU,HU=LU,GU=BU,KU=FU,XU=UU;const fve=cve,hve=uve,pve=M.forwardRef(({className:t,inset:e,children:r,...n},i)=>m.jsxs(KU,{ref:i,className:Je("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,m.jsx(KW,{className:"ml-auto"})]}));pve.displayName=KU.displayName;const mve=M.forwardRef(({className:t,...e},r)=>m.jsx(XU,{ref:r,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));mve.displayName=XU.displayName;const YU=M.forwardRef(({className:t,sideOffset:e=4,...r},n)=>m.jsx(dve,{children:m.jsx($U,{ref:n,sideOffset:e,className:Je("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));YU.displayName=$U.displayName;const nC=M.forwardRef(({className:t,inset:e,...r},n)=>m.jsx(qU,{ref:n,className:Je("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));nC.displayName=qU.displayName;const gve=M.forwardRef(({className:t,children:e,checked:r,...n},i)=>m.jsxs(zU,{ref:i,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(HU,{children:m.jsx(CC,{className:"h-4 w-4"})})}),e]}));gve.displayName=zU.displayName;const yve=M.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(WU,{ref:n,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(HU,{children:m.jsx(YW,{className:"h-2 w-2 fill-current"})})}),e]}));yve.displayName=WU.displayName;const vve=M.forwardRef(({className:t,inset:e,...r},n)=>m.jsx(VU,{ref:n,className:Je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));vve.displayName=VU.displayName;const ZU=M.forwardRef(({className:t,...e},r)=>m.jsx(GU,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",t),...e}));ZU.displayName=GU.displayName;var QU="AlertDialog",[xve]=Ls(QU,[D9]),il=D9(),JU=t=>{const{__scopeAlertDialog:e,...r}=t,n=il(e);return m.jsx(Q9,{...n,...r,modal:!0})};JU.displayName=QU;var wve="AlertDialogTrigger",e$=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(J9,{...i,...n,ref:e})});e$.displayName=wve;var bve="AlertDialogPortal",t$=t=>{const{__scopeAlertDialog:e,...r}=t,n=il(e);return m.jsx(eU,{...n,...r})};t$.displayName=bve;var _ve="AlertDialogOverlay",r$=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(yO,{...i,...n,ref:e})});r$.displayName=_ve;var qd="AlertDialogContent",[Sve,Eve]=xve(qd),Ave=v6("AlertDialogContent"),n$=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=il(r),o=M.useRef(null),u=mr(e,o),d=M.useRef(null);return m.jsx(Qye,{contentName:qd,titleName:i$,docsSlug:"alert-dialog",children:m.jsx(Sve,{scope:r,cancelRef:d,children:m.jsxs(vO,{role:"alertdialog",...s,...i,ref:u,onOpenAutoFocus:st(i.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[m.jsx(Ave,{children:n}),m.jsx(Tve,{contentRef:o})]})})})});n$.displayName=qd;var i$="AlertDialogTitle",s$=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(xO,{...i,...n,ref:e})});s$.displayName=i$;var a$="AlertDialogDescription",o$=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(wO,{...i,...n,ref:e})});o$.displayName=a$;var Cve="AlertDialogAction",l$=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(bO,{...i,...n,ref:e})});l$.displayName=Cve;var c$="AlertDialogCancel",u$=M.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Eve(c$,r),s=il(r),o=mr(e,i);return m.jsx(bO,{...s,...n,ref:o})});u$.displayName=c$;var Tve=({contentRef:t})=>{const e=`\`${qd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qd}\` by passing a \`${a$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return M.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Ove=JU,Nve=e$,Ive=t$,d$=r$,f$=n$,h$=l$,p$=u$,m$=s$,g$=o$;const km=Ove,g1=Nve,Pve=Ive,y$=M.forwardRef(({className:t,...e},r)=>m.jsx(d$,{className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));y$.displayName=d$.displayName;const Cf=M.forwardRef(({className:t,...e},r)=>m.jsxs(Pve,{children:[m.jsx(y$,{}),m.jsx(f$,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Cf.displayName=f$.displayName;const Tf=({className:t,...e})=>m.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",t),...e});Tf.displayName="AlertDialogHeader";const Of=({className:t,...e})=>m.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Of.displayName="AlertDialogFooter";const Nf=M.forwardRef(({className:t,...e},r)=>m.jsx(m$,{ref:r,className:Je("text-lg font-semibold",t),...e}));Nf.displayName=m$.displayName;const If=M.forwardRef(({className:t,...e},r)=>m.jsx(g$,{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));If.displayName=g$.displayName;const Pf=M.forwardRef(({className:t,...e},r)=>m.jsx(h$,{ref:r,className:Je(rT(),t),...e}));Pf.displayName=h$.displayName;const Rf=M.forwardRef(({className:t,...e},r)=>m.jsx(p$,{ref:r,className:Je(rT({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Rf.displayName=p$.displayName;function xD(t,[e,r]){return Math.min(r,Math.max(e,t))}function Rve(t){const e=M.useRef({value:t,previous:t});return M.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jve=[" ","Enter","ArrowUp","ArrowDown"],kve=[" ","Enter"],Jm="Select",[Bv,Fv,Mve]=T1(Jm),[Qf]=Ls(Jm,[Mve,Uf]),Uv=Uf(),[Dve,ac]=Qf(Jm),[Lve,Bve]=Qf(Jm),v$=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:u,onValueChange:d,dir:f,name:g,autoComplete:x,disabled:_,required:T,form:O}=t,E=Uv(e),[A,R]=M.useState(null),[P,I]=M.useState(null),[D,L]=M.useState(!1),F=$1(f),[U=!1,H]=iu({prop:n,defaultProp:i,onChange:s}),[W,ce]=iu({prop:o,defaultProp:u,onChange:d}),K=M.useRef(null),z=A?O||!!A.closest("form"):!0,[Z,Q]=M.useState(new Set),Y=Array.from(Z).map(J=>J.props.value).join(";");return m.jsx(S5,{...E,children:m.jsxs(Dve,{required:T,scope:e,trigger:A,onTriggerChange:R,valueNode:P,onValueNodeChange:I,valueNodeHasChildren:D,onValueNodeHasChildrenChange:L,contentId:Qa(),value:W,onValueChange:ce,open:U,onOpenChange:H,dir:F,triggerPointerDownPosRef:K,disabled:_,children:[m.jsx(Bv.Provider,{scope:e,children:m.jsx(Lve,{scope:t.__scopeSelect,onNativeOptionAdd:M.useCallback(J=>{Q(re=>new Set(re).add(J))},[]),onNativeOptionRemove:M.useCallback(J=>{Q(re=>{const ie=new Set(re);return ie.delete(J),ie})},[]),children:r})}),z?m.jsxs(q$,{"aria-hidden":!0,required:T,tabIndex:-1,name:g,autoComplete:x,value:W,onChange:J=>ce(J.target.value),disabled:_,form:O,children:[W===void 0?m.jsx("option",{value:""}):null,Array.from(Z)]},Y):null]})})};v$.displayName=Jm;var x$="SelectTrigger",w$=M.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=Uv(r),o=ac(x$,r),u=o.disabled||n,d=mr(e,o.onTriggerChange),f=Fv(r),g=M.useRef("touch"),[x,_,T]=z$(E=>{const A=f().filter(I=>!I.disabled),R=A.find(I=>I.value===o.value),P=W$(A,E,R);P!==void 0&&o.onValueChange(P.value)}),O=E=>{u||(o.onOpenChange(!0),T()),E&&(o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return m.jsx(VC,{asChild:!0,...s,children:m.jsx(Pt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":V$(o.value)?"":void 0,...i,ref:d,onClick:st(i.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&O(E)}),onPointerDown:st(i.onPointerDown,E=>{g.current=E.pointerType;const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(O(E),E.preventDefault())}),onKeyDown:st(i.onKeyDown,E=>{const A=x.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&_(E.key),!(A&&E.key===" ")&&jve.includes(E.key)&&(O(),E.preventDefault())})})})});w$.displayName=x$;var b$="SelectValue",_$=M.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...u}=t,d=ac(b$,r),{onValueNodeHasChildrenChange:f}=d,g=s!==void 0,x=mr(e,d.onValueNodeChange);return ri(()=>{f(g)},[f,g]),m.jsx(Pt.span,{...u,ref:x,style:{pointerEvents:"none"},children:V$(d.value)?m.jsx(m.Fragment,{children:o}):s})});_$.displayName=b$;var Fve="SelectIcon",S$=M.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return m.jsx(Pt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});S$.displayName=Fve;var Uve="SelectPortal",E$=t=>m.jsx(Dm,{asChild:!0,...t});E$.displayName=Uve;var gu="SelectContent",A$=M.forwardRef((t,e)=>{const r=ac(gu,t.__scopeSelect),[n,i]=M.useState();if(ri(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Mf.createPortal(m.jsx(C$,{scope:t.__scopeSelect,children:m.jsx(Bv.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(T$,{...t,ref:e})});A$.displayName=gu;var va=10,[C$,oc]=Qf(gu),$ve="SelectContentImpl",Vve=nu("SelectContent.RemoveScroll"),T$=M.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:_,collisionPadding:T,sticky:O,hideWhenDetached:E,avoidCollisions:A,...R}=t,P=ac(gu,r),[I,D]=M.useState(null),[L,F]=M.useState(null),U=mr(e,Re=>D(Re)),[H,W]=M.useState(null),[ce,K]=M.useState(null),z=Fv(r),[Z,Q]=M.useState(!1),Y=M.useRef(!1);M.useEffect(()=>{if(I)return fO(I)},[I]),dO();const J=M.useCallback(Re=>{const[Be,...Te]=z().map(Ce=>Ce.ref.current),[$e]=Te.slice(-1),Ve=document.activeElement;for(const Ce of Re)if(Ce===Ve||(Ce?.scrollIntoView({block:"nearest"}),Ce===Be&&L&&(L.scrollTop=0),Ce===$e&&L&&(L.scrollTop=L.scrollHeight),Ce?.focus(),document.activeElement!==Ve))return},[z,L]),re=M.useCallback(()=>J([H,I]),[J,H,I]);M.useEffect(()=>{Z&&re()},[Z,re]);const{onOpenChange:ie,triggerPointerDownPosRef:se}=P;M.useEffect(()=>{if(I){let Re={x:0,y:0};const Be=$e=>{Re={x:Math.abs(Math.round($e.pageX)-(se.current?.x??0)),y:Math.abs(Math.round($e.pageY)-(se.current?.y??0))}},Te=$e=>{Re.x<=10&&Re.y<=10?$e.preventDefault():I.contains($e.target)||ie(!1),document.removeEventListener("pointermove",Be),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",Te,{capture:!0})}}},[I,ie,se]),M.useEffect(()=>{const Re=()=>ie(!1);return window.addEventListener("blur",Re),window.addEventListener("resize",Re),()=>{window.removeEventListener("blur",Re),window.removeEventListener("resize",Re)}},[ie]);const[me,ne]=z$(Re=>{const Be=z().filter(Ve=>!Ve.disabled),Te=Be.find(Ve=>Ve.ref.current===document.activeElement),$e=W$(Be,Re,Te);$e&&setTimeout(()=>$e.ref.current.focus())}),ue=M.useCallback((Re,Be,Te)=>{const $e=!Y.current&&!Te;(P.value!==void 0&&P.value===Be||$e)&&(W(Re),$e&&(Y.current=!0))},[P.value]),be=M.useCallback(()=>I?.focus(),[I]),Pe=M.useCallback((Re,Be,Te)=>{const $e=!Y.current&&!Te;(P.value!==void 0&&P.value===Be||$e)&&K(Re)},[P.value]),rt=n==="popper"?iC:O$,Ie=rt===iC?{side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:_,collisionPadding:T,sticky:O,hideWhenDetached:E,avoidCollisions:A}:{};return m.jsx(C$,{scope:r,content:I,viewport:L,onViewportChange:F,itemRefCallback:ue,selectedItem:H,onItemLeave:be,itemTextRefCallback:Pe,focusSelectedItem:re,selectedItemText:ce,position:n,isPositioned:Z,searchRef:me,children:m.jsx(Mv,{as:Vve,allowPinchZoom:!0,children:m.jsx(jv,{asChild:!0,trapped:P.open,onMountAutoFocus:Re=>{Re.preventDefault()},onUnmountAutoFocus:st(i,Re=>{P.trigger?.focus({preventScroll:!0}),Re.preventDefault()}),children:m.jsx(Df,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Re=>Re.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:m.jsx(rt,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:Re=>Re.preventDefault(),...R,...Ie,onPlaced:()=>Q(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:st(R.onKeyDown,Re=>{const Be=Re.ctrlKey||Re.altKey||Re.metaKey;if(Re.key==="Tab"&&Re.preventDefault(),!Be&&Re.key.length===1&&ne(Re.key),["ArrowUp","ArrowDown","Home","End"].includes(Re.key)){let $e=z().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(Re.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(Re.key)){const Ve=Re.target,Ce=$e.indexOf(Ve);$e=$e.slice(Ce+1)}setTimeout(()=>J($e)),Re.preventDefault()}})})})})})})});T$.displayName=$ve;var qve="SelectItemAlignedPosition",O$=M.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=ac(gu,r),o=oc(gu,r),[u,d]=M.useState(null),[f,g]=M.useState(null),x=mr(e,U=>g(U)),_=Fv(r),T=M.useRef(!1),O=M.useRef(!0),{viewport:E,selectedItem:A,selectedItemText:R,focusSelectedItem:P}=o,I=M.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&f&&E&&A&&R){const U=s.trigger.getBoundingClientRect(),H=f.getBoundingClientRect(),W=s.valueNode.getBoundingClientRect(),ce=R.getBoundingClientRect();if(s.dir!=="rtl"){const Ve=ce.left-H.left,Ce=W.left-Ve,et=U.left-Ce,_t=U.width+et,Ne=Math.max(_t,H.width),Ke=window.innerWidth-va,ot=xD(Ce,[va,Math.max(va,Ke-Ne)]);u.style.minWidth=_t+"px",u.style.left=ot+"px"}else{const Ve=H.right-ce.right,Ce=window.innerWidth-W.right-Ve,et=window.innerWidth-U.right-Ce,_t=U.width+et,Ne=Math.max(_t,H.width),Ke=window.innerWidth-va,ot=xD(Ce,[va,Math.max(va,Ke-Ne)]);u.style.minWidth=_t+"px",u.style.right=ot+"px"}const K=_(),z=window.innerHeight-va*2,Z=E.scrollHeight,Q=window.getComputedStyle(f),Y=parseInt(Q.borderTopWidth,10),J=parseInt(Q.paddingTop,10),re=parseInt(Q.borderBottomWidth,10),ie=parseInt(Q.paddingBottom,10),se=Y+J+Z+ie+re,me=Math.min(A.offsetHeight*5,se),ne=window.getComputedStyle(E),ue=parseInt(ne.paddingTop,10),be=parseInt(ne.paddingBottom,10),Pe=U.top+U.height/2-va,rt=z-Pe,Ie=A.offsetHeight/2,Re=A.offsetTop+Ie,Be=Y+J+Re,Te=se-Be;if(Be<=Pe){const Ve=K.length>0&&A===K[K.length-1].ref.current;u.style.bottom="0px";const Ce=f.clientHeight-E.offsetTop-E.offsetHeight,et=Math.max(rt,Ie+(Ve?be:0)+Ce+re),_t=Be+et;u.style.height=_t+"px"}else{const Ve=K.length>0&&A===K[0].ref.current;u.style.top="0px";const et=Math.max(Pe,Y+E.offsetTop+(Ve?ue:0)+Ie)+Te;u.style.height=et+"px",E.scrollTop=Be-Pe+E.offsetTop}u.style.margin=`${va}px 0`,u.style.minHeight=me+"px",u.style.maxHeight=z+"px",n?.(),requestAnimationFrame(()=>T.current=!0)}},[_,s.trigger,s.valueNode,u,f,E,A,R,s.dir,n]);ri(()=>I(),[I]);const[D,L]=M.useState();ri(()=>{f&&L(window.getComputedStyle(f).zIndex)},[f]);const F=M.useCallback(U=>{U&&O.current===!0&&(I(),P?.(),O.current=!1)},[I,P]);return m.jsx(Wve,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:F,children:m.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:m.jsx(Pt.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});O$.displayName=qve;var zve="SelectPopperPosition",iC=M.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=va,...s}=t,o=Uv(r);return m.jsx(qC,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iC.displayName=zve;var[Wve,IO]=Qf(gu,{}),sC="SelectViewport",N$=M.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=oc(sC,r),o=IO(sC,r),u=mr(e,s.onViewportChange),d=M.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),m.jsx(Bv.Slot,{scope:r,children:m.jsx(Pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:st(i.onScroll,f=>{const g=f.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:_}=o;if(_?.current&&x){const T=Math.abs(d.current-g.scrollTop);if(T>0){const O=window.innerHeight-va*2,E=parseFloat(x.style.minHeight),A=parseFloat(x.style.height),R=Math.max(E,A);if(R<O){const P=R+T,I=Math.min(O,P),D=P-I;x.style.height=I+"px",x.style.bottom==="0px"&&(g.scrollTop=D>0?D:0,x.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});N$.displayName=sC;var I$="SelectGroup",[Hve,Gve]=Qf(I$),Kve=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Qa();return m.jsx(Hve,{scope:r,id:i,children:m.jsx(Pt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});Kve.displayName=I$;var P$="SelectLabel",R$=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Gve(P$,r);return m.jsx(Pt.div,{id:i.id,...n,ref:e})});R$.displayName=P$;var y1="SelectItem",[Xve,j$]=Qf(y1),k$=M.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,u=ac(y1,r),d=oc(y1,r),f=u.value===n,[g,x]=M.useState(s??""),[_,T]=M.useState(!1),O=mr(e,P=>d.itemRefCallback?.(P,n,i)),E=Qa(),A=M.useRef("touch"),R=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(Xve,{scope:r,value:n,disabled:i,textId:E,isSelected:f,onItemTextChange:M.useCallback(P=>{x(I=>I||(P?.textContent??"").trim())},[]),children:m.jsx(Bv.ItemSlot,{scope:r,value:n,disabled:i,textValue:g,children:m.jsx(Pt.div,{role:"option","aria-labelledby":E,"data-highlighted":_?"":void 0,"aria-selected":f&&_,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:O,onFocus:st(o.onFocus,()=>T(!0)),onBlur:st(o.onBlur,()=>T(!1)),onClick:st(o.onClick,()=>{A.current!=="mouse"&&R()}),onPointerUp:st(o.onPointerUp,()=>{A.current==="mouse"&&R()}),onPointerDown:st(o.onPointerDown,P=>{A.current=P.pointerType}),onPointerMove:st(o.onPointerMove,P=>{A.current=P.pointerType,i?d.onItemLeave?.():A.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(o.onPointerLeave,P=>{P.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:st(o.onKeyDown,P=>{d.searchRef?.current!==""&&P.key===" "||(kve.includes(P.key)&&R(),P.key===" "&&P.preventDefault())})})})})});k$.displayName=y1;var fp="SelectItemText",M$=M.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=ac(fp,r),u=oc(fp,r),d=j$(fp,r),f=Bve(fp,r),[g,x]=M.useState(null),_=mr(e,R=>x(R),d.onItemTextChange,R=>u.itemTextRefCallback?.(R,d.value,d.disabled)),T=g?.textContent,O=M.useMemo(()=>m.jsx("option",{value:d.value,disabled:d.disabled,children:T},d.value),[d.disabled,d.value,T]),{onNativeOptionAdd:E,onNativeOptionRemove:A}=f;return ri(()=>(E(O),()=>A(O)),[E,A,O]),m.jsxs(m.Fragment,{children:[m.jsx(Pt.span,{id:d.textId,...s,ref:_}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mf.createPortal(s.children,o.valueNode):null]})});M$.displayName=fp;var D$="SelectItemIndicator",L$=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return j$(D$,r).isSelected?m.jsx(Pt.span,{"aria-hidden":!0,...n,ref:e}):null});L$.displayName=D$;var aC="SelectScrollUpButton",B$=M.forwardRef((t,e)=>{const r=oc(aC,t.__scopeSelect),n=IO(aC,t.__scopeSelect),[i,s]=M.useState(!1),o=mr(e,n.onScrollButtonChange);return ri(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;s(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?m.jsx(U$,{...t,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});B$.displayName=aC;var oC="SelectScrollDownButton",F$=M.forwardRef((t,e)=>{const r=oc(oC,t.__scopeSelect),n=IO(oC,t.__scopeSelect),[i,s]=M.useState(!1),o=mr(e,n.onScrollButtonChange);return ri(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<f;s(g)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?m.jsx(U$,{...t,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});F$.displayName=oC;var U$=M.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=oc("SelectScrollButton",r),o=M.useRef(null),u=Fv(r),d=M.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return M.useEffect(()=>()=>d(),[d]),ri(()=>{u().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),m.jsx(Pt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:st(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:st(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:st(i.onPointerLeave,()=>{d()})})}),Yve="SelectSeparator",$$=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return m.jsx(Pt.div,{"aria-hidden":!0,...n,ref:e})});$$.displayName=Yve;var lC="SelectArrow",Zve=M.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Uv(r),s=ac(lC,r),o=oc(lC,r);return s.open&&o.position==="popper"?m.jsx(zC,{...i,...n,ref:e}):null});Zve.displayName=lC;function V$(t){return t===""||t===void 0}var q$=M.forwardRef((t,e)=>{const{value:r,...n}=t,i=M.useRef(null),s=mr(e,i),o=Rve(r);return M.useEffect(()=>{const u=i.current,d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&g){const x=new Event("change",{bubbles:!0});g.call(u,r),u.dispatchEvent(x)}},[o,r]),m.jsx(Lm,{asChild:!0,children:m.jsx("select",{...n,ref:s,defaultValue:r})})});q$.displayName="BubbleSelect";function z$(t){const e=Oi(t),r=M.useRef(""),n=M.useRef(0),i=M.useCallback(o=>{const u=r.current+o;e(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[e]),s=M.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function W$(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=Qve(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const d=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function Qve(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Jve=v$,H$=w$,exe=_$,txe=S$,rxe=E$,G$=A$,nxe=N$,K$=R$,X$=k$,ixe=M$,sxe=L$,Y$=B$,Z$=F$,Q$=$$;const di=Jve,fi=exe,ei=M.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(H$,{ref:n,className:Je("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,m.jsx(txe,{asChild:!0,children:m.jsx(TC,{className:"h-4 w-4 opacity-50"})})]}));ei.displayName=H$.displayName;const J$=M.forwardRef(({className:t,...e},r)=>m.jsx(Y$,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(XW,{className:"h-4 w-4"})}));J$.displayName=Y$.displayName;const eV=M.forwardRef(({className:t,...e},r)=>m.jsx(Z$,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(TC,{className:"h-4 w-4"})}));eV.displayName=Z$.displayName;const ti=M.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>m.jsx(rxe,{children:m.jsxs(G$,{ref:i,className:Je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[m.jsx(J$,{}),m.jsx(nxe,{className:Je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(eV,{})]})}));ti.displayName=G$.displayName;const axe=M.forwardRef(({className:t,...e},r)=>m.jsx(K$,{ref:r,className:Je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));axe.displayName=K$.displayName;const or=M.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(X$,{ref:n,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(sxe,{children:m.jsx(CC,{className:"h-4 w-4"})})}),m.jsx(ixe,{children:e})]}));or.displayName=X$.displayName;const oxe=M.forwardRef(({className:t,...e},r)=>m.jsx(Q$,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",t),...e}));oxe.displayName=Q$.displayName;const Me=Symbol.for("drizzle:entityKind");function Ti(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Me))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(Me in r&&r[Me]===e[Me])return!0;r=Object.getPrototypeOf(r)}return!1}class Mm{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[Me]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class lxe{static[Me]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const zd=Symbol.for("drizzle:Name");class cxe{static[Me]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:n,columns:i,foreignColumns:s}=e();return{name:n,columns:i,foreignTable:s[0].table,foreignColumns:s}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new uxe(e,this)}}class uxe{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[Me]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(u=>u.name),s=n.map(u=>u.name),o=[this.table[zd],...i,n[0].table[zd],...s];return e??`${o.join("_")}_fk`}}function dxe(t,...e){return t(...e)}function fxe(t,e){return`${t[zd]}_${e.join("_")}_unique`}function wD(t,e,r){for(let n=e;n<t.length;n++){const i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function tV(t,e=0){const r=[];let n=e,i=!1;for(;n<t.length;){const s=t[n];if(s===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,s==="\\"){n+=2;continue}if(s==='"'){const[d,f]=wD(t,n+1,!0);r.push(d),n=f;continue}if(s==="}")return[r,n+1];if(s==="{"){const[d,f]=tV(t,n+1);r.push(d),n=f;continue}const[o,u]=wD(t,n,!1);r.push(o),n=u}return[r,n]}function hxe(t){const[e]=tV(t,1);return e}function rV(t){return`{${t.map(e=>Array.isArray(e)?rV(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class gr extends lxe{foreignKeyConfigs=[];static[Me]="PgColumnBuilder";array(e){return new mxe(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>dxe((s,o)=>{const u=new cxe(()=>{const d=s();return{columns:[e],foreignColumns:[d]}});return o.onUpdate&&u.onUpdate(o.onUpdate),o.onDelete&&u.onDelete(o.onDelete),u.build(r)},n,i))}buildExtraConfigColumn(e){return new pxe(e,this.config)}}class Jt extends Mm{constructor(e,r){r.uniqueName||(r.uniqueName=fxe(e,[r.name])),super(e,r),this.table=e}static[Me]="PgColumn"}class pxe extends Jt{static[Me]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class mxe extends gr{static[Me]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new PO(e,this.config,r)}}class PO extends Jt{constructor(e,r,n,i){super(e,r),this.baseColumn=n,this.range=i,this.size=r.size}size;static[Me]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=hxe(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const n=e.map(i=>i===null?null:Ti(this.baseColumn,PO)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?n:rV(n)}}const bD=Symbol.for("drizzle:isPgEnum");function gxe(t){return!!t&&typeof t=="function"&&bD in t&&t[bD]===!0}class nV{static[Me]="Subquery";constructor(e,r,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i}}}const yxe={startActiveSpan(t,e){return e()}},Wd=Symbol.for("drizzle:ViewBaseConfig"),YS=Symbol.for("drizzle:Schema"),_D=Symbol.for("drizzle:Columns"),SD=Symbol.for("drizzle:ExtraConfigColumns"),ZS=Symbol.for("drizzle:OriginalName"),QS=Symbol.for("drizzle:BaseName"),v1=Symbol.for("drizzle:IsAlias"),ED=Symbol.for("drizzle:ExtraConfigBuilder"),iV=Symbol.for("drizzle:IsDrizzleTable");let Ns=class{static[Me]="Table";static Symbol={Name:zd,Schema:YS,OriginalName:ZS,Columns:_D,ExtraConfigColumns:SD,BaseName:QS,IsAlias:v1,ExtraConfigBuilder:ED};[zd];[ZS];[YS];[_D];[SD];[QS];[v1]=!1;[iV]=!0;[ED]=void 0;constructor(e,r,n){this[zd]=this[ZS]=e,this[YS]=r,this[QS]=n}};function sV(t){return typeof t=="object"&&t!==null&&iV in t}function vxe(t){return t!=null&&typeof t.getSQL=="function"}function xxe(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class wa{static[Me]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new An([this])}}class An{constructor(e){this.queryChunks=e}static[Me]="SQL";decoder=aV;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return yxe.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:o,prepareTyping:u,inlineParams:d,paramStartIndex:f}=n;return xxe(e.map(g=>{if(Ti(g,wa))return{sql:g.value.join(""),params:[]};if(Ti(g,cC))return{sql:s(g.value),params:[]};if(g===void 0)return{sql:"",params:[]};if(Array.isArray(g)){const x=[new wa("(")];for(const[_,T]of g.entries())x.push(T),_<g.length-1&&x.push(new wa(", "));return x.push(new wa(")")),this.buildQueryFromSourceParams(x,n)}if(Ti(g,An))return this.buildQueryFromSourceParams(g.queryChunks,{...n,inlineParams:d||g.shouldInlineParams});if(Ti(g,Ns)){const x=g[Ns.Symbol.Schema],_=g[Ns.Symbol.Name];return{sql:x===void 0||g[v1]?s(_):s(x)+"."+s(_),params:[]}}if(Ti(g,Mm)){const x=i.getColumnCasing(g);if(r.invokeSource==="indexes")return{sql:s(x),params:[]};const _=g.table[Ns.Symbol.Schema];return{sql:g.table[v1]||_===void 0?s(g.table[Ns.Symbol.Name])+"."+s(x):s(_)+"."+s(g.table[Ns.Symbol.Name])+"."+s(x),params:[]}}if(Ti(g,wxe)){const x=g[Wd].schema,_=g[Wd].name;return{sql:x===void 0||g[Wd].isAlias?s(_):s(x)+"."+s(_),params:[]}}if(Ti(g,lV)){if(Ti(g.value,uC))return{sql:o(f.value++,g),params:[g],typings:["none"]};const x=g.value===null?null:g.encoder.mapToDriverValue(g.value);if(Ti(x,An))return this.buildQueryFromSourceParams([x],n);if(d)return{sql:this.mapInlineParam(x,n),params:[]};let _=["none"];return u&&(_=[u(g.encoder)]),{sql:o(f.value++,x),params:[x],typings:_}}return Ti(g,uC)?{sql:o(f.value++,g),params:[g],typings:["none"]}:Ti(g,An.Aliased)&&g.fieldAlias!==void 0?{sql:s(g.fieldAlias),params:[]}:Ti(g,nV)?g._.isWith?{sql:s(g._.alias),params:[]}:this.buildQueryFromSourceParams([new wa("("),g._.sql,new wa(") "),new cC(g._.alias)],n):gxe(g)?g.schema?{sql:s(g.schema)+"."+s(g.enumName),params:[]}:{sql:s(g.enumName),params:[]}:vxe(g)?g.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([g.getSQL()],n):this.buildQueryFromSourceParams([new wa("("),g.getSQL(),new wa(")")],n):d?{sql:this.mapInlineParam(g,n),params:[]}:{sql:o(f.value++,g),params:[g],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new An.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class cC{constructor(e){this.value=e}static[Me]="Name";brand;getSQL(){return new An([this])}}const aV={mapFromDriverValue:t=>t},oV={mapToDriverValue:t=>t};({...aV,...oV});class lV{constructor(e,r=oV){this.value=e,this.encoder=r}static[Me]="Param";brand;getSQL(){return new An([this])}}function x1(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new wa(t[0]));for(const[n,i]of e.entries())r.push(i,new wa(t[n+1]));return new An(r)}(t=>{function e(){return new An([])}t.empty=e;function r(d){return new An(d)}t.fromList=r;function n(d){return new An([new wa(d)])}t.raw=n;function i(d,f){const g=[];for(const[x,_]of d.entries())x>0&&f!==void 0&&g.push(f),g.push(_);return new An(g)}t.join=i;function s(d){return new cC(d)}t.identifier=s;function o(d){return new uC(d)}t.placeholder=o;function u(d,f){return new lV(d,f)}t.param=u})(x1||(x1={}));(t=>{class e{constructor(n,i){this.sql=n,this.fieldAlias=i}static[Me]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(An||(An={}));class uC{constructor(e){this.name=e}static[Me]="Placeholder";getSQL(){return new An([this])}}const cV=Symbol.for("drizzle:IsDrizzleView");class wxe{static[Me]="View";[Wd];[cV]=!0;constructor({name:e,schema:r,selectedFields:n,query:i}){this[Wd]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new An([this])}}function bxe(t){return typeof t=="object"&&t!==null&&cV in t}Mm.prototype.getSQL=function(){return new An([this])};Ns.prototype.getSQL=function(){return new An([this])};nV.prototype.getSQL=function(){return new An([this])};function _xe(t){return t[Ns.Symbol.Columns]}function Sxe(t){return t[Wd].selectedFields}function mi(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class $v extends gr{static[Me]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class Exe extends $v{static[Me]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new Axe(e,this.config)}}class Axe extends Jt{static[Me]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class Cxe extends $v{static[Me]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Txe(e,this.config)}}class Txe extends Jt{static[Me]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function Oxe(t,e){const{name:r,config:n}=mi(t,e);return n.mode==="number"?new Exe(r):new Cxe(r)}class Nxe extends gr{static[Me]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Ixe(e,this.config)}}class Ixe extends Jt{static[Me]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class Pxe extends gr{static[Me]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new Rxe(e,this.config)}}class Rxe extends Jt{static[Me]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function jxe(t,e){const{name:r,config:n}=mi(t,e);return n.mode==="number"?new Nxe(r):new Pxe(r)}class kxe extends gr{static[Me]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new Mxe(e,this.config)}}class Mxe extends Jt{static[Me]="PgBoolean";getSQLType(){return"boolean"}}function uV(t){return new kxe(t??"")}class Dxe extends gr{static[Me]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new Lxe(e,this.config)}}class Lxe extends Jt{static[Me]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function Bxe(t,e={}){const{name:r,config:n}=mi(t,e);return new Dxe(r,n)}class Fxe extends gr{static[Me]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new Uxe(e,this.config)}}class Uxe extends Jt{static[Me]="PgCidr";getSQLType(){return"cidr"}}function $xe(t){return new Fxe(t??"")}class Vxe extends gr{static[Me]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new qxe(e,this.config)}}class qxe extends Jt{static[Me]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function zxe(t){return(e,r)=>{const{name:n,config:i}=mi(e,r);return new Vxe(n,i,t)}}class eg extends gr{static[Me]="PgDateColumnBaseBuilder";defaultNow(){return this.default(x1`now()`)}}class Wxe extends eg{static[Me]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new Hxe(e,this.config)}}class Hxe extends Jt{static[Me]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class Gxe extends eg{static[Me]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new Kxe(e,this.config)}}class Kxe extends Jt{static[Me]="PgDateString";getSQLType(){return"date"}}function dV(t,e){const{name:r,config:n}=mi(t,e);return n?.mode==="date"?new Wxe(r):new Gxe(r)}class Xxe extends gr{static[Me]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Yxe(e,this.config)}}class Yxe extends Jt{static[Me]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function Zxe(t){return new Xxe(t??"")}class Qxe extends gr{static[Me]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new Jxe(e,this.config)}}class Jxe extends Jt{static[Me]="PgInet";getSQLType(){return"inet"}}function ewe(t){return new Qxe(t??"")}class twe extends $v{static[Me]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new rwe(e,this.config)}}class rwe extends Jt{static[Me]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function Zo(t){return new twe(t??"")}class nwe extends gr{static[Me]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new iwe(e,this.config)}}class iwe extends Jt{static[Me]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function swe(t,e={}){const{name:r,config:n}=mi(t,e);return new nwe(r,n)}class awe extends gr{static[Me]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new owe(e,this.config)}}class owe extends Jt{static[Me]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function lwe(t){return new awe(t??"")}class cwe extends gr{static[Me]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new uwe(e,this.config)}}class uwe extends Jt{static[Me]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function dwe(t){return new cwe(t??"")}class fwe extends gr{static[Me]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new hwe(e,this.config)}}class hwe extends Jt{static[Me]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class pwe extends gr{static[Me]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new mwe(e,this.config)}}class mwe extends Jt{static[Me]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function gwe(t,e){const{name:r,config:n}=mi(t,e);return!n?.mode||n.mode==="tuple"?new fwe(r):new pwe(r)}class ywe extends gr{static[Me]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new vwe(e,this.config)}}class vwe extends Jt{static[Me]="PgMacaddr";getSQLType(){return"macaddr"}}function xwe(t){return new ywe(t??"")}class wwe extends gr{static[Me]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new bwe(e,this.config)}}class bwe extends Jt{static[Me]="PgMacaddr8";getSQLType(){return"macaddr8"}}function _we(t){return new wwe(t??"")}class Swe extends gr{static[Me]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new Ewe(e,this.config)}}class Ewe extends Jt{static[Me]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function Awe(t,e){const{name:r,config:n}=mi(t,e);return new Swe(r,n?.precision,n?.scale)}class Cwe extends gr{static[Me]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new Twe(e,this.config)}}class Twe extends Jt{static[Me]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class Owe extends gr{static[Me]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new Nwe(e,this.config)}}class Nwe extends Jt{static[Me]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function Iwe(t,e){const{name:r,config:n}=mi(t,e);return!n?.mode||n.mode==="tuple"?new Cwe(r):new Owe(r)}function Pwe(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function AD(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function fV(t){const e=Pwe(t);let r=0;const n=e[r];r+=1;const i=new DataView(e.buffer),s=i.getUint32(r,n===1);if(r+=4,s&536870912&&(i.getUint32(r,n===1),r+=4),(s&65535)===1){const o=AD(e,r);r+=8;const u=AD(e,r);return r+=8,[o,u]}throw new Error("Unsupported geometry type")}class Rwe extends gr{static[Me]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new jwe(e,this.config)}}class jwe extends Jt{static[Me]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return fV(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class kwe extends gr{static[Me]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Mwe(e,this.config)}}class Mwe extends Jt{static[Me]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=fV(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function Dwe(t,e){const{name:r,config:n}=mi(t,e);return!n?.mode||n.mode==="tuple"?new Rwe(r):new kwe(r)}class Lwe extends gr{static[Me]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new Bwe(e,this.config)}}class Bwe extends Jt{static[Me]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function Fwe(t){return new Lwe(t??"")}class Uwe extends gr{static[Me]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new $we(e,this.config)}}class $we extends Jt{static[Me]="PgSerial";getSQLType(){return"serial"}}function sl(t){return new Uwe(t??"")}class Vwe extends $v{static[Me]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new qwe(e,this.config)}}class qwe extends Jt{static[Me]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function zwe(t){return new Vwe(t??"")}class Wwe extends gr{static[Me]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Hwe(e,this.config)}}class Hwe extends Jt{static[Me]="PgSmallSerial";getSQLType(){return"smallserial"}}function Gwe(t){return new Wwe(t??"")}class Kwe extends gr{static[Me]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new Xwe(e,this.config)}}class Xwe extends Jt{static[Me]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Bn(t,e={}){const{name:r,config:n}=mi(t,e);return new Kwe(r,n)}class Ywe extends eg{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[Me]="PgTimeBuilder";build(e){return new Zwe(e,this.config)}}class Zwe extends Jt{static[Me]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Qwe(t,e={}){const{name:r,config:n}=mi(t,e);return new Ywe(r,n.withTimezone??!1,n.precision)}class Jwe extends eg{static[Me]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new ebe(e,this.config)}}class ebe extends Jt{static[Me]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class tbe extends eg{static[Me]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new rbe(e,this.config)}}class rbe extends Jt{static[Me]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function qo(t,e={}){const{name:r,config:n}=mi(t,e);return n?.mode==="string"?new tbe(r,n.withTimezone??!1,n.precision):new Jwe(r,n?.withTimezone??!1,n?.precision)}class nbe extends gr{static[Me]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(x1`gen_random_uuid()`)}build(e){return new ibe(e,this.config)}}class ibe extends Jt{static[Me]="PgUUID";getSQLType(){return"uuid"}}function sbe(t){return new nbe(t??"")}class abe extends gr{static[Me]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new obe(e,this.config)}}class obe extends Jt{static[Me]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function lbe(t,e={}){const{name:r,config:n}=mi(t,e);return new abe(r,n)}class cbe extends gr{static[Me]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new ube(e,this.config)}}class ube extends Jt{static[Me]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function dbe(t,e){const{name:r,config:n}=mi(t,e);return new cbe(r,n)}class fbe extends gr{static[Me]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new hbe(e,this.config)}}class hbe extends Jt{static[Me]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function pbe(t,e){const{name:r,config:n}=mi(t,e);return new fbe(r,n)}class mbe extends gr{static[Me]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new gbe(e,this.config)}}class gbe extends Jt{static[Me]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function ybe(t,e){const{name:r,config:n}=mi(t,e);return new mbe(r,n)}class vbe extends gr{static[Me]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new xbe(e,this.config)}}class xbe extends Jt{static[Me]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function wbe(t,e){const{name:r,config:n}=mi(t,e);return new vbe(r,n)}function bbe(){return{bigint:Oxe,bigserial:jxe,boolean:uV,char:Bxe,cidr:$xe,customType:zxe,date:dV,doublePrecision:Zxe,inet:ewe,integer:Zo,interval:swe,json:lwe,jsonb:dwe,line:gwe,macaddr:xwe,macaddr8:_we,numeric:Awe,point:Iwe,geometry:Dwe,real:Fwe,serial:sl,smallint:zwe,smallserial:Gwe,text:Bn,time:Qwe,timestamp:qo,uuid:sbe,varchar:lbe,bit:dbe,halfvec:pbe,sparsevec:ybe,vector:wbe}}const dC=Symbol.for("drizzle:PgInlineForeignKeys"),CD=Symbol.for("drizzle:EnableRLS");class TD extends Ns{static[Me]="PgTable";static Symbol=Object.assign({},Ns.Symbol,{InlineForeignKeys:dC,EnableRLS:CD});[dC]=[];[CD]=!1;[Ns.Symbol.ExtraConfigBuilder]=void 0}function _be(t,e,r,n,i=t){const s=new TD(t,n,i),o=typeof e=="function"?e(bbe()):e,u=Object.fromEntries(Object.entries(o).map(([g,x])=>{const _=x;_.setName(g);const T=_.build(s);return s[dC].push(..._.buildForeignKeys(T,s)),[g,T]})),d=Object.fromEntries(Object.entries(o).map(([g,x])=>{const _=x;_.setName(g);const T=_.buildExtraConfigColumn(s);return[g,T]})),f=Object.assign(s,u);return f[Ns.Symbol.Columns]=u,f[Ns.Symbol.ExtraConfigColumns]=d,Object.assign(f,{enableRLS:()=>(f[TD.Symbol.EnableRLS]=!0,f)})}const lc=(t,e,r)=>_be(t,e,r,void 0),hn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function In(t,e){return e.includes(t.columnType)}function Sbe(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const Ebe=lr.union([lr.string(),lr.number(),lr.boolean(),lr.null()]),Abe=lr.union([Ebe,lr.record(lr.any()),lr.array(lr.any())]),Cbe=lr.custom(t=>t instanceof Buffer);function hV(t,e){const r=e?.zodInstance??lr,n=e?.coerce??{};let i;return Sbe(t)&&(i=t.enumValues.length?r.enum(t.enumValues):r.string()),i||(In(t,["PgGeometry","PgPointTuple"])?i=r.tuple([r.number(),r.number()]):In(t,["PgGeometryObject","PgPointObject"])?i=r.object({x:r.number(),y:r.number()}):In(t,["PgHalfVector","PgVector"])?(i=r.array(r.number()),i=t.dimensions?i.length(t.dimensions):i):In(t,["PgLine"])?i=r.tuple([r.number(),r.number(),r.number()]):In(t,["PgLineABC"])?i=r.object({a:r.number(),b:r.number(),c:r.number()}):In(t,["PgArray"])?(i=r.array(hV(t.baseColumn,r)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=r.array(r.any()):t.dataType==="number"?i=Tbe(t,r,n):t.dataType==="bigint"?i=Obe(t,r,n):t.dataType==="boolean"?i=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?i=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?i=Nbe(t,r,n):t.dataType==="json"?i=Abe:t.dataType==="custom"?i=r.any():t.dataType==="buffer"&&(i=Cbe)),i||(i=r.any()),i}function Tbe(t,e,r){let n=t.getSQLType().includes("unsigned"),i,s,o=!1;In(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=n?0:hn.INT8_MIN,s=n?hn.INT8_UNSIGNED_MAX:hn.INT8_MAX,o=!0):In(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=n?0:hn.INT16_MIN,s=n?hn.INT16_UNSIGNED_MAX:hn.INT16_MAX,o=!0):In(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=n?0:hn.INT24_MIN,s=n?hn.INT24_UNSIGNED_MAX:hn.INT24_MAX,o=In(t,["MySqlMediumInt","SingleStoreMediumInt"])):In(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=n?0:hn.INT32_MIN,s=n?hn.INT32_UNSIGNED_MAX:hn.INT32_MAX,o=!0):In(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=n?0:hn.INT48_MIN,s=n?hn.INT48_UNSIGNED_MAX:hn.INT48_MAX):In(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||In(t,["MySqlSerial","SingleStoreSerial"]),i=n?0:Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,o=!0):In(t,["MySqlYear","SingleStoreYear"])?(i=1901,s=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER);let u=r===!0||r?.number?e.coerce.number():e.number();return u=u.min(i).max(s),o?u.int():u}function Obe(t,e,r){const n=t.getSQLType().includes("unsigned"),i=n?0n:hn.INT64_MIN,s=n?hn.INT64_UNSIGNED_MAX:hn.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(i).max(s)}function Nbe(t,e,r){if(In(t,["PgUUID"]))return e.string().uuid();let n,i,s=!1;In(t,["PgVarchar","SQLiteText"])?n=t.length:In(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??hn.INT16_UNSIGNED_MAX:In(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=hn.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=hn.INT24_UNSIGNED_MAX:t.textType==="text"?n=hn.INT16_UNSIGNED_MAX:n=hn.INT8_UNSIGNED_MAX),In(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,s=!0),In(t,["PgBinaryVector"])&&(i=/^[01]+$/,n=t.dimensions);let o=r===!0||r?.string?e.coerce.string():e.string();return o=i?o.regex(i):o,n&&s?o.length(n):n?o.max(n):o}function pV(t){return sV(t)?_xe(t):Sxe(t)}function mV(t,e,r,n){const i={};for(const[s,o]of Object.entries(t)){if(!Ti(o,Mm)&&!Ti(o,An)&&!Ti(o,An.Aliased)&&typeof o=="object"){const x=sV(o)||bxe(o)?pV(o):o;i[s]=mV(x,e[s]??{},r,n);continue}const u=e[s];if(u!==void 0&&typeof u!="function"){i[s]=u;continue}const d=Ti(o,Mm)?o:void 0,f=d?hV(d,n):lr.any(),g=typeof u=="function"?u(f):f;r.never(d)||(i[s]=g,d&&(r.nullable(d)&&(i[s]=i[s].nullable()),r.optional(d)&&(i[s]=i[s].optional())))}return lr.object(i)}const Ibe={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Jf=(t,e)=>{const r=pV(t);return mV(r,{},Ibe)},tg=lc("users",{id:sl("id").primaryKey(),idNumber:Bn("id_number").notNull().unique(),email:Bn("email").notNull().unique(),password:Bn("password").notNull(),fullName:Bn("full_name").notNull(),role:Bn("role",{enum:["student","teacher","superadmin"]}).notNull(),profilePicture:Bn("profile_picture"),createdAt:qo("created_at").defaultNow()}),rg=lc("subjects",{id:sl("id").primaryKey(),name:Bn("name").notNull(),code:Bn("code").notNull().unique(),teacherId:Zo("teacher_id").references(()=>tg.id),description:Bn("description")}),Pbe=lc("enrollments",{id:sl("id").primaryKey(),studentId:Zo("student_id").references(()=>tg.id).notNull(),subjectId:Zo("subject_id").references(()=>rg.id).notNull(),enrolledAt:qo("enrolled_at").defaultNow()}),Rbe=lc("attendance",{id:sl("id").primaryKey(),studentId:Zo("student_id").references(()=>tg.id).notNull(),subjectId:Zo("subject_id").references(()=>rg.id).notNull(),date:dV("date").notNull(),status:Bn("status",{enum:["present","late","absent","excused"]}).notNull(),timeIn:qo("time_in").defaultNow(),remarks:Bn("remarks")}),jbe=lc("qr_codes",{id:sl("id").primaryKey(),subjectId:Zo("subject_id").references(()=>rg.id).notNull(),code:Bn("code").notNull(),active:uV("active").default(!0),createdAt:qo("created_at").defaultNow()}),kbe=lc("schedules",{id:sl("id").primaryKey(),subjectId:Zo("subject_id").references(()=>rg.id).notNull(),dayOfWeek:Bn("day_of_week",{enum:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}).notNull(),startTime:Bn("start_time").notNull(),endTime:Bn("end_time").notNull(),room:Bn("room").notNull()});lc("password_reset_tokens",{id:sl("id").primaryKey(),userId:Zo("user_id").references(()=>tg.id).notNull(),token:Bn("token").notNull().unique(),expiresAt:qo("expires_at").notNull(),usedAt:qo("used_at"),createdAt:qo("created_at").defaultNow()});lc("system_settings",{id:sl("id").primaryKey(),key:Bn("key").notNull().unique(),value:Bn("value").notNull(),updatedAt:qo("updated_at").defaultNow()});const gV=Jf(tg).omit({id:!0,createdAt:!0}),Mbe=Jf(rg).omit({id:!0});Jf(Pbe).omit({id:!0,enrolledAt:!0});Jf(Rbe).omit({id:!0,timeIn:!0});Jf(jbe).omit({id:!0,createdAt:!0});Jf(kbe).omit({id:!0});const lo=M.forwardRef(({className:t,...e},r)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:r,className:Je("w-full caption-bottom text-sm",t),...e})}));lo.displayName="Table";const co=M.forwardRef(({className:t,...e},r)=>m.jsx("thead",{ref:r,className:Je("[&_tr]:border-b",t),...e}));co.displayName="TableHeader";const uo=M.forwardRef(({className:t,...e},r)=>m.jsx("tbody",{ref:r,className:Je("[&_tr:last-child]:border-0",t),...e}));uo.displayName="TableBody";const Dbe=M.forwardRef(({className:t,...e},r)=>m.jsx("tfoot",{ref:r,className:Je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Dbe.displayName="TableFooter";const rn=M.forwardRef(({className:t,...e},r)=>m.jsx("tr",{ref:r,className:Je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));rn.displayName="TableRow";const Wt=M.forwardRef(({className:t,...e},r)=>m.jsx("th",{ref:r,className:Je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Wt.displayName="TableHead";const Dt=M.forwardRef(({className:t,...e},r)=>m.jsx("td",{ref:r,className:Je("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Dt.displayName="TableCell";const Lbe=M.forwardRef(({className:t,...e},r)=>m.jsx("caption",{ref:r,className:Je("mt-4 text-sm text-muted-foreground",t),...e}));Lbe.displayName="TableCaption";var RO="Avatar",[Bbe]=Ls(RO),[Fbe,yV]=Bbe(RO),vV=M.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=M.useState("idle");return m.jsx(Fbe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:m.jsx(Pt.span,{...n,ref:e})})});vV.displayName=RO;var xV="AvatarImage",wV=M.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=yV(xV,r),u=Ube(n,s),d=Oi(f=>{i(f),o.onImageLoadingStatusChange(f)});return ri(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?m.jsx(Pt.img,{...s,ref:e,src:n}):null});wV.displayName=xV;var bV="AvatarFallback",_V=M.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=yV(bV,r),[o,u]=M.useState(n===void 0);return M.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&s.imageLoadingStatus!=="loaded"?m.jsx(Pt.span,{...i,ref:e}):null});_V.displayName=bV;function OD(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ube(t,{referrerPolicy:e,crossOrigin:r}){const n=Vbe(),i=M.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,u]=M.useState(()=>OD(s,t));return ri(()=>{u(OD(s,t))},[s,t]),ri(()=>{const d=x=>()=>{u(x)};if(!s)return;const f=d("loaded"),g=d("error");return s.addEventListener("load",f),s.addEventListener("error",g),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",f),s.removeEventListener("error",g)}},[s,r,e]),o}function $be(){return()=>{}}function Vbe(){return M.useSyncExternalStore($be,()=>!0,()=>!1)}var SV=vV,EV=wV,AV=_V;const Vv=M.forwardRef(({className:t,...e},r)=>m.jsx(SV,{ref:r,className:Je(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Vv.displayName=SV.displayName;const CV=M.forwardRef(({className:t,...e},r)=>m.jsx(EV,{ref:r,className:Je("aspect-square h-full w-full",t),...e}));CV.displayName=EV.displayName;const qv=M.forwardRef(({className:t,...e},r)=>m.jsx(AV,{ref:r,className:Je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));qv.displayName=AV.displayName;function ND({value:t,onChange:e,className:r}){const[n,i]=t?t.split(":"):["09","00"],s=parseInt(n),o=isNaN(s)?9:s,u=parseInt(i)||0,d=o>=12,f=o%12||12,g=E=>{let A=parseInt(E);d&&A!==12&&(A+=12),!d&&A===12&&(A=0);const R=`${A.toString().padStart(2,"0")}:${i}`;e(R)},x=E=>{const A=`${n}:${E}`;e(A)},_=E=>{let A=parseInt(n);E==="PM"&&A<12&&(A+=12),E==="AM"&&A>=12&&(A-=12);const R=`${A.toString().padStart(2,"0")}:${i}`;e(R)},T=Array.from({length:12},(E,A)=>(A+1).toString().padStart(2,"0")),O=Array.from({length:12},(E,A)=>(A*5).toString().padStart(2,"0"));return m.jsxs("div",{className:`flex items-center gap-1 w-full ${r}`,children:[m.jsxs(di,{value:f.toString().padStart(2,"0"),onValueChange:g,children:[m.jsx(ei,{className:"flex-1 h-9 px-2",children:m.jsx(fi,{placeholder:"HH"})}),m.jsx(ti,{children:T.map(E=>m.jsx(or,{value:E,children:E},E))})]}),m.jsx("span",{className:"text-muted-foreground font-bold",children:":"}),m.jsxs(di,{value:u.toString().padStart(2,"0"),onValueChange:x,children:[m.jsx(ei,{className:"flex-1 h-9 px-2",children:m.jsx(fi,{placeholder:"MM"})}),m.jsx(ti,{children:O.map(E=>m.jsx(or,{value:E,children:E},E))})]}),m.jsxs(di,{value:d?"PM":"AM",onValueChange:_,children:[m.jsx(ei,{className:"flex-1 h-9 px-2",children:m.jsx(fi,{})}),m.jsxs(ti,{children:[m.jsx(or,{value:"AM",children:"AM"}),m.jsx(or,{value:"PM",children:"PM"})]})]})]})}function qbe(){const{user:t}=$i(),{data:e,isLoading:r}=qf(),{data:n,isLoading:i}=dT(t?.role==="student"?t?.id:void 0),s=t?.role==="student"?n:e,o=t?.role==="student"?i:r,[u,d]=M.useState(""),[f,g]=M.useState(null),[x,_]=M.useState(null),[T,O]=M.useState(null),[E,A]=vu();M.useEffect(()=>{if(s&&s.length>0){const D=new URLSearchParams(window.location.search).get("viewStudents");if(D){const L=s.find(F=>F.id===parseInt(D));L&&(g(L),A("/subjects",{replace:!0}))}}},[s,A]);const R=s?.filter(I=>I.name.toLowerCase().includes(u.toLowerCase())||I.code.toLowerCase().includes(u.toLowerCase())),P=I=>{g(I)};return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:t?.role==="teacher"?"My Classes":t?.role==="student"?"My Subjects":"Subjects"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:t?.role==="student"?"View your enrolled subjects and class details.":"Manage your academic courses and view details."})]}),t?.role==="teacher"&&m.jsx(Wbe,{})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Gd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{placeholder:"Search subjects...",className:"pl-9 max-w-md",value:u,onChange:I=>d(I.target.value)})]}),o?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(I=>m.jsx("div",{className:"h-48 bg-gray-100 rounded-xl animate-pulse"},I))}):m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[R?.map(I=>m.jsxs(zt,{className:"group cursor-pointer hover:border-primary/50 hover:shadow-lg transition-all duration-300",onClick:()=>P(I),children:[m.jsxs(Qr,{children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("div",{className:"px-2.5 py-1 rounded-md bg-secondary text-secondary-foreground text-xs font-semibold font-mono",children:I.code}),t?.role==="teacher"&&m.jsxs(fve,{children:[m.jsx(hve,{asChild:!0,children:m.jsx(yt,{variant:"ghost",size:"icon",className:"h-8 w-8 -mt-2 -mr-2 text-muted-foreground",onClick:D=>D.stopPropagation(),children:m.jsx(ZW,{className:"h-4 w-4"})})}),m.jsxs(YU,{align:"end",onClick:D=>D.stopPropagation(),children:[m.jsxs(nC,{className:"cursor-pointer focus:text-white hover:!text-white",onClick:()=>_(I),children:[m.jsx(Hd,{className:"w-4 h-4 mr-2"}),"Edit Schedule"]}),m.jsx(ZU,{}),m.jsxs(nC,{className:"text-destructive cursor-pointer focus:text-white hover:!text-white hover:!bg-destructive focus:!bg-destructive",onClick:()=>O(I),children:[m.jsx(IC,{className:"w-4 h-4 mr-2"}),"Delete Subject"]})]})]})]}),m.jsx(Jr,{className:"mt-2 text-xl",children:I.name}),m.jsx(Rn,{className:"line-clamp-2 min-h-[40px]",children:I.description||"No description provided."})]}),m.jsx(Xt,{children:m.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground border-t pt-4",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Qo,{className:"w-4 h-4"}),m.jsx("span",{children:"View Students"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Ra,{className:"w-4 h-4"}),m.jsx("span",{children:"Active"})]})]})})]},I.id)),R?.length===0&&m.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16 text-center bg-gray-50 border border-dashed rounded-xl",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:m.jsx(Gd,{className:"w-6 h-6 text-gray-400"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No subjects found"}),m.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms."})]})]}),m.jsx(zbe,{subject:f,open:!!f,onClose:()=>g(null)}),m.jsx(Hbe,{subject:x,open:!!x,onClose:()=>_(null)}),m.jsx(Gbe,{subject:T,open:!!T,onClose:()=>O(null)})]})}function zbe({subject:t,open:e,onClose:r}){const{data:n,isLoading:i}=z1(t?.id||0);return t?m.jsx(Tu,{open:e,onOpenChange:s=>!s&&r(),children:m.jsxs(nc,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[m.jsx(ic,{children:m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx(sc,{className:"text-xl",children:t.name}),m.jsxs(Zf,{className:"flex items-center gap-2 mt-1",children:[m.jsx("span",{className:"font-mono text-xs bg-secondary px-2 py-0.5 rounded",children:t.code}),m.jsx("span",{children:""}),m.jsxs("span",{children:[n?.length||0," Students Enrolled"]})]})]})})}),m.jsx("div",{className:"flex-1 overflow-auto",children:i?m.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(s=>m.jsx("div",{className:"h-12 bg-gray-100 rounded animate-pulse"},s))}):n&&n.length>0?m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(rn,{children:[m.jsx(Wt,{className:"w-12",children:"#"}),m.jsx(Wt,{children:"Student"}),m.jsx(Wt,{children:"Student Number"})]})}),m.jsx(uo,{children:n.map((s,o)=>m.jsxs(rn,{children:[m.jsx(Dt,{className:"text-muted-foreground",children:o+1}),m.jsx(Dt,{children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Vv,{className:"h-8 w-8",children:m.jsx(qv,{className:"bg-primary/10 text-primary text-xs",children:s.fullName.split(" ").map(u=>u[0]).join("").toUpperCase()})}),m.jsx("span",{className:"font-medium",children:s.fullName})]})}),m.jsx(Dt,{className:"font-mono text-muted-foreground",children:String(s.id).padStart(6,"0")})]},s.id))})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:m.jsx(Qo,{className:"w-8 h-8 text-gray-400"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No students enrolled"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"Students will appear here once they enroll in this subject."})]})}),m.jsx(Ou,{children:m.jsx(yt,{variant:"outline",onClick:r,children:"Close"})})]})}):null}function Wbe(){const[t,e]=M.useState(!1),{mutate:r,isPending:n}=wJ(),{user:i}=$i(),s=xu({resolver:wu(Mbe),defaultValues:{name:"",code:"",description:"",teacherId:i?.id}}),o=u=>{r(u,{onSuccess:()=>{e(!1),s.reset()}})};return m.jsxs(Tu,{open:t,onOpenChange:e,children:[m.jsx(tU,{asChild:!0,children:m.jsxs(yt,{className:"shadow-lg shadow-primary/20 hover:shadow-primary/30",children:[m.jsx(q6,{className:"w-4 h-4 mr-2"}),"New Subject"]})}),m.jsxs(nc,{children:[m.jsxs(ic,{children:[m.jsx(sc,{children:"Create New Subject"}),m.jsx(Zf,{children:"Add a new course to your teaching catalog."})]}),m.jsx(bu,{...s,children:m.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[m.jsx(yn,{control:s.control,name:"name",render:({field:u})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Subject Name"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g. Advanced Calculus",...u})}),m.jsx(on,{})]})}),m.jsx(yn,{control:s.control,name:"code",render:({field:u})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Course Code"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g. MATH101",...u})}),m.jsx(on,{})]})}),m.jsx(yn,{control:s.control,name:"description",render:({field:u})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Description (Optional)"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"Brief overview of the course...",...u,value:u.value||""})}),m.jsx(on,{})]})}),m.jsxs(Ou,{children:[m.jsx(yt,{type:"button",variant:"ghost",onClick:()=>e(!1),children:"Cancel"}),m.jsx(yt,{type:"submit",disabled:n,children:n?"Creating...":"Create Subject"})]})]})})]})]})}function Hbe({subject:t,open:e,onClose:r}){const{data:n,isLoading:i}=SJ(t?.id||0),{mutate:s,isPending:o}=EJ(),{mutate:u}=AJ(),[d,f]=M.useState(!1),[g,x]=M.useState({dayOfWeek:"Monday",startTime:"09:00",endTime:"10:30",room:""}),_=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],T=D=>{const[L,F]=D.split(":"),U=parseInt(L),H=U>=12?"PM":"AM";return`${U%12||12}:${F} ${H}`},O=D=>{const[L,F]=D.split(":").map(Number);return L*60+F},E=(D,L,F,U)=>{const H=O(D),W=O(L),ce=O(F),K=O(U);return H<K&&ce<W},A=n?.find(D=>D.dayOfWeek===g.dayOfWeek&&E(D.startTime,D.endTime,g.startTime,g.endTime)),R=!!A,P=()=>{!t||!g.room||R||s({subjectId:t.id,dayOfWeek:g.dayOfWeek,startTime:g.startTime,endTime:g.endTime,room:g.room},{onSuccess:()=>{f(!1),x({dayOfWeek:"Monday",startTime:"09:00",endTime:"10:30",room:""})}})},I=D=>{u(D)};return t?m.jsx(Tu,{open:e,onOpenChange:D=>!D&&r(),children:m.jsxs(nc,{className:"max-w-lg max-h-[85vh] flex flex-col",children:[m.jsxs(ic,{children:[m.jsx(sc,{children:"Edit Schedule"}),m.jsxs(Zf,{children:["Manage the schedule for ",t.name," (",t.code,")"]})]}),m.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1 pr-1",children:[i?m.jsx("div",{className:"space-y-2",children:[1,2,3].map(D=>m.jsx("div",{className:"h-12 bg-gray-100 rounded animate-pulse"},D))}):n&&n.length>0?m.jsx("div",{className:"space-y-2",children:n.sort((D,L)=>_.indexOf(D.dayOfWeek)-_.indexOf(L.dayOfWeek)).map(D=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2 min-w-[100px]",children:[m.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"font-medium text-sm",children:D.dayOfWeek})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[m.jsx(Wl,{className:"h-3.5 w-3.5"}),m.jsxs("span",{children:[T(D.startTime)," - ",T(D.endTime)]})]}),m.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[m.jsx(dE,{className:"h-3.5 w-3.5"}),m.jsx("span",{children:D.room})]})]}),m.jsx(yt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>I(D.id),children:m.jsx(IC,{className:"h-4 w-4"})})]},D.id))}):m.jsx("div",{className:"text-center py-6 text-muted-foreground bg-gray-50 rounded-lg border border-dashed",children:"No schedules set. Add one below."}),d?m.jsxs("div",{className:"p-4 border rounded-lg space-y-4 bg-gray-50",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium",children:"Day"}),m.jsxs(di,{value:g.dayOfWeek,onValueChange:D=>x({...g,dayOfWeek:D}),children:[m.jsx(ei,{children:m.jsx(fi,{})}),m.jsx(ti,{children:_.map(D=>m.jsx(or,{value:D,children:D},D))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium",children:"Room"}),m.jsx(jr,{placeholder:"e.g. Q3212",value:g.room,onChange:D=>x({...g,room:D.target.value})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),m.jsx(ND,{value:g.startTime,onChange:D=>x({...g,startTime:D})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium",children:"End Time"}),m.jsx(ND,{value:g.endTime,onChange:D=>x({...g,endTime:D})})]})]}),R&&A&&m.jsxs("p",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded-md border border-destructive/20",children:["Schedule conflict: This time overlaps with an existing schedule on ",A.dayOfWeek," (",T(A.startTime)," - ",T(A.endTime),"). Please choose a different time."]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx(yt,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:"Cancel"}),m.jsx(yt,{size:"sm",onClick:P,disabled:o||!g.room||R,children:o?"Adding...":"Add Schedule"})]})]}):m.jsxs(yt,{variant:"outline",className:"w-full",onClick:()=>f(!0),children:[m.jsx(q6,{className:"w-4 h-4 mr-2"}),"Add Schedule"]})]}),m.jsx(Ou,{children:m.jsx(yt,{variant:"outline",onClick:r,children:"Done"})})]})}):null}function Gbe({subject:t,open:e,onClose:r}){const{toast:n}=hi(),i=Qi(),{mutate:s,isPending:o}=Ds({mutationFn:async u=>{const{error:d}=await St.from("subjects").delete().eq("id",u);if(d)throw new Error("Failed to delete subject")},onSuccess:()=>{i.invalidateQueries({queryKey:["subjects"]}),n({title:"Subject Deleted",description:"The subject has been removed."}),r()},onError:()=>{n({title:"Error",description:"Failed to delete subject.",variant:"destructive"})}});return t?m.jsx(km,{open:e,onOpenChange:u=>!u&&r(),children:m.jsxs(Cf,{children:[m.jsxs(Tf,{children:[m.jsx(Nf,{children:"Delete Subject"}),m.jsxs(If,{children:["Are you sure you want to delete ",m.jsx("strong",{children:t.name})," (",t.code,")? This action cannot be undone. All schedules and enrollment data for this subject will also be removed."]})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(Pf,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:u=>{u.preventDefault(),s(t.id)},disabled:o,children:o?"Deleting...":"Delete Subject"})]})]})}):null}function Kbe(t){return{id:t.id,idNumber:t.id_number,email:t.email,password:"",fullName:t.full_name,role:t.role,profilePicture:t.profile_picture,createdAt:t.created_at?new Date(t.created_at):null}}function TV(t){return La({queryKey:["users",t],queryFn:async()=>{let r=St.from("users").select("id, id_number, email, full_name, role, profile_picture, created_at");t&&(r=r.eq("role",t));const{data:n,error:i}=await r;if(i)throw new Error("Failed to fetch users");return(n||[]).map(Kbe)}})}function Xbe(){const t=Qi(),{toast:e}=hi();return Ds({mutationFn:async r=>{const n=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!n.ok){const i=await n.json().catch(()=>({}));throw new Error(i.message||"Failed to create user")}return await n.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),e({title:"User Created",description:"New user account has been successfully created."})},onError:r=>{e({title:"Error",description:r.message,variant:"destructive"})}})}function Ybe(){const t=Qi(),{toast:e}=hi();return Ds({mutationFn:async r=>{const n=await fetch(`/api/users/${r}`,{method:"DELETE",credentials:"include"});if(!n.ok&&n.status!==204){const i=await n.json().catch(()=>({}));throw new Error(i.message||"Failed to delete user")}},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),e({title:"User Deleted",description:"The user account has been removed from all systems."})},onError:r=>{e({title:"Error",description:r.message,variant:"destructive"})}})}function Zbe(){const t=Qi(),{toast:e}=hi();return Ds({mutationFn:async({id:r,data:n})=>{const i=await fetch(`/api/users/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)});if(!i.ok){const s=await i.json().catch(()=>({}));throw new Error(s.message||"Failed to update user")}return await i.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),e({title:"User Updated",description:"User account has been successfully updated."})},onError:r=>{e({title:"Error",description:r.message,variant:"destructive"})}})}function Qbe(){const[t,e]=M.useState(void 0),{data:r,isLoading:n}=TV(t),{mutate:i}=Ybe(),[s,o]=M.useState(""),[u,d]=M.useState(null),[f,g]=M.useState(!1),x=r?.filter(_=>_.fullName.toLowerCase().includes(s.toLowerCase())||_.idNumber.toLowerCase().includes(s.toLowerCase())||(_.email||"").toLowerCase().includes(s.toLowerCase()));return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:"User Management"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"Create, manage, and remove system users."})]}),m.jsx(Jbe,{})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsxs("div",{className:"relative flex-1 max-w-sm",children:[m.jsx(Gd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{placeholder:"Search by name, ID number, or email...",className:"pl-9",value:s,onChange:_=>o(_.target.value)})]}),m.jsxs(di,{value:t||"all",onValueChange:_=>e(_==="all"?void 0:_),children:[m.jsx(ei,{className:"w-[180px]",children:m.jsx(fi,{placeholder:"Filter by Role"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Roles"}),m.jsx(or,{value:"student",children:"Student"}),m.jsx(or,{value:"teacher",children:"Teacher"}),m.jsx(or,{value:"superadmin",children:"Superadmin"})]})]})]}),m.jsx("div",{className:"border rounded-xl bg-white shadow-sm overflow-hidden",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(rn,{className:"bg-gray-50/50",children:[m.jsx(Wt,{children:"Full Name"}),m.jsx(Wt,{children:"ID Number"}),m.jsx(Wt,{children:"Email"}),m.jsx(Wt,{children:"Role"}),m.jsx(Wt,{className:"text-right",children:"Actions"})]})}),m.jsxs(uo,{children:[n?m.jsx(rn,{children:m.jsx(Dt,{colSpan:5,className:"h-24 text-center",children:"Loading..."})}):x?.map(_=>m.jsxs(rn,{children:[m.jsx(Dt,{className:"font-medium",children:_.fullName}),m.jsx(Dt,{className:"font-mono text-xs text-muted-foreground",children:_.idNumber}),m.jsx(Dt,{className:"text-sm text-muted-foreground",children:_.email}),m.jsx(Dt,{children:m.jsx("span",{className:Je("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium capitalize",_.role==="student"&&"bg-blue-50 text-blue-700 ring-1 ring-blue-700/10",_.role==="teacher"&&"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-700/10",_.role==="superadmin"&&"bg-purple-50 text-purple-700 ring-1 ring-purple-700/10"),children:_.role})}),m.jsxs(Dt,{className:"text-right",children:[m.jsx(yt,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:()=>{d(_),g(!0)},children:m.jsx(aH,{className:"w-4 h-4"})}),m.jsxs(km,{children:[m.jsx(g1,{asChild:!0,children:m.jsx(yt,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",children:m.jsx(IC,{className:"w-4 h-4"})})}),m.jsxs(Cf,{children:[m.jsxs(Tf,{children:[m.jsx(Nf,{children:"Delete User?"}),m.jsxs(If,{children:["This action cannot be undone. This will permanently delete the user account for ",_.fullName,"."]})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(Pf,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>i(_.id),children:"Delete"})]})]})]})]})]},_.id)),x?.length===0&&m.jsx(rn,{children:m.jsx(Dt,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:"No users found matching your criteria."})})]})]})}),m.jsx(e2e,{user:u,open:f,onOpenChange:_=>{g(_),_||d(null)}})]})}function Jbe(){const[t,e]=M.useState(!1),{mutate:r,isPending:n}=Xbe(),i=xu({resolver:wu(gV),defaultValues:{fullName:"",idNumber:"",email:"",password:"",role:"student"}}),s=o=>{r(o,{onSuccess:()=>{e(!1),i.reset()}})};return m.jsxs(Tu,{open:t,onOpenChange:e,children:[m.jsx(tU,{asChild:!0,children:m.jsxs(yt,{className:"shadow-lg shadow-primary/20 hover:shadow-primary/30",children:[m.jsx(K0,{className:"w-4 h-4 mr-2"}),"Add User"]})}),m.jsxs(nc,{children:[m.jsxs(ic,{children:[m.jsx(sc,{children:"Add New User"}),m.jsx(Zf,{children:"Create a new account for a student, teacher, or administrator."})]}),m.jsx(bu,{...i,children:m.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[m.jsx(yn,{control:i.control,name:"fullName",render:({field:o})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Full Name"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g. Juan Dela Cruz",...o})}),m.jsx(on,{})]})}),m.jsx(yn,{control:i.control,name:"idNumber",render:({field:o})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"ID Number"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g. 12345678",...o})}),m.jsx(on,{})]})}),m.jsx(yn,{control:i.control,name:"email",render:({field:o})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Email"}),m.jsx(an,{children:m.jsx(jr,{type:"email",placeholder:"e.g. user@example.com",...o})}),m.jsx(on,{})]})}),m.jsx(yn,{control:i.control,name:"password",render:({field:o})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Password"}),m.jsx(an,{children:m.jsx(jr,{type:"password",placeholder:"",...o})}),m.jsx(on,{})]})}),m.jsx(yn,{control:i.control,name:"role",render:({field:o})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Role"}),m.jsxs(di,{onValueChange:o.onChange,defaultValue:o.value,children:[m.jsx(an,{children:m.jsx(ei,{children:m.jsx(fi,{placeholder:"Select a role"})})}),m.jsxs(ti,{children:[m.jsx(or,{value:"student",children:"Student"}),m.jsx(or,{value:"teacher",children:"Teacher"}),m.jsx(or,{value:"superadmin",children:"Superadmin"})]})]}),m.jsx(on,{})]})}),m.jsxs(Ou,{children:[m.jsx(yt,{type:"button",variant:"ghost",onClick:()=>e(!1),children:"Cancel"}),m.jsx(yt,{type:"submit",disabled:n,children:n?"Creating...":"Create Account"})]})]})})]})]})}function e2e({user:t,open:e,onOpenChange:r}){const{mutate:n,isPending:i}=Zbe(),s=xu({resolver:wu(gV.partial().extend({fullName:lr.string().min(1,"Full name is required"),idNumber:lr.string().min(1,"ID Number is required"),email:lr.string().email("Invalid email address"),role:lr.enum(["student","teacher","superadmin"])})),defaultValues:{fullName:"",idNumber:"",email:"",password:"",role:"student"}});M.useEffect(()=>{t&&s.reset({fullName:t.fullName||"",idNumber:t.idNumber||"",email:t.email||"",password:"",role:t.role||"student"})},[t?.id,s]);const o=u=>{if(!t)return;const d={fullName:u.fullName,idNumber:u.idNumber,email:u.email,role:u.role};u.password&&u.password.trim()!==""&&(d.password=u.password),n({id:t.id,data:d},{onSuccess:()=>{r(!1),s.reset()}})};return m.jsx(Tu,{open:e,onOpenChange:r,children:m.jsxs(nc,{children:[m.jsxs(ic,{children:[m.jsx(sc,{children:"Edit User"}),m.jsx(Zf,{children:"Update the user's account information. Leave password blank to keep the current password."})]}),m.jsx(bu,{...s,children:m.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[m.jsx(yn,{control:s.control,name:"fullName",render:({field:u})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Full Name"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g. Juan Dela Cruz",...u})}),m.jsx(on,{})]})}),m.jsx(yn,{control:s.control,name:"idNumber",render:({field:u})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"ID Number"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g. 12345678",...u})}),m.jsx(on,{})]})}),m.jsx(yn,{control:s.control,name:"email",render:({field:u})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Email"}),m.jsx(an,{children:m.jsx(jr,{type:"email",placeholder:"e.g. user@example.com",...u})}),m.jsx(on,{})]})}),m.jsx(yn,{control:s.control,name:"password",render:({field:u})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Password"}),m.jsx(an,{children:m.jsx(jr,{type:"password",placeholder:"Leave blank to keep current",...u})}),m.jsx(on,{})]})}),m.jsx(yn,{control:s.control,name:"role",render:({field:u})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Role"}),m.jsxs(di,{onValueChange:u.onChange,value:u.value,children:[m.jsx(an,{children:m.jsx(ei,{children:m.jsx(fi,{placeholder:"Select a role"})})}),m.jsxs(ti,{children:[m.jsx(or,{value:"student",children:"Student"}),m.jsx(or,{value:"teacher",children:"Teacher"}),m.jsx(or,{value:"superadmin",children:"Superadmin"})]})]}),m.jsx(on,{})]})}),m.jsxs(Ou,{children:[m.jsx(yt,{type:"button",variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),m.jsx(yt,{type:"submit",disabled:i,children:i?"Saving...":"Save Changes"})]})]})})]})})}const t2e=Bm("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Fn({className:t,variant:e,...r}){return m.jsx("div",{className:Je(t2e({variant:e}),t),...r})}function r2e(){const[t,e]=M.useState(null),[r,n]=M.useState(""),{data:i=[],isLoading:s}=qf(),{data:o=[],isLoading:u}=z1(t||0),{data:d=[],isLoading:f}=TV("student"),g=bJ(),x=_J(),_=new Set(o.map(I=>I.id)),T=d.filter(I=>!_.has(I.id)),O=T.filter(I=>I.fullName.toLowerCase().includes(r.toLowerCase())||I.idNumber.toLowerCase().includes(r.toLowerCase())||I.email.toLowerCase().includes(r.toLowerCase())),E=o.filter(I=>I.fullName.toLowerCase().includes(r.toLowerCase())||I.idNumber.toLowerCase().includes(r.toLowerCase())||I.email.toLowerCase().includes(r.toLowerCase())),A=I=>{t&&g.mutate({subjectId:t,studentId:I})},R=I=>{t&&x.mutate({subjectId:t,studentId:I})},P=i.find(I=>I.id===t);return m.jsxs("div",{className:"space-y-6 overflow-x-hidden",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Enrollment Management"}),m.jsx("p",{className:"text-muted-foreground",children:"Enroll or remove students from subjects"})]}),m.jsxs(zt,{className:"border-2 border-primary/20",children:[m.jsxs(Qr,{children:[m.jsxs(Jr,{className:"flex items-center gap-2",children:[m.jsx(Ra,{className:"h-5 w-5"}),"Select Subject"]}),m.jsx(Rn,{children:"Choose a subject to manage student enrollments"})]}),m.jsx(Xt,{children:m.jsxs(di,{value:t?.toString()||"",onValueChange:I=>e(Number(I)),disabled:s,children:[m.jsx(ei,{className:"w-full md:w-[400px]",children:m.jsx(fi,{placeholder:"Select a subject..."})}),m.jsx(ti,{children:i.map(I=>m.jsxs(or,{value:I.id.toString(),children:[I.code," - ",I.name]},I.id))})]})})]}),t&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative",children:[m.jsx(Gd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{placeholder:"Search students by name, ID number, or email...",value:r,onChange:I=>n(I.target.value),className:"pl-10"})]}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsxs(zt,{className:"border-2 border-primary/20 min-w-0 overflow-hidden",children:[m.jsxs(Qr,{children:[m.jsxs(Jr,{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(Qo,{className:"h-5 w-5"}),"Enrolled Students"]}),m.jsx(Fn,{variant:"secondary",children:o.length})]}),m.jsxs(Rn,{children:["Students currently enrolled in ",P?.code]})]}),m.jsx(Xt,{className:"p-0 sm:p-6",children:u?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx(Yi,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):E.length===0?m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r?"No matching enrolled students":"No students enrolled yet"}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(rn,{children:[m.jsx(Wt,{children:"ID Number"}),m.jsx(Wt,{children:"Name"}),m.jsx(Wt,{className:"text-right",children:"Action"})]})}),m.jsx(uo,{children:E.map(I=>m.jsxs(rn,{children:[m.jsx(Dt,{className:"font-mono text-sm",children:I.idNumber}),m.jsx(Dt,{children:I.fullName}),m.jsx(Dt,{className:"text-right",children:m.jsxs(km,{children:[m.jsx(g1,{asChild:!0,children:m.jsxs(yt,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",disabled:x.isPending,children:[m.jsx(hH,{className:"h-4 w-4 mr-1"}),"Remove"]})}),m.jsxs(Cf,{children:[m.jsxs(Tf,{children:[m.jsx(Nf,{children:"Remove Student"}),m.jsxs(If,{children:["Are you sure you want to remove ",m.jsx("strong",{children:I.fullName})," from"," ",m.jsx("strong",{children:P?.code}),"? This will remove their enrollment but keep their attendance records."]})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(Pf,{onClick:()=>R(I.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})]})})]},I.id))})]})})})]}),m.jsxs(zt,{className:"border-2 border-primary/20 min-w-0 overflow-hidden",children:[m.jsxs(Qr,{children:[m.jsxs(Jr,{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(K0,{className:"h-5 w-5"}),"Available Students"]}),m.jsx(Fn,{variant:"outline",children:T.length})]}),m.jsxs(Rn,{children:["Students not enrolled in ",P?.code]})]}),m.jsx(Xt,{className:"p-0 sm:p-6",children:f?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx(Yi,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):O.length===0?m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r?"No matching available students":"All students are enrolled"}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(rn,{children:[m.jsx(Wt,{children:"ID Number"}),m.jsx(Wt,{children:"Name"}),m.jsx(Wt,{className:"text-right",children:"Action"})]})}),m.jsx(uo,{children:O.map(I=>m.jsxs(rn,{children:[m.jsx(Dt,{className:"font-mono text-sm",children:I.idNumber}),m.jsx(Dt,{children:I.fullName}),m.jsx(Dt,{className:"text-right",children:m.jsxs(yt,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary hover:bg-primary/10",onClick:()=>A(I.id),disabled:g.isPending,children:[m.jsx(K0,{className:"h-4 w-4 mr-1"}),"Enroll"]})})]},I.id))})]})})})]})]})]})]})}var n2e="Separator",ID="horizontal",i2e=["horizontal","vertical"],OV=M.forwardRef((t,e)=>{const{decorative:r,orientation:n=ID,...i}=t,s=s2e(n)?n:ID,u=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return m.jsx(Pt.div,{"data-orientation":s,...u,...i,ref:e})});OV.displayName=n2e;function s2e(t){return i2e.includes(t)}var NV=OV;const IV=M.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>m.jsx(NV,{ref:i,decorative:r,orientation:e,className:Je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));IV.displayName=NV.displayName;const PD=[{name:"Erovoutika",primary:"#00008B",secondary:"#ffffff"},{name:"Green",primary:"#006937",secondary:"#004d29"},{name:"Crimson Red",primary:"#dc2626",secondary:"#b91c1c"},{name:"Purple",primary:"#7c3aed",secondary:"#6d28d9"},{name:"Teal",primary:"#0d9488",secondary:"#0f766e"},{name:"Orange",primary:"#ea580c",secondary:"#c2410c"},{name:"Pink",primary:"#db2777",secondary:"#be185d"},{name:"Indigo",primary:"#4f46e5",secondary:"#4338ca"}],a2e=lr.object({schoolName:lr.string().min(1,"School name is required"),systemTitle:lr.string().min(1,"System title is required"),tagline:lr.string().optional(),primaryColor:lr.string().min(1,"Primary color is required"),secondaryColor:lr.string().min(1,"Secondary color is required"),logoUrl:lr.string().optional(),faviconUrl:lr.string().optional(),theme:lr.enum(["light","dark","system"]),fontFamily:lr.enum(["inter","roboto","poppins","open-sans"])});function o2e(){const{toast:t}=hi(),{settings:e,updateSettings:r,resetSettings:n}=Vf(),[i,s]=M.useState(null),[o,u]=M.useState(null),[d,f]=M.useState(null),g=xu({resolver:wu(a2e),defaultValues:{schoolName:e.schoolName,systemTitle:e.systemTitle,tagline:e.tagline,primaryColor:e.primaryColor,secondaryColor:e.secondaryColor,logoUrl:e.logoUrl,faviconUrl:e.faviconUrl,theme:e.theme,fontFamily:e.fontFamily}});M.useEffect(()=>{g.reset({schoolName:e.schoolName,systemTitle:e.systemTitle,tagline:e.tagline,primaryColor:e.primaryColor,secondaryColor:e.secondaryColor,logoUrl:e.logoUrl,faviconUrl:e.faviconUrl,theme:e.theme,fontFamily:e.fontFamily}),s(e.logoUrl||null),u(e.faviconUrl||null);const R=PD.find(P=>P.primary===e.primaryColor&&P.secondary===e.secondaryColor);f(R?.name||null)},[e]);const x=R=>{const P=R.target.files?.[0];if(P){const I=new FileReader;I.onloadend=()=>{const D=I.result;s(D),g.setValue("logoUrl",D)},I.readAsDataURL(P)}},_=R=>{const P=R.target.files?.[0];if(P){const I=new FileReader;I.onloadend=()=>{const D=I.result;u(D),g.setValue("faviconUrl",D)},I.readAsDataURL(P)}},T=R=>{f(R.name),g.setValue("primaryColor",R.primary),g.setValue("secondaryColor",R.secondary)},O=async R=>{try{await r({schoolName:R.schoolName,systemTitle:R.systemTitle,tagline:R.tagline||"",primaryColor:R.primaryColor,secondaryColor:R.secondaryColor,logoUrl:R.logoUrl||"",faviconUrl:R.faviconUrl||"",theme:R.theme,fontFamily:R.fontFamily}),t({title:"Settings saved",description:"Your system settings have been saved to the database."})}catch{t({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}},E=async()=>{try{await n(),f("DLSU Green"),s(null),u(null),t({title:"Settings reset",description:"All settings have been restored to defaults."})}catch{t({title:"Error",description:"Failed to reset settings. Please try again.",variant:"destructive"})}},A=g.watch("primaryColor");return g.watch("secondaryColor"),g.watch("theme"),g.watch("schoolName"),g.watch("systemTitle"),g.watch("tagline"),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:m.jsx(z6,{className:"w-6 h-6 text-primary"})}),m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Settings"})]}),m.jsx("p",{className:"text-muted-foreground",children:"Customize the appearance and branding of your attendance system"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs(yt,{variant:"outline",onClick:E,children:[m.jsx(lH,{className:"w-4 h-4 mr-2"}),"Reset to Defaults"]}),m.jsxs(yt,{onClick:g.handleSubmit(O),children:[m.jsx(cH,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),m.jsx(bu,{...g,children:m.jsx("form",{onSubmit:g.handleSubmit(O),className:"space-y-8",children:m.jsxs(sT,{defaultValue:"branding",className:"w-full",children:[m.jsxs(aT,{className:"grid w-full grid-cols-2 lg:w-[300px]",children:[m.jsxs(Ld,{value:"branding",className:"flex items-center gap-2",children:[m.jsx(GW,{className:"w-4 h-4"}),"Branding"]}),m.jsxs(Ld,{value:"colors",className:"flex items-center gap-2",children:[m.jsx(iH,{className:"w-4 h-4"}),"Colors"]})]}),m.jsxs(kE,{value:"branding",className:"space-y-6 mt-6",children:[m.jsxs(zt,{children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Organization Details"}),m.jsx(Rn,{children:"Configure your school or organization information"})]}),m.jsxs(Xt,{className:"space-y-6",children:[m.jsx(yn,{control:g.control,name:"schoolName",render:({field:R})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"School / Organization Name"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g., De La Salle University",className:"max-w-md",...R})}),m.jsx(bd,{children:"This will be displayed throughout the system"}),m.jsx(on,{})]})}),m.jsx(yn,{control:g.control,name:"systemTitle",render:({field:R})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"System Title"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g., AttendED",className:"max-w-md",...R})}),m.jsx(bd,{children:"The name of your attendance system"}),m.jsx(on,{})]})}),m.jsx(yn,{control:g.control,name:"tagline",render:({field:R})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Tagline (Optional)"}),m.jsx(an,{children:m.jsx(jr,{placeholder:"e.g., Streamlining Academic Attendance",className:"max-w-md",...R})}),m.jsx(bd,{children:"A short description shown on the login page"}),m.jsx(on,{})]})})]})]}),m.jsxs(zt,{children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Logo & Favicon"}),m.jsx(Rn,{children:"Upload your organization's logo and favicon"})]}),m.jsx(Xt,{className:"space-y-6",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(Pa,{children:"Logo"}),m.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:i?m.jsxs("div",{className:"space-y-4",children:[m.jsx("img",{src:i,alt:"Logo preview",className:"max-h-24 mx-auto object-contain"}),m.jsx(yt,{type:"button",variant:"outline",size:"sm",onClick:()=>{s(null),g.setValue("logoUrl","")},children:"Remove"})]}):m.jsxs("label",{className:"cursor-pointer block",children:[m.jsx(cP,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),m.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to upload logo"}),m.jsx("span",{className:"block text-xs text-muted-foreground mt-1",children:"PNG, JPG, SVG (max 2MB)"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:x})]})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Pa,{children:"Favicon"}),m.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:o?m.jsxs("div",{className:"space-y-4",children:[m.jsx("img",{src:o,alt:"Favicon preview",className:"w-16 h-16 mx-auto object-contain"}),m.jsx(yt,{type:"button",variant:"outline",size:"sm",onClick:()=>{u(null),g.setValue("faviconUrl","")},children:"Remove"})]}):m.jsxs("label",{className:"cursor-pointer block",children:[m.jsx(cP,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),m.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to upload favicon"}),m.jsx("span",{className:"block text-xs text-muted-foreground mt-1",children:"ICO, PNG (32x32 or 64x64)"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*,.ico",onChange:_})]})})]})]})})]})]}),m.jsxs(kE,{value:"colors",className:"space-y-6 mt-6",children:[m.jsxs(zt,{children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Color Presets"}),m.jsx(Rn,{children:"Choose a preset color scheme or customize your own"})]}),m.jsx(Xt,{children:m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:PD.map(R=>m.jsxs("button",{type:"button",onClick:()=>T(R),className:`relative p-4 rounded-lg border-2 transition-all ${d===R.name?"border-primary ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"}`,children:[d===R.name&&m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(CC,{className:"w-4 h-4 text-primary"})}),m.jsxs("div",{className:"flex gap-2 mb-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm",style:{backgroundColor:R.primary}}),m.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm",style:{backgroundColor:R.secondary}})]}),m.jsx("p",{className:"text-sm font-medium text-left",children:R.name})]},R.name))})})]}),m.jsxs(zt,{children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Custom Colors"}),m.jsx(Rn,{children:"Fine-tune your color scheme with custom hex values"})]}),m.jsxs(Xt,{className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsx(yn,{control:g.control,name:"primaryColor",render:({field:R})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Primary Color"}),m.jsx(an,{children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("input",{type:"color",value:R.value,onChange:P=>{R.onChange(P.target.value),f(null)},className:"w-12 h-10 rounded border cursor-pointer"}),m.jsx(jr,{...R,onChange:P=>{R.onChange(P.target.value),f(null)},placeholder:"#006937",className:"font-mono"})]})}),m.jsx(bd,{children:"Used for buttons, links, and accents"}),m.jsx(on,{})]})}),m.jsx(yn,{control:g.control,name:"secondaryColor",render:({field:R})=>m.jsxs(nn,{children:[m.jsx(sn,{children:"Secondary Color"}),m.jsx(an,{children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("input",{type:"color",value:R.value,onChange:P=>{R.onChange(P.target.value),f(null)},className:"w-12 h-10 rounded border cursor-pointer"}),m.jsx(jr,{...R,onChange:P=>{R.onChange(P.target.value),f(null)},placeholder:"#004d29",className:"font-mono"})]})}),m.jsx(bd,{children:"Used for hover states and secondary elements"}),m.jsx(on,{})]})})]}),m.jsx(IV,{}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Pa,{children:"Live Preview"}),m.jsxs("div",{className:"p-6 bg-white rounded-lg border space-y-4",children:[m.jsxs("div",{className:"flex gap-3 flex-wrap",children:[m.jsx(yt,{type:"button",style:{backgroundColor:A,borderColor:A},className:"hover:opacity-90 text-white",children:"Primary Button"}),m.jsx(yt,{type:"button",variant:"outline",style:{borderColor:A,color:A},children:"Outline Button"})]}),m.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[m.jsx("a",{href:"#",onClick:R=>R.preventDefault(),style:{color:A},className:"text-sm hover:underline",children:"Sample Link"}),m.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:A},children:"Badge"}),m.jsx("div",{className:"w-full max-w-[200px] h-2 rounded-full",style:{backgroundColor:`${A}30`},children:m.jsx("div",{className:"w-3/4 h-full rounded-full",style:{backgroundColor:A}})})]})]})]})]})]})]})]})})})]})}var l2e=Object.defineProperty,w1=Object.getOwnPropertySymbols,PV=Object.prototype.hasOwnProperty,RV=Object.prototype.propertyIsEnumerable,RD=(t,e,r)=>e in t?l2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fC=(t,e)=>{for(var r in e||(e={}))PV.call(e,r)&&RD(t,r,e[r]);if(w1)for(var r of w1(e))RV.call(e,r)&&RD(t,r,e[r]);return t},hC=(t,e)=>{var r={};for(var n in t)PV.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&w1)for(var n of w1(t))e.indexOf(n)<0&&RV.call(t,n)&&(r[n]=t[n]);return r};var yu;(t=>{const e=class ar{constructor(d,f,g,x){if(this.version=d,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],d<ar.MIN_VERSION||d>ar.MAX_VERSION)throw new RangeError("Version value out of range");if(x<-1||x>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let _=[];for(let O=0;O<this.size;O++)_.push(!1);for(let O=0;O<this.size;O++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(g);if(this.drawCodewords(T),x==-1){let O=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const A=this.getPenaltyScore();A<O&&(x=E,O=A),this.applyMask(E)}}i(0<=x&&x<=7),this.mask=x,this.applyMask(x),this.drawFormatBits(x),this.isFunction=[]}static encodeText(d,f){const g=t.QrSegment.makeSegments(d);return ar.encodeSegments(g,f)}static encodeBinary(d,f){const g=t.QrSegment.makeBytes(d);return ar.encodeSegments([g],f)}static encodeSegments(d,f,g=1,x=40,_=-1,T=!0){if(!(ar.MIN_VERSION<=g&&g<=x&&x<=ar.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");let O,E;for(O=g;;O++){const I=ar.getNumDataCodewords(O,f)*8,D=o.getTotalBits(d,O);if(D<=I){E=D;break}if(O>=x)throw new RangeError("Data too long")}for(const I of[ar.Ecc.MEDIUM,ar.Ecc.QUARTILE,ar.Ecc.HIGH])T&&E<=ar.getNumDataCodewords(O,I)*8&&(f=I);let A=[];for(const I of d){r(I.mode.modeBits,4,A),r(I.numChars,I.mode.numCharCountBits(O),A);for(const D of I.getData())A.push(D)}i(A.length==E);const R=ar.getNumDataCodewords(O,f)*8;i(A.length<=R),r(0,Math.min(4,R-A.length),A),r(0,(8-A.length%8)%8,A),i(A.length%8==0);for(let I=236;A.length<R;I^=253)r(I,8,A);let P=[];for(;P.length*8<A.length;)P.push(0);return A.forEach((I,D)=>P[D>>>3]|=I<<7-(D&7)),new ar(O,f,P,_)}getModule(d,f){return 0<=d&&d<this.size&&0<=f&&f<this.size&&this.modules[f][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),f=d.length;for(let g=0;g<f;g++)for(let x=0;x<f;x++)g==0&&x==0||g==0&&x==f-1||g==f-1&&x==0||this.drawAlignmentPattern(d[g],d[x]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const f=this.errorCorrectionLevel.formatBits<<3|d;let g=f;for(let _=0;_<10;_++)g=g<<1^(g>>>9)*1335;const x=(f<<10|g)^21522;i(x>>>15==0);for(let _=0;_<=5;_++)this.setFunctionModule(8,_,n(x,_));this.setFunctionModule(8,7,n(x,6)),this.setFunctionModule(8,8,n(x,7)),this.setFunctionModule(7,8,n(x,8));for(let _=9;_<15;_++)this.setFunctionModule(14-_,8,n(x,_));for(let _=0;_<8;_++)this.setFunctionModule(this.size-1-_,8,n(x,_));for(let _=8;_<15;_++)this.setFunctionModule(8,this.size-15+_,n(x,_));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let g=0;g<12;g++)d=d<<1^(d>>>11)*7973;const f=this.version<<12|d;i(f>>>18==0);for(let g=0;g<18;g++){const x=n(f,g),_=this.size-11+g%3,T=Math.floor(g/3);this.setFunctionModule(_,T,x),this.setFunctionModule(T,_,x)}}drawFinderPattern(d,f){for(let g=-4;g<=4;g++)for(let x=-4;x<=4;x++){const _=Math.max(Math.abs(x),Math.abs(g)),T=d+x,O=f+g;0<=T&&T<this.size&&0<=O&&O<this.size&&this.setFunctionModule(T,O,_!=2&&_!=4)}}drawAlignmentPattern(d,f){for(let g=-2;g<=2;g++)for(let x=-2;x<=2;x++)this.setFunctionModule(d+x,f+g,Math.max(Math.abs(x),Math.abs(g))!=1)}setFunctionModule(d,f,g){this.modules[f][d]=g,this.isFunction[f][d]=!0}addEccAndInterleave(d){const f=this.version,g=this.errorCorrectionLevel;if(d.length!=ar.getNumDataCodewords(f,g))throw new RangeError("Invalid argument");const x=ar.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][f],_=ar.ECC_CODEWORDS_PER_BLOCK[g.ordinal][f],T=Math.floor(ar.getNumRawDataModules(f)/8),O=x-T%x,E=Math.floor(T/x);let A=[];const R=ar.reedSolomonComputeDivisor(_);for(let I=0,D=0;I<x;I++){let L=d.slice(D,D+E-_+(I<O?0:1));D+=L.length;const F=ar.reedSolomonComputeRemainder(L,R);I<O&&L.push(0),A.push(L.concat(F))}let P=[];for(let I=0;I<A[0].length;I++)A.forEach((D,L)=>{(I!=E-_||L>=O)&&P.push(D[I])});return i(P.length==T),P}drawCodewords(d){if(d.length!=Math.floor(ar.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let x=0;x<this.size;x++)for(let _=0;_<2;_++){const T=g-_,E=(g+1&2)==0?this.size-1-x:x;!this.isFunction[E][T]&&f<d.length*8&&(this.modules[E][T]=n(d[f>>>3],7-(f&7)),f++)}}i(f==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let g=0;g<this.size;g++){let x;switch(d){case 0:x=(g+f)%2==0;break;case 1:x=f%2==0;break;case 2:x=g%3==0;break;case 3:x=(g+f)%3==0;break;case 4:x=(Math.floor(g/3)+Math.floor(f/2))%2==0;break;case 5:x=g*f%2+g*f%3==0;break;case 6:x=(g*f%2+g*f%3)%2==0;break;case 7:x=((g+f)%2+g*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][g]&&x&&(this.modules[f][g]=!this.modules[f][g])}}getPenaltyScore(){let d=0;for(let _=0;_<this.size;_++){let T=!1,O=0,E=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[_][A]==T?(O++,O==5?d+=ar.PENALTY_N1:O>5&&d++):(this.finderPenaltyAddHistory(O,E),T||(d+=this.finderPenaltyCountPatterns(E)*ar.PENALTY_N3),T=this.modules[_][A],O=1);d+=this.finderPenaltyTerminateAndCount(T,O,E)*ar.PENALTY_N3}for(let _=0;_<this.size;_++){let T=!1,O=0,E=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][_]==T?(O++,O==5?d+=ar.PENALTY_N1:O>5&&d++):(this.finderPenaltyAddHistory(O,E),T||(d+=this.finderPenaltyCountPatterns(E)*ar.PENALTY_N3),T=this.modules[A][_],O=1);d+=this.finderPenaltyTerminateAndCount(T,O,E)*ar.PENALTY_N3}for(let _=0;_<this.size-1;_++)for(let T=0;T<this.size-1;T++){const O=this.modules[_][T];O==this.modules[_][T+1]&&O==this.modules[_+1][T]&&O==this.modules[_+1][T+1]&&(d+=ar.PENALTY_N2)}let f=0;for(const _ of this.modules)f=_.reduce((T,O)=>T+(O?1:0),f);const g=this.size*this.size,x=Math.ceil(Math.abs(f*20-g*10)/g)-1;return i(0<=x&&x<=9),d+=x*ar.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let g=[6];for(let x=this.size-7;g.length<d;x-=f)g.splice(1,0,x);return g}}static getNumRawDataModules(d){if(d<ar.MIN_VERSION||d>ar.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*d+128)*d+64;if(d>=2){const g=Math.floor(d/7)+2;f-=(25*g-10)*g-55,d>=7&&(f-=36)}return i(208<=f&&f<=29648),f}static getNumDataCodewords(d,f){return Math.floor(ar.getNumRawDataModules(d)/8)-ar.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d]*ar.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let f=[];for(let x=0;x<d-1;x++)f.push(0);f.push(1);let g=1;for(let x=0;x<d;x++){for(let _=0;_<f.length;_++)f[_]=ar.reedSolomonMultiply(f[_],g),_+1<f.length&&(f[_]^=f[_+1]);g=ar.reedSolomonMultiply(g,2)}return f}static reedSolomonComputeRemainder(d,f){let g=f.map(x=>0);for(const x of d){const _=x^g.shift();g.push(0),f.forEach((T,O)=>g[O]^=ar.reedSolomonMultiply(T,_))}return g}static reedSolomonMultiply(d,f){if(d>>>8||f>>>8)throw new RangeError("Byte out of range");let g=0;for(let x=7;x>=0;x--)g=g<<1^(g>>>7)*285,g^=(f>>>x&1)*d;return i(g>>>8==0),g}finderPenaltyCountPatterns(d){const f=d[1];i(f<=this.size*3);const g=f>0&&d[2]==f&&d[3]==f*3&&d[4]==f&&d[5]==f;return(g&&d[0]>=f*4&&d[6]>=f?1:0)+(g&&d[6]>=f*4&&d[0]>=f?1:0)}finderPenaltyTerminateAndCount(d,f,g){return d&&(this.finderPenaltyAddHistory(f,g),f=0),f+=this.size,this.finderPenaltyAddHistory(f,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(d,f){f[0]==0&&(d+=this.size),f.pop(),f.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(u,d,f){if(d<0||d>31||u>>>d)throw new RangeError("Value out of range");for(let g=d-1;g>=0;g--)f.push(u>>>g&1)}function n(u,d){return(u>>>d&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const s=class bn{constructor(d,f,g){if(this.mode=d,this.numChars=f,this.bitData=g,f<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(d){let f=[];for(const g of d)r(g,8,f);return new bn(bn.Mode.BYTE,d.length,f)}static makeNumeric(d){if(!bn.isNumeric(d))throw new RangeError("String contains non-numeric characters");let f=[];for(let g=0;g<d.length;){const x=Math.min(d.length-g,3);r(parseInt(d.substring(g,g+x),10),x*3+1,f),g+=x}return new bn(bn.Mode.NUMERIC,d.length,f)}static makeAlphanumeric(d){if(!bn.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],g;for(g=0;g+2<=d.length;g+=2){let x=bn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g))*45;x+=bn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g+1)),r(x,11,f)}return g<d.length&&r(bn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g)),6,f),new bn(bn.Mode.ALPHANUMERIC,d.length,f)}static makeSegments(d){return d==""?[]:bn.isNumeric(d)?[bn.makeNumeric(d)]:bn.isAlphanumeric(d)?[bn.makeAlphanumeric(d)]:[bn.makeBytes(bn.toUtf8ByteArray(d))]}static makeEci(d){let f=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,f);else if(d<16384)r(2,2,f),r(d,14,f);else if(d<1e6)r(6,3,f),r(d,21,f);else throw new RangeError("ECI assignment value out of range");return new bn(bn.Mode.ECI,0,f)}static isNumeric(d){return bn.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return bn.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,f){let g=0;for(const x of d){const _=x.mode.numCharCountBits(f);if(x.numChars>=1<<_)return 1/0;g+=4+_+x.bitData.length}return g}static toUtf8ByteArray(d){d=encodeURI(d);let f=[];for(let g=0;g<d.length;g++)d.charAt(g)!="%"?f.push(d.charCodeAt(g)):(f.push(parseInt(d.substring(g+1,g+3),16)),g+=2);return f}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(yu||(yu={}));(t=>{(e=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(yu||(yu={}));(t=>{(e=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(yu||(yu={}));var Id=yu;var c2e={L:Id.QrCode.Ecc.LOW,M:Id.QrCode.Ecc.MEDIUM,Q:Id.QrCode.Ecc.QUARTILE,H:Id.QrCode.Ecc.HIGH},jV=128,kV="L",MV="#FFFFFF",DV="#000000",LV=!1,BV=1,u2e=4,d2e=0,f2e=.1;function FV(t,e=0){const r=[];return t.forEach(function(n,i){let s=null;n.forEach(function(o,u){if(!o&&s!==null){r.push(`M${s+e} ${i+e}h${u-s}v1H${s+e}z`),s=null;return}if(u===n.length-1){if(!o)return;s===null?r.push(`M${u+e},${i+e} h1v1H${u+e}z`):r.push(`M${s+e},${i+e} h${u+1-s}v1H${s+e}z`);return}o&&s===null&&(s=u)})}),r.join("")}function UV(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function h2e(t,e,r,n){if(n==null)return null;const i=t.length+r*2,s=Math.floor(e*f2e),o=i/e,u=(n.width||s)*o,d=(n.height||s)*o,f=n.x==null?t.length/2-u/2:n.x*o,g=n.y==null?t.length/2-d/2:n.y*o,x=n.opacity==null?1:n.opacity;let _=null;if(n.excavate){let O=Math.floor(f),E=Math.floor(g),A=Math.ceil(u+f-O),R=Math.ceil(d+g-E);_={x:O,y:E,w:A,h:R}}const T=n.crossOrigin;return{x:f,y:g,h:d,w:u,excavation:_,opacity:x,crossOrigin:T}}function p2e(t,e){return e!=null?Math.max(Math.floor(e),0):t?u2e:d2e}function $V({value:t,level:e,minVersion:r,includeMargin:n,marginSize:i,imageSettings:s,size:o,boostLevel:u}){let d=oe.useMemo(()=>{const O=(Array.isArray(t)?t:[t]).reduce((E,A)=>(E.push(...Id.QrSegment.makeSegments(A)),E),[]);return Id.QrCode.encodeSegments(O,c2e[e],r,void 0,void 0,u)},[t,e,r,u]);const{cells:f,margin:g,numCells:x,calculatedImageSettings:_}=oe.useMemo(()=>{let T=d.getModules();const O=p2e(n,i),E=T.length+O*2,A=h2e(T,o,O,s);return{cells:T,margin:O,numCells:E,calculatedImageSettings:A}},[d,o,s,n,i]);return{qrcode:d,margin:g,cells:f,numCells:x,calculatedImageSettings:_}}var m2e=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),g2e=oe.forwardRef(function(e,r){const n=e,{value:i,size:s=jV,level:o=kV,bgColor:u=MV,fgColor:d=DV,includeMargin:f=LV,minVersion:g=BV,boostLevel:x,marginSize:_,imageSettings:T}=n,E=hC(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:A}=E,R=hC(E,["style"]),P=T?.src,I=oe.useRef(null),D=oe.useRef(null),L=oe.useCallback(Q=>{I.current=Q,typeof r=="function"?r(Q):r&&(r.current=Q)},[r]),[F,U]=oe.useState(!1),{margin:H,cells:W,numCells:ce,calculatedImageSettings:K}=$V({value:i,level:o,minVersion:g,boostLevel:x,includeMargin:f,marginSize:_,imageSettings:T,size:s});oe.useEffect(()=>{if(I.current!=null){const Q=I.current,Y=Q.getContext("2d");if(!Y)return;let J=W;const re=D.current,ie=K!=null&&re!==null&&re.complete&&re.naturalHeight!==0&&re.naturalWidth!==0;ie&&K.excavation!=null&&(J=UV(W,K.excavation));const se=window.devicePixelRatio||1;Q.height=Q.width=s*se;const me=s/ce*se;Y.scale(me,me),Y.fillStyle=u,Y.fillRect(0,0,ce,ce),Y.fillStyle=d,m2e?Y.fill(new Path2D(FV(J,H))):W.forEach(function(ne,ue){ne.forEach(function(be,Pe){be&&Y.fillRect(Pe+H,ue+H,1,1)})}),K&&(Y.globalAlpha=K.opacity),ie&&Y.drawImage(re,K.x+H,K.y+H,K.w,K.h)}}),oe.useEffect(()=>{U(!1)},[P]);const z=fC({height:s,width:s},A);let Z=null;return P!=null&&(Z=oe.createElement("img",{src:P,key:P,style:{display:"none"},onLoad:()=>{U(!0)},ref:D,crossOrigin:K?.crossOrigin})),oe.createElement(oe.Fragment,null,oe.createElement("canvas",fC({style:z,height:s,width:s,ref:L,role:"img"},R)),Z)});g2e.displayName="QRCodeCanvas";var VV=oe.forwardRef(function(e,r){const n=e,{value:i,size:s=jV,level:o=kV,bgColor:u=MV,fgColor:d=DV,includeMargin:f=LV,minVersion:g=BV,boostLevel:x,title:_,marginSize:T,imageSettings:O}=n,E=hC(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:A,cells:R,numCells:P,calculatedImageSettings:I}=$V({value:i,level:o,minVersion:g,boostLevel:x,includeMargin:f,marginSize:T,imageSettings:O,size:s});let D=R,L=null;O!=null&&I!=null&&(I.excavation!=null&&(D=UV(R,I.excavation)),L=oe.createElement("image",{href:O.src,height:I.h,width:I.w,x:I.x+A,y:I.y+A,preserveAspectRatio:"none",opacity:I.opacity,crossOrigin:I.crossOrigin}));const F=FV(D,A);return oe.createElement("svg",fC({height:s,width:s,viewBox:`0 0 ${P} ${P}`,ref:r,role:"img"},E),!!_&&oe.createElement("title",null,_),oe.createElement("path",{fill:u,d:`M0,0 h${P}v${P}H0z`,shapeRendering:"crispEdges"}),oe.createElement("path",{fill:d,d:F,shapeRendering:"crispEdges"}),L)});VV.displayName="QRCodeSVG";const Si=[];for(let t=0;t<256;++t)Si.push((t+256).toString(16).slice(1));function y2e(t,e=0){return(Si[t[e+0]]+Si[t[e+1]]+Si[t[e+2]]+Si[t[e+3]]+"-"+Si[t[e+4]]+Si[t[e+5]]+"-"+Si[t[e+6]]+Si[t[e+7]]+"-"+Si[t[e+8]]+Si[t[e+9]]+"-"+Si[t[e+10]]+Si[t[e+11]]+Si[t[e+12]]+Si[t[e+13]]+Si[t[e+14]]+Si[t[e+15]]).toLowerCase()}let JS;const v2e=new Uint8Array(16);function x2e(){if(!JS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");JS=crypto.getRandomValues.bind(crypto)}return JS(v2e)}const w2e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jD={randomUUID:w2e};function b2e(t,e,r){t=t||{};const n=t.random??t.rng?.()??x2e();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,y2e(n)}function _2e(t,e,r){return jD.randomUUID&&!t?jD.randomUUID():b2e(t)}function S2e(){$i();const{data:t}=qf(),{data:e}=ZL(),{toast:r}=hi(),n=Qi(),[i,s]=M.useState(""),[o,u]=M.useState(""),[d,f]=M.useState(!1),[g,x]=M.useState(!1),[_,T]=M.useState(!1),[O,E]=M.useState("inactive"),[A,R]=M.useState(!1),[P,I]=M.useState(new Date),[D,L]=M.useState([]),[F,U]=M.useState(!1),[H,W]=M.useState(""),[ce,K]=M.useState(0),[z,Z]=M.useState(0),[Q,Y]=M.useState(!1);M.useEffect(()=>{const Ne=localStorage.getItem("attendanceSession");if(Ne)try{const Ke=JSON.parse(Ne),ot=Ke.date,Ze=gn(new Date,"yyyy-MM-dd");ot===Ze?(s(Ke.subjectId||""),E(Ke.sessionState||"inactive"),R(Ke.wasResumed||!1),W(Ke.qrToken||""),K(Ke.scanCount||0),Y(Ke.sessionEnded||!1),Ke.attendanceRecords&&Ke.attendanceRecords.length>0&&L(Ke.attendanceRecords)):localStorage.removeItem("attendanceSession")}catch(Ke){console.error("Failed to restore session:",Ke),localStorage.removeItem("attendanceSession")}U(!0)},[]),M.useEffect(()=>{if(!F)return;const Ne={date:gn(new Date,"yyyy-MM-dd"),subjectId:i,sessionState:O,wasResumed:A,qrToken:H,scanCount:ce,sessionEnded:Q,attendanceRecords:D};localStorage.setItem("attendanceSession",JSON.stringify(Ne))},[O,i,A,H,ce,D,F]);const{data:J}=z1(i?parseInt(i):0),re=gn(new Date,"yyyy-MM-dd"),{data:ie,refetch:se}=cT({subjectId:i?parseInt(i):void 0,date:re});M.useEffect(()=>{if(O==="active"&&i){const Ne=setInterval(()=>{se()},3e3);return()=>clearInterval(Ne)}},[O,i,se]),M.useEffect(()=>{!ie||!J||J.length===0||F&&L(Ne=>{const Ke=Ne.map(Ze=>{const dt=ie.find(Bt=>Bt.studentId===Ze.studentId);return dt&&dt.status&&(!Ze.status||Ze.status!==dt.status&&dt.status!=="absent")?{...Ze,status:dt.status,timeIn:dt.timeIn?new Date(dt.timeIn).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}):Ze.timeIn}:Ze});return Ke.some((Ze,dt)=>Ze.status!==Ne[dt]?.status||Ze.timeIn!==Ne[dt]?.timeIn)?Ke:Ne})},[ie,J,F]),M.useEffect(()=>{if(!F||!J||J.length===0)return;if(D.length>0&&D[0]?.studentId){const Ke=new Set(D.map(Ze=>Ze.studentId));if(new Set(J.map(Ze=>Ze.id)),J.every(Ze=>Ke.has(Ze.id)))return}const Ne=J.map(Ke=>{const ot=ie?.find(Ze=>Ze.studentId===Ke.id);return ot?{studentId:Ke.id,studentName:Ke.fullName,timeIn:ot.timeIn?new Date(ot.timeIn).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}):null,status:ot.status}:{studentId:Ke.id,studentName:Ke.fullName,timeIn:null,status:null}});L(Ne)},[J,ie,F]),M.useEffect(()=>{const Ne=setInterval(()=>I(new Date),1e3);return()=>clearInterval(Ne)},[]);const me=M.useMemo(()=>{if(!e||!t)return null;const Ne=new Date,Ke=Ne.toLocaleDateString("en-US",{weekday:"long"}),ot=gn(Ne,"HH:mm"),Ze=e.filter(Fe=>Fe.dayOfWeek===Ke).sort((Fe,le)=>Fe.startTime.localeCompare(le.startTime)),dt=Ze.find(Fe=>ot>=Fe.startTime&&ot<=Fe.endTime);if(dt)return t.find(Fe=>Fe.id===dt.subjectId);const Bt=Ze.find(Fe=>ot<Fe.startTime);return Bt?t.find(Fe=>Fe.id===Bt.subjectId):null},[e,t]),ne=D.filter(Ne=>Ne.studentName.toLowerCase().includes(o.toLowerCase())),ue=M.useMemo(()=>{const Ne=D.length,Ke=D.filter(Bt=>Bt.status==="present").length,ot=D.filter(Bt=>Bt.status==="late").length,Ze=D.filter(Bt=>Bt.status==="absent").length,dt=D.filter(Bt=>Bt.status==="excused").length;return{total:Ne,present:Ke,late:ot,absent:Ze,excused:dt}},[D]),be=M.useCallback(async(Ne=!1)=>{const Ke=_2e(),ot=Ne?`${Ke}_LATE`:Ke;if(i)try{await St.from("qr_codes").update({active:!1}).eq("subject_id",parseInt(i)),await St.from("qr_codes").insert({subject_id:parseInt(i),code:ot,active:!0})}catch(Ze){console.error("Failed to persist QR code:",Ze)}return W(ot),ot},[i]);M.useEffect(()=>{if(O==="active"&&ie){const Ne=ie.length;Ne>z&&(be(A||Q),K(Ke=>Ke+1),r({title:"Student Checked In",description:"QR code regenerated automatically."})),Z(Ne)}},[ie,O,z,A,Q,be,r]);const Pe=M.useMemo(()=>{if(!H||!i)return"";const Ne=window.location.origin,Ke=new URLSearchParams({token:H,subjectId:i,ts:Date.now().toString(),scan:"attendance"});return`${Ne}/login?${Ke.toString()}`},[H,i]);M.useCallback((Ne,Ke)=>Ke!==H||O!=="active"?!1:(Te(Ne,A?"absent":"present"),be(),K(Ze=>Ze+1),!0),[H,O,A,be]);const rt=async()=>{E("active"),R(!1),K(0),Z(ie?.length||0);const Ne=Q;await be(Ne),Ne?(R(!0),r({title:"Session Resumed",description:"Students scanning now will be marked as late."})):r({title:"Session Started",description:"Students can now scan the QR code to check in."})},Ie=async()=>{E("paused"),i&&await St.from("qr_codes").update({active:!1}).eq("subject_id",parseInt(i)),W(""),r({title:"Session Paused",description:"QR code scanning is temporarily disabled."})},Re=async()=>{E("active"),R(!0),await be(!0),r({title:"Session Resumed",description:"Students scanning now will be marked as late.",variant:"default"})},Be=async()=>{T(!0),i&&await St.from("qr_codes").update({active:!1}).eq("subject_id",parseInt(i)),W(""),await se();const{data:Ne}=await St.from("attendance").select("student_id, status").eq("subject_id",parseInt(i)).eq("date",re),Ke=new Set((Ne||[]).map(Bt=>Bt.student_id)),ot=D.filter(Bt=>!Ke.has(Bt.studentId)).map(Bt=>({student_id:Bt.studentId,subject_id:parseInt(i),date:re,status:"absent",time_in:null,remarks:"Did not scan QR"}));let Ze=0;if(ot.length>0){const{error:Bt}=await St.from("attendance").insert(ot);Bt?console.error("Failed to mark absent:",Bt):Ze=ot.length}const dt=D.map(Bt=>{const Fe=(Ne||[]).find(le=>le.student_id===Bt.studentId);return{...Bt,status:Fe?.status||"absent"}});L(dt),E("inactive"),R(!1),Y(!1),se(),n.invalidateQueries({queryKey:["teacher-attendance"]}),localStorage.removeItem("attendanceSession"),T(!1),r({title:"Session Ended",description:`${Ze} students marked as absent.`})},Te=async(Ne,Ke)=>{!d&&Ke==="excused"||L(ot=>ot.map(Ze=>Ze.studentId===Ne?{...Ze,status:Ke,timeIn:Ke==="present"||Ke==="late"||Ke==="absent"?Ze.timeIn||new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}):Ze.timeIn}:Ze))},$e=async()=>{O==="active"&&(await be(A),K(Ne=>Ne+1),r({title:"QR Code Regenerated",description:"Previous QR code is now invalid."}))},Ve=async()=>{if(d){if(x(!0),i){let Ne=0,Ke=0;const{data:ot}=await St.from("attendance").select("id, student_id, status").eq("subject_id",parseInt(i)).eq("date",re),Ze=new Map((ot||[]).map(le=>[le.student_id,{id:le.id,status:le.status}])),dt=[],Bt=[],Fe=X0();for(const le of D)if(le.status){const xe=Ze.get(le.studentId),Ae=le.status==="present"||le.status==="late";xe?xe.status!==le.status&&dt.push({id:xe.id,status:le.status,time_in:Ae?Fe:null,remarks:"Manually edited"}):Bt.push({student_id:le.studentId,subject_id:parseInt(i),date:re,status:le.status,time_in:Ae?Fe:null})}if(Bt.length>0){const{error:le}=await St.from("attendance").insert(Bt);le?(console.error("Failed to insert attendance records:",le),Ke+=Bt.length):Ne+=Bt.length}if(dt.length>0){const le=dt.map(Ae=>St.from("attendance").update({status:Ae.status,time_in:Ae.time_in,remarks:Ae.remarks}).eq("id",Ae.id));(await Promise.all(le)).forEach(({error:Ae})=>{Ae?(console.error("Failed to update attendance:",Ae),Ke++):Ne++})}await se(),n.invalidateQueries({queryKey:["teacher-attendance"]}),Ke>0?r({title:"Partial Save",description:`${Ne} records saved, ${Ke} failed.`,variant:"destructive"}):Ne>0?r({title:"Changes Saved",description:`${Ne} attendance records have been updated.`}):r({title:"No Changes",description:"All records are already up to date."})}x(!1),f(!1)}else f(!0)},Ce=async()=>{if(!i){r({title:"No Subject Selected",description:"Please select a subject first.",variant:"destructive"});return}try{const{error:Ne}=await St.from("attendance").delete().eq("subject_id",parseInt(i)).eq("date",re);if(Ne){console.error("Failed to delete attendance records:",Ne),r({title:"Error",description:"Failed to reset attendance records.",variant:"destructive"});return}}catch(Ne){console.error("Error deleting attendance:",Ne)}if(await St.from("qr_codes").update({active:!1}).eq("subject_id",parseInt(i)),localStorage.removeItem("attendanceSession"),L([]),E("inactive"),W(""),K(0),R(!1),Y(!1),await se(),n.invalidateQueries({queryKey:["teacher-attendance"]}),J){const Ne=J.map(Ke=>({studentId:Ke.id,studentName:Ke.fullName||"Unknown",status:void 0,timeIn:null}));L(Ne)}r({title:"Session Reset",description:"Today's attendance records have been cleared. Ready to start a new session."})},et=t?.find(Ne=>Ne.id.toString()===i),_t=()=>m.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[O==="active"&&Pe?m.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-inner relative",children:[m.jsx(VV,{value:Pe,size:192,level:"M",includeMargin:!0}),m.jsxs("div",{className:"absolute -top-2 -right-2 bg-primary text-white text-xs font-bold px-2 py-1 rounded-full",children:["#",ce+1]})]}):O==="paused"?m.jsxs("div",{className:"w-48 h-48 bg-yellow-50 rounded-lg flex flex-col items-center justify-center border-2 border-dashed border-yellow-400",children:[m.jsx(oP,{className:"w-16 h-16 text-yellow-500"}),m.jsx("span",{className:"text-yellow-600 font-medium mt-2",children:"Paused"})]}):m.jsx("div",{className:"w-48 h-48 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:m.jsx(NC,{className:"w-16 h-16 text-gray-400"})}),O==="active"&&m.jsxs(yt,{variant:"ghost",size:"sm",className:"mt-2 text-xs text-muted-foreground hover:text-primary",onClick:$e,children:[m.jsx(lP,{className:"w-3 h-3 mr-1"}),"Regenerate QR"]}),O==="active"&&H&&m.jsxs("p",{className:"text-xs text-muted-foreground mt-1 font-mono",children:["Token: ",H.slice(0,8),"..."]})]});return m.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold font-display text-gray-900",children:"Take Attendance"}),m.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mt-1",children:"Record and manage class attendance"})]}),m.jsxs("div",{className:"grid lg:grid-cols-[350px_1fr] gap-4 lg:gap-6",children:[m.jsx(zt,{className:"shadow-sm w-full",children:m.jsxs(Xt,{className:"p-4 sm:p-6",children:[m.jsxs(di,{value:i,onValueChange:s,disabled:O!=="inactive",children:[m.jsx(ei,{className:`w-full mb-4 sm:mb-6 ${O!=="inactive"?"opacity-50 cursor-not-allowed":""}`,children:m.jsx(fi,{placeholder:"Select a subject"})}),m.jsx(ti,{children:t?.map(Ne=>m.jsxs(or,{value:Ne.id.toString(),children:[Ne.code," - ",Ne.name,me?.id===Ne.id&&m.jsx("span",{className:"ml-2 text-xs text-primary",children:"(Current)"})]},Ne.id))})]}),m.jsx(_t,{}),m.jsxs("div",{className:"text-center mt-3 sm:mt-4 mb-4 sm:mb-6",children:[m.jsx("p",{className:"text-base sm:text-lg font-medium text-gray-900",children:gn(P,"MMMM d, yyyy")}),m.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:gn(P,"h:mm a")})]}),m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[O==="inactive"?Q?m.jsxs(yt,{className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white",size:"lg",onClick:rt,disabled:!i,children:[m.jsx(_w,{className:"w-4 h-4 mr-2"}),"Resume"]}):m.jsxs(yt,{className:"w-full bg-primary hover:bg-primary/90 text-white",size:"lg",onClick:rt,disabled:!i,children:[m.jsx(_w,{className:"w-4 h-4 mr-2"}),"Start"]}):O==="active"?m.jsxs(yt,{className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white",size:"lg",onClick:Ie,children:[m.jsx(oP,{className:"w-4 h-4 mr-2"}),"Pause"]}):m.jsxs(yt,{className:"w-full bg-primary hover:bg-primary/90 text-white",size:"lg",onClick:Re,children:[m.jsx(_w,{className:"w-4 h-4 mr-2"}),"Resume"]}),m.jsxs(km,{children:[m.jsx(g1,{asChild:!0,children:m.jsx(yt,{className:"w-full bg-red-600 hover:bg-red-700 text-white",size:"lg",disabled:O==="inactive"||_,children:_?m.jsxs(m.Fragment,{children:[m.jsx(Yi,{className:"w-4 h-4 mr-2 animate-spin"}),"Ending..."]}):m.jsxs(m.Fragment,{children:[m.jsx(fH,{className:"w-4 h-4 mr-2"}),"End"]})})}),m.jsxs(Cf,{children:[m.jsxs(Tf,{children:[m.jsx(Nf,{children:"End Attendance Session?"}),m.jsx(If,{children:"This will end the current session and mark all students who haven't scanned as absent. This action cannot be undone."})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(Pf,{onClick:Be,className:"bg-red-600 hover:bg-red-700",children:"End Session"})]})]})]}),m.jsxs(km,{children:[m.jsx(g1,{asChild:!0,children:m.jsxs(yt,{variant:"outline",className:"w-full",size:"lg",children:[m.jsx(lP,{className:"w-4 h-4 mr-2"}),"New Session"]})}),m.jsxs(Cf,{children:[m.jsxs(Tf,{children:[m.jsx(Nf,{children:"Start New Session?"}),m.jsx(If,{children:"This will delete all attendance records for today's session and reset everything. This action cannot be undone."})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(Pf,{onClick:Ce,className:"bg-destructive hover:bg-destructive/90",children:"Reset Session"})]})]})]})]}),O!=="inactive"&&m.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:O==="paused"?m.jsxs(m.Fragment,{children:["Session paused for ",m.jsx("strong",{children:et?.name})]}):A||Q?m.jsxs(m.Fragment,{children:["Session resumed for ",m.jsx("strong",{children:et?.name})," ",m.jsx("span",{className:"text-yellow-600",children:"(Scans  Late)"})]}):m.jsxs(m.Fragment,{children:["Session active for ",m.jsx("strong",{children:et?.name})]})})]})}),m.jsx(zt,{className:"shadow-sm w-full overflow-hidden",children:m.jsxs(Xt,{className:"p-3 sm:p-6",children:[m.jsxs("div",{className:"flex gap-2 sm:gap-4 mb-3 sm:mb-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Gd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{placeholder:"Search students...",className:"pl-9",value:o,onChange:Ne=>u(Ne.target.value)})]}),m.jsx(yt,{variant:d?"default":"outline",onClick:Ve,disabled:g,children:g?m.jsxs(m.Fragment,{children:[m.jsx(Yi,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):d?"Save":"Edit"})]}),m.jsx("div",{className:"rounded-md border max-h-[400px] sm:max-h-[500px] overflow-auto",children:m.jsxs(lo,{children:[m.jsx(co,{className:"sticky top-0 bg-white z-10",children:m.jsxs(rn,{children:[m.jsx(Wt,{className:"text-xs sm:text-sm whitespace-nowrap",children:"Name"}),m.jsx(Wt,{className:"text-center w-[60px] sm:w-[100px] text-xs sm:text-sm whitespace-nowrap",children:"Time-in"}),m.jsx(Wt,{className:"text-center w-[50px] sm:w-[80px] text-xs sm:text-sm px-1 sm:px-4",children:"Present"}),m.jsx(Wt,{className:"text-center w-[50px] sm:w-[80px] text-xs sm:text-sm px-1 sm:px-4",children:"Late"}),m.jsx(Wt,{className:"text-center w-[50px] sm:w-[80px] text-xs sm:text-sm px-1 sm:px-4",children:"Absent"}),m.jsx(Wt,{className:"text-center w-[50px] sm:w-[80px] text-xs sm:text-sm px-1 sm:px-4",children:"Excused"})]})}),m.jsx(uo,{children:ne.length>0?ne.map(Ne=>m.jsxs(rn,{children:[m.jsx(Dt,{className:"p-2 sm:p-4",children:m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[m.jsx(Vv,{className:"h-6 w-6 sm:h-8 sm:w-8 flex-shrink-0",children:m.jsx(qv,{className:"bg-gray-200 text-gray-600 text-[10px] sm:text-xs",children:Ne.studentName.split(" ").map(Ke=>Ke[0]).join("").slice(0,2)})}),m.jsx("span",{className:"font-medium text-xs sm:text-sm whitespace-nowrap",children:Ne.studentName})]})}),m.jsx(Dt,{className:"text-center text-muted-foreground text-xs sm:text-sm p-2 sm:p-4",children:Ne.timeIn||"-"}),m.jsx(Dt,{className:"p-1 sm:p-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:()=>Te(Ne.studentId,"present"),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center transition-colors ${Ne.status==="present"?"bg-green-500 border-green-500":"border-gray-300 hover:border-green-400"} ${d?"":"opacity-50 cursor-not-allowed"}`,disabled:!d,children:Ne.status==="present"&&m.jsx(Ts,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})})}),m.jsx(Dt,{className:"p-1 sm:p-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:()=>Te(Ne.studentId,"late"),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center transition-colors ${Ne.status==="late"?"bg-yellow-500 border-yellow-500":"border-gray-300 hover:border-yellow-400"} ${d?"":"opacity-50 cursor-not-allowed"}`,disabled:!d,children:Ne.status==="late"&&m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-white"})})})}),m.jsx(Dt,{className:"p-1 sm:p-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:()=>Te(Ne.studentId,"absent"),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center transition-colors ${Ne.status==="absent"?"bg-red-500 border-red-500":"border-gray-300 hover:border-red-400"} ${d?"":"opacity-50 cursor-not-allowed"}`,disabled:!d,children:Ne.status==="absent"&&m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-white"})})})}),m.jsx(Dt,{className:"p-1 sm:p-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:()=>Te(Ne.studentId,"excused"),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center transition-colors ${Ne.status==="excused"?"bg-blue-500 border-blue-500":"border-gray-300 hover:border-blue-400"} ${d?"":"opacity-50 cursor-not-allowed"}`,disabled:!d,children:Ne.status==="excused"&&m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-white"})})})})]},Ne.studentId)):m.jsx(rn,{children:m.jsx(Dt,{colSpan:6,className:"text-center py-6 sm:py-8 text-muted-foreground text-sm",children:i?"No students enrolled in this subject":"Select a subject to view students"})})})]})}),m.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-between items-center gap-2 sm:gap-4 mt-3 sm:mt-4 pt-3 sm:pt-4 border-t bg-gray-50 -mx-3 sm:-mx-6 -mb-3 sm:-mb-6 px-3 sm:px-6 py-3 sm:py-4 rounded-b-lg",children:[m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx(Qo,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Students"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.total})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-green-500"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Present"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.present})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-yellow-500"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Late"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.late})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-red-500"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Absent"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.absent})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-blue-500"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Excused"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.excused})]})]})]})})]})]})}const qV=M.forwardRef(({className:t,...e},r)=>m.jsx("textarea",{className:Je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));qV.displayName="Textarea";const kD=t=>{if(!t)return"-";try{let e;if(typeof t=="string"){const r=t.replace("Z","");e=new Date(r)}else e=t;return e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"-"}};function E2e(){$i();const{data:t}=qf(),{toast:e}=hi(),r=Qi(),[n,i]=M.useState("all"),[s,o]=M.useState(gn(new Date,"yyyy-MM")),[u,d]=M.useState("all"),[f,g]=M.useState(""),[x,_]=M.useState(null),[T,O]=M.useState(""),[E,A]=M.useState(""),R=Ds({mutationFn:async({id:z,status:Z,remarks:Q,originalStatus:Y})=>{const J=Z==="present"||Z==="late",re=Z!==Y,ie={status:Z,remarks:re?"Manually edited":Q,time_in:re?J?X0():null:void 0};re||delete ie.time_in;const{data:se,error:me}=await St.from("attendance").update(ie).eq("id",z).select().single();if(me)throw new Error(me.message);return se},onSuccess:()=>{r.invalidateQueries({queryKey:["teacher-attendance"]}),r.invalidateQueries({queryKey:["attendance"]}),e({title:"Success",description:"Attendance record updated"}),_(null)},onError:z=>{console.error("Update error:",z),e({title:"Error",description:"Failed to update attendance",variant:"destructive"})}}),P=z=>{_(z),O(z.status),A(z.remarks||"")},I=()=>{x&&R.mutate({id:x.id,status:T,remarks:E,originalStatus:x.status})},{data:D,isLoading:L,refetch:F}=La({queryKey:["teacher-attendance"],refetchInterval:5e3,refetchIntervalInBackground:!1,queryFn:async()=>{const{data:z,error:Z}=await St.from("attendance").select("id, student_id, subject_id, date, status, time_in, remarks");if(Z)throw new Error("Failed to fetch attendance records");if(!z||z.length===0)return[];const Q=Array.from(new Set(z.map(be=>be.student_id))),Y=Array.from(new Set(z.map(be=>be.subject_id))),{data:J,error:re}=await St.from("users").select("id, full_name").in("id",Q),{data:ie,error:se}=await St.from("subjects").select("id, name").in("id",Y),me=new Map(J?.map(be=>[be.id,be.full_name])||[]),ne=new Map(ie?.map(be=>[be.id,be.name])||[]);return z.map(be=>({id:be.id,studentId:be.student_id,subjectId:be.subject_id,date:be.date,status:be.status,timeIn:be.time_in,remarks:be.remarks,studentName:me.get(be.student_id)||"Unknown",subjectName:ne.get(be.subject_id)||"Unknown"}))},enabled:!0}),U=M.useMemo(()=>{if(!D)return[];let z=[...D];if(n!=="all"&&(z=z.filter(Z=>Z.subjectId.toString()===n)),s){const Z=_9(Oa(s+"-01")),Q=b9(Oa(s+"-01"));z=z.filter(Y=>{const J=Oa(Y.date);return A9(J,{start:Z,end:Q})})}return u!=="all"&&(z=z.filter(Z=>Z.status?.toLowerCase()===u.toLowerCase())),f&&(z=z.filter(Z=>Z.studentName.toLowerCase().includes(f.toLowerCase()))),z.sort((Z,Q)=>new Date(Q.date).getTime()-new Date(Z.date).getTime()),z},[D,n,s,u,f]),H=M.useMemo(()=>{const z={};return U.forEach(Z=>{z[Z.date]||(z[Z.date]=[]),z[Z.date].push(Z)}),z},[U]),W=M.useMemo(()=>{const z=U.length,Z=U.filter(re=>re.status?.toLowerCase()==="present").length,Q=U.filter(re=>re.status?.toLowerCase()==="late").length,Y=U.filter(re=>re.status?.toLowerCase()==="absent").length,J=U.filter(re=>re.status?.toLowerCase()==="excused").length;return{total:z,present:Z,late:Q,absent:Y,excused:J}},[U]),ce=M.useMemo(()=>{const z=[],Z=new Date;for(let Q=0;Q<12;Q++){const Y=new Date(Z.getFullYear(),Z.getMonth()-Q,1);z.push({value:gn(Y,"yyyy-MM"),label:gn(Y,"MMMM yyyy")})}return z},[]),K=z=>{switch(z?.toLowerCase()){case"present":return m.jsxs(Fn,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[m.jsx(Ts,{className:"w-3 h-3 mr-1"}),"Present"]});case"late":return m.jsxs(Fn,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[m.jsx(Wl,{className:"w-3 h-3 mr-1"}),"Late"]});case"absent":return m.jsxs(Fn,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:[m.jsx(Cp,{className:"w-3 h-3 mr-1"}),"Absent"]});case"excused":return m.jsxs(Fn,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:[m.jsx(no,{className:"w-3 h-3 mr-1"}),"Excused"]});default:return m.jsx(Fn,{variant:"secondary",children:z})}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:"Attendance History"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"View past attendance records for your classes"})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:m.jsx(Qo,{className:"w-5 h-5 text-gray-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold",children:W.total}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Records"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:m.jsx(Ts,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-green-600",children:W.present}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Present"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:m.jsx(Wl,{className:"w-5 h-5 text-yellow-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:W.late}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Late"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:m.jsx(Cp,{className:"w-5 h-5 text-red-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-red-600",children:W.absent}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Absent"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:m.jsx(no,{className:"w-5 h-5 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-blue-600",children:W.excused}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Excused"})]})]})})})]}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:gap-4 sm:items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(QW,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("span",{className:"font-medium",children:"Filters:"})]}),m.jsxs(di,{value:n,onValueChange:i,children:[m.jsx(ei,{className:"w-full sm:w-[200px]",children:m.jsx(fi,{placeholder:"All Subjects"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Subjects"}),t?.map(z=>m.jsxs(or,{value:z.id.toString(),children:[z.code," - ",z.name]},z.id))]})]}),m.jsxs(di,{value:s,onValueChange:o,children:[m.jsx(ei,{className:"w-full sm:w-[180px]",children:m.jsx(fi,{placeholder:"Select Month"})}),m.jsx(ti,{children:ce.map(z=>m.jsx(or,{value:z.value,children:z.label},z.value))})]}),m.jsxs(di,{value:u,onValueChange:d,children:[m.jsx(ei,{className:"w-full sm:w-[150px]",children:m.jsx(fi,{placeholder:"All Status"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Status"}),m.jsx(or,{value:"present",children:"Present"}),m.jsx(or,{value:"late",children:"Late"}),m.jsx(or,{value:"absent",children:"Absent"}),m.jsx(or,{value:"excused",children:"Excused"})]})]}),m.jsxs("div",{className:"relative w-full sm:flex-1 sm:min-w-[200px]",children:[m.jsx(Gd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(jr,{placeholder:"Search by student name...",className:"pl-9",value:f,onChange:z=>g(z.target.value)})]})]})})}),m.jsxs(zt,{children:[m.jsx(Qr,{children:m.jsxs(Jr,{className:"flex items-center gap-2",children:[m.jsx(Hd,{className:"w-5 h-5"}),"Attendance Records"]})}),m.jsx(Xt,{children:L?m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[m.jsx(Yi,{className:"w-8 h-8 animate-spin text-primary mb-4"}),m.jsx("p",{children:"Loading attendance records..."})]}):Object.keys(H).length>0?m.jsx("div",{className:"space-y-6",children:Object.entries(H).map(([z,Z])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(Hd,{className:"w-4 h-4 text-primary"}),m.jsx("h3",{className:"font-semibold text-gray-900",children:gn(Oa(z),"EEEE, MMMM d, yyyy")}),m.jsxs(Fn,{variant:"secondary",className:"ml-2",children:[Z.length," record",Z.length!==1?"s":""]})]}),m.jsx("div",{className:"rounded-md border",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(rn,{children:[m.jsx(Wt,{children:"Student"}),m.jsx(Wt,{children:"Subject"}),m.jsx(Wt,{className:"whitespace-nowrap",children:"Time In"}),m.jsx(Wt,{children:"Status"}),m.jsx(Wt,{children:"Remarks"}),m.jsx(Wt,{className:"w-[80px]",children:"Actions"})]})}),m.jsx(uo,{children:Z.map(Q=>m.jsxs(rn,{children:[m.jsx(Dt,{className:"font-medium",children:Q.studentName}),m.jsx(Dt,{className:"text-muted-foreground",children:Q.subjectName}),m.jsx(Dt,{className:"whitespace-nowrap",children:kD(Q.timeIn)}),m.jsx(Dt,{children:K(Q.status)}),m.jsx(Dt,{className:"text-muted-foreground",children:Q.remarks||"-"}),m.jsx(Dt,{children:m.jsx(yt,{variant:"ghost",size:"sm",onClick:()=>P(Q),children:m.jsx(sH,{className:"w-4 h-4"})})})]},Q.id))})]})})]},z))}):m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No attendance records found for the selected filters."})})]}),m.jsx(Tu,{open:!!x,onOpenChange:z=>!z&&_(null),children:m.jsxs(nc,{children:[m.jsx(ic,{children:m.jsx(sc,{children:"Edit Attendance Record"})}),x&&m.jsxs("div",{className:"space-y-4 py-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground",children:"Student:"}),m.jsx("p",{className:"font-medium",children:x.studentName})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground",children:"Subject:"}),m.jsx("p",{className:"font-medium",children:x.subjectName})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground",children:"Date:"}),m.jsx("p",{className:"font-medium",children:gn(Oa(x.date),"MMMM d, yyyy")})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground",children:"Time In:"}),m.jsx("p",{className:"font-medium",children:kD(x.timeIn)})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pa,{htmlFor:"status",children:"Status"}),m.jsxs(di,{value:T,onValueChange:O,children:[m.jsx(ei,{children:m.jsx(fi,{})}),m.jsxs(ti,{children:[m.jsx(or,{value:"present",children:"Present"}),m.jsx(or,{value:"late",children:"Late"}),m.jsx(or,{value:"absent",children:"Absent"}),m.jsx(or,{value:"excused",children:"Excused"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pa,{htmlFor:"remarks",children:"Remarks"}),m.jsx(qV,{id:"remarks",value:E,onChange:z=>A(z.target.value),placeholder:"Add any notes or remarks...",rows:3})]})]}),m.jsxs(Ou,{children:[m.jsx(yt,{variant:"outline",onClick:()=>_(null),children:"Cancel"}),m.jsxs(yt,{onClick:I,disabled:R.isPending,children:[R.isPending&&m.jsx(Yi,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})})]})}var ft;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ft||(ft={}));var MD=new Map([[ft.QR_CODE,"QR_CODE"],[ft.AZTEC,"AZTEC"],[ft.CODABAR,"CODABAR"],[ft.CODE_39,"CODE_39"],[ft.CODE_93,"CODE_93"],[ft.CODE_128,"CODE_128"],[ft.DATA_MATRIX,"DATA_MATRIX"],[ft.MAXICODE,"MAXICODE"],[ft.ITF,"ITF"],[ft.EAN_13,"EAN_13"],[ft.EAN_8,"EAN_8"],[ft.PDF_417,"PDF_417"],[ft.RSS_14,"RSS_14"],[ft.RSS_EXPANDED,"RSS_EXPANDED"],[ft.UPC_A,"UPC_A"],[ft.UPC_E,"UPC_E"],[ft.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),DD;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(DD||(DD={}));function A2e(t){return Object.values(ft).includes(t)}var b1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(b1||(b1={}));var C2e=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[b1.SCAN_TYPE_CAMERA,b1.SCAN_TYPE_FILE],t})(),zV=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!MD.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,MD.get(e))},t})(),LD=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),pC;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(pC||(pC={}));var T2e=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:pC.UNKWOWN_ERROR}},t})(),O2e=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function jo(t){return typeof t>"u"||t===null}var Pd=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),WV=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),u=0,d=o;u<d.length;u++){var f=d[u];if(s.has(f))return r.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},t})(),hp={exports:{}},N2e=hp.exports,BD;function I2e(){return BD||(BD=1,(function(t,e){(function(r,n){n(e)})(N2e,(function(r){function n(V){return V==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,a){V.__proto__=a}||function(V,a){for(var c in a)a.hasOwnProperty(c)&&(V[c]=a[c])};function s(V,a){i(V,a);function c(){this.constructor=V}V.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}function o(V,a){var c=Object.setPrototypeOf;c?c(V,a):V.__proto__=a}function u(V,a){a===void 0&&(a=V.constructor);var c=Error.captureStackTrace;c&&c(V,a)}var d=(function(V){s(a,V);function a(c){var h=this.constructor,y=V.call(this,c)||this;return Object.defineProperty(y,"name",{value:h.name,enumerable:!1}),o(y,h.prototype),u(y),y}return a})(Error);class f extends d{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}f.kind="Exception";class g extends f{}g.kind="ArgumentException";class x extends f{}x.kind="IllegalArgumentException";class _{constructor(a){if(this.binarizer=a,a===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,c){return this.binarizer.getBlackRow(a,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,c,h,y){const v=this.binarizer.getLuminanceSource().crop(a,c,h,y);return new _(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends f{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class O{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class E{static arraycopy(a,c,h,y,v){for(;v--;)h[y++]=a[c++]}static currentTimeMillis(){return Date.now()}}class A extends f{}A.kind="IndexOutOfBoundsException";class R extends A{constructor(a=void 0,c=void 0){super(c),this.index=a,this.message=c}}R.kind="ArrayIndexOutOfBoundsException";class P{static fill(a,c){for(let h=0,y=a.length;h<y;h++)a[h]=c}static fillWithin(a,c,h,y){P.rangeCheck(a.length,c,h);for(let v=c;v<h;v++)a[v]=y}static rangeCheck(a,c,h){if(c>h)throw new x("fromIndex("+c+") > toIndex("+h+")");if(c<0)throw new R(c);if(h>a)throw new R(h)}static asList(...a){return a}static create(a,c,h){return Array.from({length:a}).map(v=>Array.from({length:c}).fill(h))}static createInt32Array(a,c,h){return Array.from({length:a}).map(v=>Int32Array.from({length:c}).fill(h))}static equals(a,c){if(!a||!c||!a.length||!c.length||a.length!==c.length)return!1;for(let h=0,y=a.length;h<y;h++)if(a[h]!==c[h])return!1;return!0}static hashCode(a){if(a===null)return 0;let c=1;for(const h of a)c=31*c+h;return c}static fillUint8Array(a,c){for(let h=0;h!==a.length;h++)a[h]=c}static copyOf(a,c){return a.slice(0,c)}static copyOfUint8Array(a,c){if(a.length<=c){const h=new Uint8Array(c);return h.set(a),h}return a.slice(0,c)}static copyOfRange(a,c,h){const y=h-c,v=new Int32Array(y);return E.arraycopy(a,c,v,0,y),v}static binarySearch(a,c,h){h===void 0&&(h=P.numberComparator);let y=0,v=a.length-1;for(;y<=v;){const w=v+y>>1,S=h(c,a[w]);if(S>0)y=w+1;else if(S<0)v=w-1;else return w}return-y-1}static numberComparator(a,c){return a-c}}class I{static numberOfTrailingZeros(a){let c;if(a===0)return 32;let h=31;return c=a<<16,c!==0&&(h-=16,a=c),c=a<<8,c!==0&&(h-=8,a=c),c=a<<4,c!==0&&(h-=4,a=c),c=a<<2,c!==0&&(h-=2,a=c),h-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let c=1;return a>>>16||(c+=16,a<<=16),a>>>24||(c+=8,a<<=8),a>>>28||(c+=4,a<<=4),a>>>30||(c+=2,a<<=2),c-=a>>>31,c}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,c){return Math.trunc(a/c)}static parseInt(a,c=void 0){return parseInt(a,c)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(a,c){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,c==null?this.bits=D.makeArray(a):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const c=D.makeArray(a);E.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const c=this.size;if(a>=c)return c;const h=this.bits;let y=Math.floor(a/32),v=h[y];v&=~((1<<(a&31))-1);const w=h.length;for(;v===0;){if(++y===w)return c;v=h[y]}const S=y*32+I.numberOfTrailingZeros(v);return S>c?c:S}getNextUnset(a){const c=this.size;if(a>=c)return c;const h=this.bits;let y=Math.floor(a/32),v=~h[y];v&=~((1<<(a&31))-1);const w=h.length;for(;v===0;){if(++y===w)return c;v=~h[y]}const S=y*32+I.numberOfTrailingZeros(v);return S>c?c:S}setBulk(a,c){this.bits[Math.floor(a/32)]=c}setRange(a,c){if(c<a||a<0||c>this.size)throw new x;if(c===a)return;c--;const h=Math.floor(a/32),y=Math.floor(c/32),v=this.bits;for(let w=h;w<=y;w++){const S=w>h?0:a&31,j=(2<<(w<y?31:c&31))-(1<<S);v[w]|=j}}clear(){const a=this.bits.length,c=this.bits;for(let h=0;h<a;h++)c[h]=0}isRange(a,c,h){if(c<a||a<0||c>this.size)throw new x;if(c===a)return!0;c--;const y=Math.floor(a/32),v=Math.floor(c/32),w=this.bits;for(let S=y;S<=v;S++){const N=S>y?0:a&31,$=(2<<(S<v?31:c&31))-(1<<N)&4294967295;if((w[S]&$)!==(h?$:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,c){if(c<0||c>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let h=c;h>0;h--)this.appendBit((a>>h-1&1)===1)}appendBitArray(a){const c=a.size;this.ensureCapacity(this.size+c);for(let h=0;h<c;h++)this.appendBit(a.get(h))}xor(a){if(this.size!==a.size)throw new x("Sizes don't match");const c=this.bits;for(let h=0,y=c.length;h<y;h++)c[h]^=a.bits[h]}toBytes(a,c,h,y){for(let v=0;v<y;v++){let w=0;for(let S=0;S<8;S++)this.get(a)&&(w|=1<<7-S),a++;c[h+v]=w}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),h=c+1,y=this.bits;for(let v=0;v<h;v++){let w=y[v];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,a[c-v]=w}if(this.size!==h*32){const v=h*32-this.size;let w=a[0]>>>v;for(let S=1;S<h;S++){const N=a[S];w|=N<<32-v,a[S-1]=w,w=N>>>v}a[h-1]=w}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof D))return!1;const c=a;return this.size===c.size&&P.equals(this.bits,c.bits)}hashCode(){return 31*this.size+P.hashCode(this.bits)}toString(){let a="";for(let c=0,h=this.size;c<h;c++)(c&7)===0&&(a+=" "),a+=this.get(c)?"X":".";return a}clone(){return new D(this.size,this.bits.slice())}}var L;(function(V){V[V.OTHER=0]="OTHER",V[V.PURE_BARCODE=1]="PURE_BARCODE",V[V.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",V[V.TRY_HARDER=3]="TRY_HARDER",V[V.CHARACTER_SET=4]="CHARACTER_SET",V[V.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",V[V.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",V[V.ASSUME_GS1=7]="ASSUME_GS1",V[V.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",V[V.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",V[V.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(L||(L={}));var F=L;class U extends f{static getFormatInstance(){return new U}}U.kind="FormatException";var H;(function(V){V[V.Cp437=0]="Cp437",V[V.ISO8859_1=1]="ISO8859_1",V[V.ISO8859_2=2]="ISO8859_2",V[V.ISO8859_3=3]="ISO8859_3",V[V.ISO8859_4=4]="ISO8859_4",V[V.ISO8859_5=5]="ISO8859_5",V[V.ISO8859_6=6]="ISO8859_6",V[V.ISO8859_7=7]="ISO8859_7",V[V.ISO8859_8=8]="ISO8859_8",V[V.ISO8859_9=9]="ISO8859_9",V[V.ISO8859_10=10]="ISO8859_10",V[V.ISO8859_11=11]="ISO8859_11",V[V.ISO8859_13=12]="ISO8859_13",V[V.ISO8859_14=13]="ISO8859_14",V[V.ISO8859_15=14]="ISO8859_15",V[V.ISO8859_16=15]="ISO8859_16",V[V.SJIS=16]="SJIS",V[V.Cp1250=17]="Cp1250",V[V.Cp1251=18]="Cp1251",V[V.Cp1252=19]="Cp1252",V[V.Cp1256=20]="Cp1256",V[V.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",V[V.UTF8=22]="UTF8",V[V.ASCII=23]="ASCII",V[V.Big5=24]="Big5",V[V.GB18030=25]="GB18030",V[V.EUC_KR=26]="EUC_KR"})(H||(H={}));class W{constructor(a,c,h,...y){this.valueIdentifier=a,this.name=h,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=y,W.VALUE_IDENTIFIER_TO_ECI.set(a,this),W.NAME_TO_ECI.set(h,this);const v=this.values;for(let w=0,S=v.length;w!==S;w++){const N=v[w];W.VALUES_TO_ECI.set(N,this)}for(const w of y)W.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new U("incorect value");const c=W.VALUES_TO_ECI.get(a);if(c===void 0)throw new U("incorect value");return c}static getCharacterSetECIByName(a){const c=W.NAME_TO_ECI.get(a);if(c===void 0)throw new U("incorect value");return c}equals(a){if(!(a instanceof W))return!1;const c=a;return this.getName()===c.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(H.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(H.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(H.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(H.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(H.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(H.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(H.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(H.Big5,28,"Big5"),W.GB18030=new W(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(H.EUC_KR,30,"EUC_KR","EUC-KR");class ce extends f{}ce.kind="UnsupportedOperationException";class K{static decode(a,c){const h=this.encodingName(c);return this.customDecoder?this.customDecoder(a,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(a,h):new TextDecoder(h).decode(a)}static shouldDecodeOnFallback(a){return!K.isBrowser()&&a==="ISO-8859-1"}static encode(a,c){const h=this.encodingName(c);return this.customEncoder?this.customEncoder(a,h):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof W?a:W.getCharacterSetECIByName(a)}static decodeFallback(a,c){const h=this.encodingCharacterSet(c);if(K.isDecodeFallbackSupported(h)){let y="";for(let v=0,w=a.length;v<w;v++){let S=a[v].toString(16);S.length<2&&(S="0"+S),y+="%"+S}return decodeURIComponent(y)}if(h.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new ce(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(W.UTF8)||a.equals(W.ISO8859_1)||a.equals(W.ASCII)}static encodeFallback(a){const h=btoa(unescape(encodeURIComponent(a))).split(""),y=[];for(let v=0;v<h.length;v++)y.push(h[v].charCodeAt(0));return new Uint8Array(y)}}class z{static castAsNonUtf8Char(a,c=null){const h=c?c.getName():this.ISO88591;return K.decode(new Uint8Array([a]),h)}static guessEncoding(a,c){if(c!=null&&c.get(F.CHARACTER_SET)!==void 0)return c.get(F.CHARACTER_SET).toString();const h=a.length;let y=!0,v=!0,w=!0,S=0,N=0,j=0,$=0,q=0,X=0,te=0,de=0,he=0,ge=0,_e=0;const qe=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let He=0;He<h&&(y||v||w);He++){const De=a[He]&255;w&&(S>0?(De&128)===0?w=!1:S--:(De&128)!==0&&((De&64)===0?w=!1:(S++,(De&32)===0?N++:(S++,(De&16)===0?j++:(S++,(De&8)===0?$++:w=!1))))),y&&(De>127&&De<160?y=!1:De>159&&(De<192||De===215||De===247)&&_e++),v&&(q>0?De<64||De===127||De>252?v=!1:q--:De===128||De===160||De>239?v=!1:De>160&&De<224?(X++,de=0,te++,te>he&&(he=te)):De>127?(q++,te=0,de++,de>ge&&(ge=de)):(te=0,de=0))}return w&&S>0&&(w=!1),v&&q>0&&(v=!1),w&&(qe||N+j+$>0)?z.UTF8:v&&(z.ASSUME_SHIFT_JIS||he>=3||ge>=3)?z.SHIFT_JIS:y&&v?he===2&&X===2||_e*10>=h?z.SHIFT_JIS:z.ISO88591:y?z.ISO88591:v?z.SHIFT_JIS:w?z.UTF8:z.PLATFORM_DEFAULT_ENCODING}static format(a,...c){let h=-1;function y(w,S,N,j,$,q){if(w==="%%")return"%";if(c[++h]===void 0)return;w=j?parseInt(j.substr(1)):void 0;let X=$?parseInt($.substr(1)):void 0,te;switch(q){case"s":te=c[h];break;case"c":te=c[h][0];break;case"f":te=parseFloat(c[h]).toFixed(w);break;case"p":te=parseFloat(c[h]).toPrecision(w);break;case"e":te=parseFloat(c[h]).toExponential(w);break;case"x":te=parseInt(c[h]).toString(X||16);break;case"d":te=parseFloat(parseInt(c[h],X||10).toPrecision(w)).toFixed(0);break}te=typeof te=="object"?JSON.stringify(te):(+te).toString(X);let de=parseInt(N),he=N&&N[0]+""=="0"?"0":" ";for(;te.length<de;)te=S!==void 0?te+he:he+te;return te}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(v,y)}static getBytes(a,c){return K.encode(a,c)}static getCharCode(a,c=0){return a.charCodeAt(c)}static getCharAt(a){return String.fromCharCode(a)}}z.SHIFT_JIS=W.SJIS.getName(),z.GB2312="GB2312",z.ISO88591=W.ISO8859_1.getName(),z.EUC_JP="EUC_JP",z.UTF8=W.UTF8.getName(),z.PLATFORM_DEFAULT_ENCODING=z.UTF8,z.ASSUME_SHIFT_JIS=!1;class Z{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=z.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,c,h){for(let y=c;c<c+h;y++)this.append(a[y]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+1)}substring(a,c){return this.value.substring(a,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+c.length)}}class Q{constructor(a,c,h,y){if(this.width=a,this.height=c,this.rowSize=h,this.bits=y,c==null&&(c=a),this.height=c,a<1||c<1)throw new x("Both dimensions must be greater than 0");h==null&&(h=Math.floor((a+31)/32)),this.rowSize=h,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const c=a.length,h=a[0].length,y=new Q(h,c);for(let v=0;v<c;v++){const w=a[v];for(let S=0;S<h;S++)w[S]&&y.set(S,v)}return y}static parseFromString(a,c,h){if(a===null)throw new x("stringRepresentation cannot be null");const y=new Array(a.length);let v=0,w=0,S=-1,N=0,j=0;for(;j<a.length;)if(a.charAt(j)===`
`||a.charAt(j)==="\r"){if(v>w){if(S===-1)S=v-w;else if(v-w!==S)throw new x("row lengths do not match");w=v,N++}j++}else if(a.substring(j,j+c.length)===c)j+=c.length,y[v]=!0,v++;else if(a.substring(j,j+h.length)===h)j+=h.length,y[v]=!1,v++;else throw new x("illegal character encountered: "+a.substring(j));if(v>w){if(S===-1)S=v-w;else if(v-w!==S)throw new x("row lengths do not match");N++}const $=new Q(S,N);for(let q=0;q<v;q++)y[q]&&$.set(Math.floor(q%S),Math.floor(q/S));return $}get(a,c){const h=c*this.rowSize+Math.floor(a/32);return(this.bits[h]>>>(a&31)&1)!==0}set(a,c){const h=c*this.rowSize+Math.floor(a/32);this.bits[h]|=1<<(a&31)&4294967295}unset(a,c){const h=c*this.rowSize+Math.floor(a/32);this.bits[h]&=~(1<<(a&31)&4294967295)}flip(a,c){const h=c*this.rowSize+Math.floor(a/32);this.bits[h]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new x("input matrix dimensions do not match");const c=new D(Math.floor(this.width/32)+1),h=this.rowSize,y=this.bits;for(let v=0,w=this.height;v<w;v++){const S=v*h,N=a.getRow(v,c).getBitArray();for(let j=0;j<h;j++)y[S+j]^=N[j]}}clear(){const a=this.bits,c=a.length;for(let h=0;h<c;h++)a[h]=0}setRegion(a,c,h,y){if(c<0||a<0)throw new x("Left and top must be nonnegative");if(y<1||h<1)throw new x("Height and width must be at least 1");const v=a+h,w=c+y;if(w>this.height||v>this.width)throw new x("The region must fit inside the matrix");const S=this.rowSize,N=this.bits;for(let j=c;j<w;j++){const $=j*S;for(let q=a;q<v;q++)N[$+Math.floor(q/32)]|=1<<(q&31)&4294967295}}getRow(a,c){c==null||c.getSize()<this.width?c=new D(this.width):c.clear();const h=this.rowSize,y=this.bits,v=a*h;for(let w=0;w<h;w++)c.setBulk(w*32,y[v+w]);return c}setRow(a,c){E.arraycopy(c.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),c=this.getHeight();let h=new D(a),y=new D(a);for(let v=0,w=Math.floor((c+1)/2);v<w;v++)h=this.getRow(v,h),y=this.getRow(c-1-v,y),h.reverse(),y.reverse(),this.setRow(v,y),this.setRow(c-1-v,h)}getEnclosingRectangle(){const a=this.width,c=this.height,h=this.rowSize,y=this.bits;let v=a,w=c,S=-1,N=-1;for(let j=0;j<c;j++)for(let $=0;$<h;$++){const q=y[j*h+$];if(q!==0){if(j<w&&(w=j),j>N&&(N=j),$*32<v){let X=0;for(;(q<<31-X&4294967295)===0;)X++;$*32+X<v&&(v=$*32+X)}if($*32+31>S){let X=31;for(;!(q>>>X);)X--;$*32+X>S&&(S=$*32+X)}}}return S<v||N<w?null:Int32Array.from([v,w,S-v+1,N-w+1])}getTopLeftOnBit(){const a=this.rowSize,c=this.bits;let h=0;for(;h<c.length&&c[h]===0;)h++;if(h===c.length)return null;const y=h/a;let v=h%a*32;const w=c[h];let S=0;for(;(w<<31-S&4294967295)===0;)S++;return v+=S,Int32Array.from([v,y])}getBottomRightOnBit(){const a=this.rowSize,c=this.bits;let h=c.length-1;for(;h>=0&&c[h]===0;)h--;if(h<0)return null;const y=Math.floor(h/a);let v=Math.floor(h%a)*32;const w=c[h];let S=31;for(;!(w>>>S);)S--;return v+=S,Int32Array.from([v,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof Q))return!1;const c=a;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&P.equals(this.bits,c.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+P.hashCode(this.bits),a}toString(a="X ",c="  ",h=`
`){return this.buildToString(a,c,h)}buildToString(a,c,h){let y=new Z;for(let v=0,w=this.height;v<w;v++){for(let S=0,N=this.width;S<N;S++)y.append(this.get(S,v)?a:c);y.append(h)}return y.toString()}clone(){return new Q(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends f{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class J extends O{constructor(a){super(a),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(a,c){const h=this.getLuminanceSource(),y=h.getWidth();c==null||c.getSize()<y?c=new D(y):c.clear(),this.initArrays(y);const v=h.getRow(a,this.luminances),w=this.buckets;for(let N=0;N<y;N++)w[(v[N]&255)>>J.LUMINANCE_SHIFT]++;const S=J.estimateBlackPoint(w);if(y<3)for(let N=0;N<y;N++)(v[N]&255)<S&&c.set(N);else{let N=v[0]&255,j=v[1]&255;for(let $=1;$<y-1;$++){const q=v[$+1]&255;(j*4-N-q)/2<S&&c.set($),N=j,j=q}}return c}getBlackMatrix(){const a=this.getLuminanceSource(),c=a.getWidth(),h=a.getHeight(),y=new Q(c,h);this.initArrays(c);const v=this.buckets;for(let N=1;N<5;N++){const j=Math.floor(h*N/5),$=a.getRow(j,this.luminances),q=Math.floor(c*4/5);for(let X=Math.floor(c/5);X<q;X++){const te=$[X]&255;v[te>>J.LUMINANCE_SHIFT]++}}const w=J.estimateBlackPoint(v),S=a.getMatrix();for(let N=0;N<h;N++){const j=N*c;for(let $=0;$<c;$++)(S[j+$]&255)<w&&y.set($,N)}return y}createBinarizer(a){return new J(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const c=this.buckets;for(let h=0;h<J.LUMINANCE_BUCKETS;h++)c[h]=0}static estimateBlackPoint(a){const c=a.length;let h=0,y=0,v=0;for(let $=0;$<c;$++)a[$]>v&&(y=$,v=a[$]),a[$]>h&&(h=a[$]);let w=0,S=0;for(let $=0;$<c;$++){const q=$-y,X=a[$]*q*q;X>S&&(w=$,S=X)}if(y>w){const $=y;y=w,w=$}if(w-y<=c/16)throw new Y;let N=w-1,j=-1;for(let $=w-1;$>y;$--){const q=$-y,X=q*q*(w-$)*(h-a[$]);X>j&&(N=$,j=X)}return N<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class re extends J{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),c=a.getWidth(),h=a.getHeight();if(c>=re.MINIMUM_DIMENSION&&h>=re.MINIMUM_DIMENSION){const y=a.getMatrix();let v=c>>re.BLOCK_SIZE_POWER;(c&re.BLOCK_SIZE_MASK)!==0&&v++;let w=h>>re.BLOCK_SIZE_POWER;(h&re.BLOCK_SIZE_MASK)!==0&&w++;const S=re.calculateBlackPoints(y,v,w,c,h),N=new Q(c,h);re.calculateThresholdForBlock(y,v,w,c,h,S,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new re(a)}static calculateThresholdForBlock(a,c,h,y,v,w,S){const N=v-re.BLOCK_SIZE,j=y-re.BLOCK_SIZE;for(let $=0;$<h;$++){let q=$<<re.BLOCK_SIZE_POWER;q>N&&(q=N);const X=re.cap($,2,h-3);for(let te=0;te<c;te++){let de=te<<re.BLOCK_SIZE_POWER;de>j&&(de=j);const he=re.cap(te,2,c-3);let ge=0;for(let qe=-2;qe<=2;qe++){const He=w[X+qe];ge+=He[he-2]+He[he-1]+He[he]+He[he+1]+He[he+2]}const _e=ge/25;re.thresholdBlock(a,de,q,_e,y,S)}}}static cap(a,c,h){return a<c?c:a>h?h:a}static thresholdBlock(a,c,h,y,v,w){for(let S=0,N=h*v+c;S<re.BLOCK_SIZE;S++,N+=v)for(let j=0;j<re.BLOCK_SIZE;j++)(a[N+j]&255)<=y&&w.set(c+j,h+S)}static calculateBlackPoints(a,c,h,y,v){const w=v-re.BLOCK_SIZE,S=y-re.BLOCK_SIZE,N=new Array(h);for(let j=0;j<h;j++){N[j]=new Int32Array(c);let $=j<<re.BLOCK_SIZE_POWER;$>w&&($=w);for(let q=0;q<c;q++){let X=q<<re.BLOCK_SIZE_POWER;X>S&&(X=S);let te=0,de=255,he=0;for(let _e=0,qe=$*y+X;_e<re.BLOCK_SIZE;_e++,qe+=y){for(let He=0;He<re.BLOCK_SIZE;He++){const De=a[qe+He]&255;te+=De,De<de&&(de=De),De>he&&(he=De)}if(he-de>re.MIN_DYNAMIC_RANGE)for(_e++,qe+=y;_e<re.BLOCK_SIZE;_e++,qe+=y)for(let He=0;He<re.BLOCK_SIZE;He++)te+=a[qe+He]&255}let ge=te>>re.BLOCK_SIZE_POWER*2;if(he-de<=re.MIN_DYNAMIC_RANGE&&(ge=de/2,j>0&&q>0)){const _e=(N[j-1][q]+2*N[j][q-1]+N[j-1][q-1])/4;de<_e&&(ge=_e)}N[j][q]=ge}}return N}}re.BLOCK_SIZE_POWER=3,re.BLOCK_SIZE=1<<re.BLOCK_SIZE_POWER,re.BLOCK_SIZE_MASK=re.BLOCK_SIZE-1,re.MINIMUM_DIMENSION=re.BLOCK_SIZE*5,re.MIN_DYNAMIC_RANGE=24;class ie{constructor(a,c){this.width=a,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,c,h,y){throw new ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ce("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let c=new Z;for(let h=0;h<this.height;h++){const y=this.getRow(h,a);for(let v=0;v<this.width;v++){const w=y[v]&255;let S;w<64?S="#":w<128?S="+":w<192?S=".":S=" ",c.append(S)}c.append(`
`)}return c.toString()}}class se extends ie{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,c){const h=this.delegate.getRow(a,c),y=this.getWidth();for(let v=0;v<y;v++)h[v]=255-(h[v]&255);return h}getMatrix(){const a=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(c);for(let y=0;y<c;y++)h[y]=255-(a[y]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(a,c,h,y){return new se(this.delegate.crop(a,c,h,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new se(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new se(this.delegate.rotateCounterClockwise45())}}class me extends ie{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const c=a.getContext("2d").getImageData(0,0,a.width,a.height);return me.toGrayscaleBuffer(c.data,a.width,a.height)}static toGrayscaleBuffer(a,c,h){const y=new Uint8ClampedArray(c*h);for(let v=0,w=0,S=a.length;v<S;v+=4,w++){let N;if(a[v+3]===0)N=255;else{const $=a[v],q=a[v+1],X=a[v+2];N=306*$+601*q+117*X+512>>10}y[w]=N}return y}getRow(a,c){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const h=this.getWidth(),y=a*h;return c===null?c=this.buffer.slice(y,y+h):(c.length<h&&(c=new Uint8ClampedArray(h)),c.set(this.buffer.slice(y,y+h))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,c,h,y){return super.crop(a,c,h,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const c=this.getTempCanvasElement(),h=c.getContext("2d"),y=a*me.DEGREE_TO_RADIANS,v=this.canvas.width,w=this.canvas.height,S=Math.ceil(Math.abs(Math.cos(y))*v+Math.abs(Math.sin(y))*w),N=Math.ceil(Math.abs(Math.sin(y))*v+Math.abs(Math.cos(y))*w);return c.width=S,c.height=N,h.translate(S/2,N/2),h.rotate(y),h.drawImage(this.canvas,v/-2,w/-2),this.buffer=me.makeBufferFromCanvasImageData(c),this}invert(){return new se(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(a,c,h){this.deviceId=a,this.label=c,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||$l||self||window||void 0)&&(globalThis||$l||self||window||void 0).__awaiter||function(V,a,c,h){function y(v){return v instanceof c?v:new c(function(w){w(v)})}return new(c||(c=Promise))(function(v,w){function S($){try{j(h.next($))}catch(q){w(q)}}function N($){try{j(h.throw($))}catch(q){w(q)}}function j($){$.done?v($.value):y($.value).then(S,N)}j((h=h.apply(V,a||[])).next())})};class be{constructor(a,c=500,h){this.reader=a,this.timeBetweenScansMillis=c,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const h of a){const y=h.kind==="video"?"videoinput":h.kind;if(y!=="videoinput")continue;const v=h.deviceId||h.id,w=h.label||`Video device ${c.length+1}`,S=h.groupId,N={deviceId:v,label:w,kind:y,groupId:S};c.push(N)}return c})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new ne(c.deviceId,c.label))})}findDeviceById(a){return ue(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(h=>h.deviceId===a):null})}decodeFromInputVideoDevice(a,c){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,c)})}decodeOnceFromVideoDevice(a,c){return ue(this,void 0,void 0,function*(){this.reset();let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const y={video:h};return yield this.decodeOnceFromConstraints(y,c)})}decodeOnceFromConstraints(a,c){return ue(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(h,c)})}decodeOnceFromStream(a,c){return ue(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,c);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(a,c,h){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,c,h)})}decodeFromVideoDevice(a,c,h){return ue(this,void 0,void 0,function*(){let y;a?y={deviceId:{exact:a}}:y={facingMode:"environment"};const v={video:y};return yield this.decodeFromConstraints(v,c,h)})}decodeFromConstraints(a,c,h){return ue(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(y,c,h)})}decodeFromStream(a,c,h){return ue(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(a,c);return yield this.decodeContinuously(y,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,c){return ue(this,void 0,void 0,function*(){const h=this.prepareVideoElement(c);return this.addVideoSource(h,a),this.videoElement=h,this.stream=a,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(a){return new Promise((c,h)=>this.playVideoOnLoad(a,()=>c()))}playVideoOnLoad(a,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",c),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,c){const h=document.getElementById(a);if(!h)throw new g(`element with id '${a}' not found`);if(h.nodeName.toLowerCase()!==c.toLowerCase())throw new g(`element with id '${a}' must be an ${c} element`);return h}decodeFromImage(a,c){if(!a&&!c)throw new g("either imageElement with a src set or an url must be provided");return c&&!a?this.decodeFromImageUrl(c):this.decodeFromImageElement(a)}decodeFromVideo(a,c){if(!a&&!c)throw new g("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,c,h){if(a===void 0&&c===void 0)throw new g("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrlContinuously(c,h):this.decodeFromVideoElementContinuously(a,h)}decodeFromImageElement(a){if(!a)throw new g("An image element must be provided.");this.reset();const c=this.prepareImageElement(a);this.imageElement=c;let h;return this.isImageLoaded(c)?h=this.decodeOnce(c,!1,!0):h=this._decodeOnLoadImage(c),h}decodeFromVideoElement(a){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(a,c){const h=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(h,c)}_decodeFromVideoElementSetup(a){if(!a)throw new g("A video element must be provided.");this.reset();const c=this.prepareVideoElement(a);return this.videoElement=c,c}decodeFromImageUrl(a){if(!a)throw new g("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const h=this._decodeOnLoadImage(c);return c.src=a,h}decodeFromVideoUrl(a){if(!a)throw new g("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElement(c);return c.src=a,h}decodeFromVideoUrlContinuously(a,c){if(!a)throw new g("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(h,c);return h.src=a,y}_decodeOnLoadImage(a){return new Promise((c,h)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(c,h),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,c){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,c)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let c;return typeof a>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(c=a),c}prepareVideoElement(a){let c;return!a&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(c=a),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(a,c=!0,h=!0){this._stopAsyncDecode=!1;const y=(v,w)=>{if(this._stopAsyncDecode){w(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const S=this.decode(a);v(S)}catch(S){const N=c&&S instanceof Y,$=(S instanceof T||S instanceof U)&&h;if(N||$)return setTimeout(y,this._timeBetweenDecodingAttempts,v,w);w(S)}};return new Promise((v,w)=>y(v,w))}decodeContinuously(a,c){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(a);c(y,null),setTimeout(h,this.timeBetweenScansMillis)}catch(y){c(null,y);const v=y instanceof T||y instanceof U,w=y instanceof Y;(v||w)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(a){const c=this.createBinaryBitmap(a);return this.decodeBitmap(c)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,c,h){c||(c={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(a,c,h=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const c=this.getCaptureCanvas(a),h=new me(c),y=new re(h);return new _(y)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const c=this.createCaptureCanvas(a);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let h,y;return typeof a<"u"&&(a instanceof HTMLVideoElement?(h=a.videoWidth,y=a.videoHeight):a instanceof HTMLImageElement&&(h=a.naturalWidth||a.width,y=a.naturalHeight||a.height)),c.style.width=h+"px",c.style.height=y+"px",c.width=h,c.height=y,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,c){try{a.srcObject=c}catch{a.src=URL.createObjectURL(c)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Pe{constructor(a,c,h=c==null?0:8*c.length,y,v,w=E.currentTimeMillis()){this.text=a,this.rawBytes=c,this.numBits=h,this.resultPoints=y,this.format=v,this.timestamp=w,this.text=a,this.rawBytes=c,h==null?this.numBits=c==null?0:8*c.length:this.numBits=h,this.resultPoints=y,this.format=v,this.resultMetadata=null,w==null?this.timestamp=E.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,c)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const c=this.resultPoints;if(c===null)this.resultPoints=a;else if(a!==null&&a.length>0){const h=new Array(c.length+a.length);E.arraycopy(c,0,h,0,c.length),E.arraycopy(a,0,h,c.length,a.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var rt;(function(V){V[V.AZTEC=0]="AZTEC",V[V.CODABAR=1]="CODABAR",V[V.CODE_39=2]="CODE_39",V[V.CODE_93=3]="CODE_93",V[V.CODE_128=4]="CODE_128",V[V.DATA_MATRIX=5]="DATA_MATRIX",V[V.EAN_8=6]="EAN_8",V[V.EAN_13=7]="EAN_13",V[V.ITF=8]="ITF",V[V.MAXICODE=9]="MAXICODE",V[V.PDF_417=10]="PDF_417",V[V.QR_CODE=11]="QR_CODE",V[V.RSS_14=12]="RSS_14",V[V.RSS_EXPANDED=13]="RSS_EXPANDED",V[V.UPC_A=14]="UPC_A",V[V.UPC_E=15]="UPC_E",V[V.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(rt||(rt={}));var Ie=rt,Re;(function(V){V[V.OTHER=0]="OTHER",V[V.ORIENTATION=1]="ORIENTATION",V[V.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",V[V.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",V[V.ISSUE_NUMBER=4]="ISSUE_NUMBER",V[V.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",V[V.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",V[V.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",V[V.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",V[V.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",V[V.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Re||(Re={}));var Be=Re;class Te{constructor(a,c,h,y,v=-1,w=-1){this.rawBytes=a,this.text=c,this.byteSegments=h,this.ecLevel=y,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=w,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $e{exp(a){return this.expTable[a]}log(a){if(a===0)throw new x;return this.logTable[a]}static addOrSubtract(a,c){return a^c}}class Ve{constructor(a,c){if(c.length===0)throw new x;this.field=a;const h=c.length;if(h>1&&c[0]===0){let y=1;for(;y<h&&c[y]===0;)y++;y===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-y),E.arraycopy(c,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const c=this.coefficients;let h;if(a===1){h=0;for(let w=0,S=c.length;w!==S;w++){const N=c[w];h=$e.addOrSubtract(h,N)}return h}h=c[0];const y=c.length,v=this.field;for(let w=1;w<y;w++)h=$e.addOrSubtract(v.multiply(a,h),c[w]);return h}addOrSubtract(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,h=a.coefficients;if(c.length>h.length){const w=c;c=h,h=w}let y=new Int32Array(h.length);const v=h.length-c.length;E.arraycopy(h,0,y,0,v);for(let w=v;w<h.length;w++)y[w]=$e.addOrSubtract(c[w-v],h[w]);return new Ve(this.field,y)}multiply(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const c=this.coefficients,h=c.length,y=a.coefficients,v=y.length,w=new Int32Array(h+v-1),S=this.field;for(let N=0;N<h;N++){const j=c[N];for(let $=0;$<v;$++)w[N+$]=$e.addOrSubtract(w[N+$],S.multiply(j,y[$]))}return new Ve(S,w)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const c=this.coefficients.length,h=this.field,y=new Int32Array(c),v=this.coefficients;for(let w=0;w<c;w++)y[w]=h.multiply(v[w],a);return new Ve(h,y)}multiplyByMonomial(a,c){if(a<0)throw new x;if(c===0)return this.field.getZero();const h=this.coefficients,y=h.length,v=new Int32Array(y+a),w=this.field;for(let S=0;S<y;S++)v[S]=w.multiply(h[S],c);return new Ve(w,v)}divide(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new x("Divide by 0");const c=this.field;let h=c.getZero(),y=this;const v=a.getCoefficient(a.getDegree()),w=c.inverse(v);for(;y.getDegree()>=a.getDegree()&&!y.isZero();){const S=y.getDegree()-a.getDegree(),N=c.multiply(y.getCoefficient(y.getDegree()),w),j=a.multiplyByMonomial(S,N),$=c.buildMonomial(S,N);h=h.addOrSubtract($),y=y.addOrSubtract(j)}return[h,y]}toString(){let a="";for(let c=this.getDegree();c>=0;c--){let h=this.getCoefficient(c);if(h!==0){if(h<0?(a+=" - ",h=-h):a.length>0&&(a+=" + "),c===0||h!==1){const y=this.field.log(h);y===0?a+="1":y===1?a+="a":(a+="a^",a+=y)}c!==0&&(c===1?a+="x":(a+="x^",a+=c))}}return a}}class Ce extends f{}Ce.kind="ArithmeticException";class et extends $e{constructor(a,c,h){super(),this.primitive=a,this.size=c,this.generatorBase=h;const y=new Int32Array(c);let v=1;for(let S=0;S<c;S++)y[S]=v,v*=2,v>=c&&(v^=a,v&=c-1);this.expTable=y;const w=new Int32Array(c);for(let S=0;S<c-1;S++)w[y[S]]=S;this.logTable=w,this.zero=new Ve(this,Int32Array.from([0])),this.one=new Ve(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new x;if(c===0)return this.zero;const h=new Int32Array(a+1);return h[0]=c,new Ve(this,h)}inverse(a){if(a===0)throw new Ce;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;class _t extends f{}_t.kind="ReedSolomonException";class Ne extends f{}Ne.kind="IllegalStateException";class Ke{constructor(a){this.field=a}decode(a,c){const h=this.field,y=new Ve(h,a),v=new Int32Array(c);let w=!0;for(let te=0;te<c;te++){const de=y.evaluateAt(h.exp(te+h.getGeneratorBase()));v[v.length-1-te]=de,de!==0&&(w=!1)}if(w)return;const S=new Ve(h,v),N=this.runEuclideanAlgorithm(h.buildMonomial(c,1),S,c),j=N[0],$=N[1],q=this.findErrorLocations(j),X=this.findErrorMagnitudes($,q);for(let te=0;te<q.length;te++){const de=a.length-1-h.log(q[te]);if(de<0)throw new _t("Bad error location");a[de]=et.addOrSubtract(a[de],X[te])}}runEuclideanAlgorithm(a,c,h){if(a.getDegree()<c.getDegree()){const te=a;a=c,c=te}const y=this.field;let v=a,w=c,S=y.getZero(),N=y.getOne();for(;w.getDegree()>=(h/2|0);){let te=v,de=S;if(v=w,S=N,v.isZero())throw new _t("r_{i-1} was zero");w=te;let he=y.getZero();const ge=v.getCoefficient(v.getDegree()),_e=y.inverse(ge);for(;w.getDegree()>=v.getDegree()&&!w.isZero();){const qe=w.getDegree()-v.getDegree(),He=y.multiply(w.getCoefficient(w.getDegree()),_e);he=he.addOrSubtract(y.buildMonomial(qe,He)),w=w.addOrSubtract(v.multiplyByMonomial(qe,He))}if(N=he.multiply(S).addOrSubtract(de),w.getDegree()>=v.getDegree())throw new Ne("Division algorithm failed to reduce polynomial?")}const j=N.getCoefficient(0);if(j===0)throw new _t("sigmaTilde(0) was zero");const $=y.inverse(j),q=N.multiplyScalar($),X=w.multiplyScalar($);return[q,X]}findErrorLocations(a){const c=a.getDegree();if(c===1)return Int32Array.from([a.getCoefficient(1)]);const h=new Int32Array(c);let y=0;const v=this.field;for(let w=1;w<v.getSize()&&y<c;w++)a.evaluateAt(w)===0&&(h[y]=v.inverse(w),y++);if(y!==c)throw new _t("Error locator degree does not match number of roots");return h}findErrorMagnitudes(a,c){const h=c.length,y=new Int32Array(h),v=this.field;for(let w=0;w<h;w++){const S=v.inverse(c[w]);let N=1;for(let j=0;j<h;j++)if(w!==j){const $=v.multiply(c[j],S),q=($&1)===0?$|1:$&-2;N=v.multiply(N,q)}y[w]=v.multiply(a.evaluateAt(S),v.inverse(N)),v.getGeneratorBase()!==0&&(y[w]=v.multiply(y[w],S))}return y}}var ot;(function(V){V[V.UPPER=0]="UPPER",V[V.LOWER=1]="LOWER",V[V.MIXED=2]="MIXED",V[V.DIGIT=3]="DIGIT",V[V.PUNCT=4]="PUNCT",V[V.BINARY=5]="BINARY"})(ot||(ot={}));class Ze{decode(a){this.ddata=a;let c=a.getBits(),h=this.extractBits(c),y=this.correctBits(h),v=Ze.convertBoolArrayToByteArray(y),w=Ze.getEncodedData(y),S=new Te(v,w,null,null);return S.setNumBits(y.length),S}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let c=a.length,h=ot.UPPER,y=ot.UPPER,v="",w=0;for(;w<c;)if(y===ot.BINARY){if(c-w<5)break;let S=Ze.readCode(a,w,5);if(w+=5,S===0){if(c-w<11)break;S=Ze.readCode(a,w,11)+31,w+=11}for(let N=0;N<S;N++){if(c-w<8){w=c;break}const j=Ze.readCode(a,w,8);v+=z.castAsNonUtf8Char(j),w+=8}y=h}else{let S=y===ot.DIGIT?4:5;if(c-w<S)break;let N=Ze.readCode(a,w,S);w+=S;let j=Ze.getCharacter(y,N);j.startsWith("CTRL_")?(h=y,y=Ze.getTable(j.charAt(5)),j.charAt(6)==="L"&&(h=y)):(v+=j,y=h)}return v}static getTable(a){switch(a){case"L":return ot.LOWER;case"P":return ot.PUNCT;case"M":return ot.MIXED;case"D":return ot.DIGIT;case"B":return ot.BINARY;default:return ot.UPPER}}static getCharacter(a,c){switch(a){case ot.UPPER:return Ze.UPPER_TABLE[c];case ot.LOWER:return Ze.LOWER_TABLE[c];case ot.MIXED:return Ze.MIXED_TABLE[c];case ot.PUNCT:return Ze.PUNCT_TABLE[c];case ot.DIGIT:return Ze.DIGIT_TABLE[c];default:throw new Ne("Bad table")}}correctBits(a){let c,h;this.ddata.getNbLayers()<=2?(h=6,c=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,c=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,c=et.AZTEC_DATA_10):(h=12,c=et.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),v=a.length/h;if(v<y)throw new U;let w=a.length%h,S=new Int32Array(v);for(let X=0;X<v;X++,w+=h)S[X]=Ze.readCode(a,w,h);try{new Ke(c).decode(S,v-y)}catch(X){throw new U(X)}let N=(1<<h)-1,j=0;for(let X=0;X<y;X++){let te=S[X];if(te===0||te===N)throw new U;(te===1||te===N-1)&&j++}let $=new Array(y*h-j),q=0;for(let X=0;X<y;X++){let te=S[X];if(te===1||te===N-1)$.fill(te>1,q,q+h-1),q+=h-1;else for(let de=h-1;de>=0;--de)$[q++]=(te&1<<de)!==0}return $}extractBits(a){let c=this.ddata.isCompact(),h=this.ddata.getNbLayers(),y=(c?11:14)+h*4,v=new Int32Array(y),w=new Array(this.totalBitsInLayer(h,c));if(c)for(let S=0;S<v.length;S++)v[S]=S;else{let S=y+1+2*I.truncDivision(I.truncDivision(y,2)-1,15),N=y/2,j=I.truncDivision(S,2);for(let $=0;$<N;$++){let q=$+I.truncDivision($,15);v[N-$-1]=j-q-1,v[N+$]=j+q+1}}for(let S=0,N=0;S<h;S++){let j=(h-S)*4+(c?9:12),$=S*2,q=y-1-$;for(let X=0;X<j;X++){let te=X*2;for(let de=0;de<2;de++)w[N+te+de]=a.get(v[$+de],v[$+X]),w[N+2*j+te+de]=a.get(v[$+X],v[q-de]),w[N+4*j+te+de]=a.get(v[q-de],v[q-X]),w[N+6*j+te+de]=a.get(v[q-X],v[$+de])}N+=j*8}return w}static readCode(a,c,h){let y=0;for(let v=c;v<c+h;v++)y<<=1,a[v]&&(y|=1);return y}static readByte(a,c){let h=a.length-c;return h>=8?Ze.readCode(a,c,8):Ze.readCode(a,c,h)<<8-h}static convertBoolArrayToByteArray(a){let c=new Uint8Array((a.length+7)/8);for(let h=0;h<c.length;h++)c[h]=Ze.readByte(a,8*h);return c}totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}Ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class dt{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,c,h,y){const v=a-h,w=c-y;return Math.sqrt(v*v+w*w)}static sum(a){let c=0;for(let h=0,y=a.length;h!==y;h++){const v=a[h];c+=v}return c}}class Bt{static floatToIntBits(a){return a}}Bt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Fe{constructor(a,c){this.x=a,this.y=c}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof Fe){const c=a;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Bt.floatToIntBits(this.x)+Bt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const c=this.distance(a[0],a[1]),h=this.distance(a[1],a[2]),y=this.distance(a[0],a[2]);let v,w,S;if(h>=c&&h>=y?(w=a[0],v=a[1],S=a[2]):y>=h&&y>=c?(w=a[1],v=a[0],S=a[2]):(w=a[2],v=a[0],S=a[1]),this.crossProductZ(v,w,S)<0){const N=v;v=S,S=N}a[0]=v,a[1]=w,a[2]=S}static distance(a,c){return dt.distance(a.x,a.y,c.x,c.y)}static crossProductZ(a,c,h){const y=c.x,v=c.y;return(h.x-y)*(a.y-v)-(h.y-v)*(a.x-y)}}class le{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class xe extends le{constructor(a,c,h,y,v){super(a,c),this.compact=h,this.nbDatablocks=y,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ae{constructor(a,c,h,y){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),c==null&&(c=Ae.INIT_SIZE),h==null&&(h=a.getWidth()/2|0),y==null&&(y=a.getHeight()/2|0);const v=c/2|0;if(this.leftInit=h-v,this.rightInit=h+v,this.upInit=y-v,this.downInit=y+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let a=this.leftInit,c=this.rightInit,h=this.upInit,y=this.downInit,v=!1,w=!0,S=!1,N=!1,j=!1,$=!1,q=!1;const X=this.width,te=this.height;for(;w;){w=!1;let de=!0;for(;(de||!N)&&c<X;)de=this.containsBlackPoint(h,y,c,!1),de?(c++,w=!0,N=!0):N||c++;if(c>=X){v=!0;break}let he=!0;for(;(he||!j)&&y<te;)he=this.containsBlackPoint(a,c,y,!0),he?(y++,w=!0,j=!0):j||y++;if(y>=te){v=!0;break}let ge=!0;for(;(ge||!$)&&a>=0;)ge=this.containsBlackPoint(h,y,a,!1),ge?(a--,w=!0,$=!0):$||a--;if(a<0){v=!0;break}let _e=!0;for(;(_e||!q)&&h>=0;)_e=this.containsBlackPoint(a,c,h,!0),_e?(h--,w=!0,q=!0):q||h--;if(h<0){v=!0;break}w&&(S=!0)}if(!v&&S){const de=c-a;let he=null;for(let He=1;he===null&&He<de;He++)he=this.getBlackPointOnSegment(a,y-He,a+He,y);if(he==null)throw new Y;let ge=null;for(let He=1;ge===null&&He<de;He++)ge=this.getBlackPointOnSegment(a,h+He,a+He,h);if(ge==null)throw new Y;let _e=null;for(let He=1;_e===null&&He<de;He++)_e=this.getBlackPointOnSegment(c,h+He,c-He,h);if(_e==null)throw new Y;let qe=null;for(let He=1;qe===null&&He<de;He++)qe=this.getBlackPointOnSegment(c,y-He,c-He,y);if(qe==null)throw new Y;return this.centerEdges(qe,he,_e,ge)}else throw new Y}getBlackPointOnSegment(a,c,h,y){const v=dt.round(dt.distance(a,c,h,y)),w=(h-a)/v,S=(y-c)/v,N=this.image;for(let j=0;j<v;j++){const $=dt.round(a+j*w),q=dt.round(c+j*S);if(N.get($,q))return new Fe($,q)}return null}centerEdges(a,c,h,y){const v=a.getX(),w=a.getY(),S=c.getX(),N=c.getY(),j=h.getX(),$=h.getY(),q=y.getX(),X=y.getY(),te=Ae.CORR;return v<this.width/2?[new Fe(q-te,X+te),new Fe(S+te,N+te),new Fe(j-te,$-te),new Fe(v+te,w-te)]:[new Fe(q+te,X+te),new Fe(S+te,N-te),new Fe(j-te,$+te),new Fe(v-te,w-te)]}containsBlackPoint(a,c,h,y){const v=this.image;if(y){for(let w=a;w<=c;w++)if(v.get(w,h))return!0}else for(let w=a;w<=c;w++)if(v.get(h,w))return!0;return!1}}Ae.INIT_SIZE=10,Ae.CORR=1;class tt{static checkAndNudgePoints(a,c){const h=a.getWidth(),y=a.getHeight();let v=!0;for(let w=0;w<c.length&&v;w+=2){const S=Math.floor(c[w]),N=Math.floor(c[w+1]);if(S<-1||S>h||N<-1||N>y)throw new Y;v=!1,S===-1?(c[w]=0,v=!0):S===h&&(c[w]=h-1,v=!0),N===-1?(c[w+1]=0,v=!0):N===y&&(c[w+1]=y-1,v=!0)}v=!0;for(let w=c.length-2;w>=0&&v;w-=2){const S=Math.floor(c[w]),N=Math.floor(c[w+1]);if(S<-1||S>h||N<-1||N>y)throw new Y;v=!1,S===-1?(c[w]=0,v=!0):S===h&&(c[w]=h-1,v=!0),N===-1?(c[w+1]=0,v=!0):N===y&&(c[w+1]=y-1,v=!0)}}}class Ge{constructor(a,c,h,y,v,w,S,N,j){this.a11=a,this.a21=c,this.a31=h,this.a12=y,this.a22=v,this.a32=w,this.a13=S,this.a23=N,this.a33=j}static quadrilateralToQuadrilateral(a,c,h,y,v,w,S,N,j,$,q,X,te,de,he,ge){const _e=Ge.quadrilateralToSquare(a,c,h,y,v,w,S,N);return Ge.squareToQuadrilateral(j,$,q,X,te,de,he,ge).times(_e)}transformPoints(a){const c=a.length,h=this.a11,y=this.a12,v=this.a13,w=this.a21,S=this.a22,N=this.a23,j=this.a31,$=this.a32,q=this.a33;for(let X=0;X<c;X+=2){const te=a[X],de=a[X+1],he=v*te+N*de+q;a[X]=(h*te+w*de+j)/he,a[X+1]=(y*te+S*de+$)/he}}transformPointsWithValues(a,c){const h=this.a11,y=this.a12,v=this.a13,w=this.a21,S=this.a22,N=this.a23,j=this.a31,$=this.a32,q=this.a33,X=a.length;for(let te=0;te<X;te++){const de=a[te],he=c[te],ge=v*de+N*he+q;a[te]=(h*de+w*he+j)/ge,c[te]=(y*de+S*he+$)/ge}}static squareToQuadrilateral(a,c,h,y,v,w,S,N){const j=a-h+v-S,$=c-y+w-N;if(j===0&&$===0)return new Ge(h-a,v-h,a,y-c,w-y,c,0,0,1);{const q=h-v,X=S-v,te=y-w,de=N-w,he=q*de-X*te,ge=(j*de-X*$)/he,_e=(q*$-j*te)/he;return new Ge(h-a+ge*h,S-a+_e*S,a,y-c+ge*y,N-c+_e*N,c,ge,_e,1)}}static quadrilateralToSquare(a,c,h,y,v,w,S,N){return Ge.squareToQuadrilateral(a,c,h,y,v,w,S,N).buildAdjoint()}buildAdjoint(){return new Ge(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Ge(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class We extends tt{sampleGrid(a,c,h,y,v,w,S,N,j,$,q,X,te,de,he,ge,_e,qe,He){const De=Ge.quadrilateralToQuadrilateral(y,v,w,S,N,j,$,q,X,te,de,he,ge,_e,qe,He);return this.sampleGridWithTransform(a,c,h,De)}sampleGridWithTransform(a,c,h,y){if(c<=0||h<=0)throw new Y;const v=new Q(c,h),w=new Float32Array(2*c);for(let S=0;S<h;S++){const N=w.length,j=S+.5;for(let $=0;$<N;$+=2)w[$]=$/2+.5,w[$+1]=j;y.transformPoints(w),tt.checkAndNudgePoints(a,w);try{for(let $=0;$<N;$+=2)a.get(Math.floor(w[$]),Math.floor(w[$+1]))&&v.set($/2,S)}catch{throw new Y}}return v}}class nt{static setGridSampler(a){nt.gridSampler=a}static getInstance(){return nt.gridSampler}}nt.gridSampler=new We;class Nt{constructor(a,c){this.x=a,this.y=c}toResultPoint(){return new Fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Cr{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let c=this.getMatrixCenter(),h=this.getBullsEyeCorners(c);if(a){let w=h[0];h[0]=h[2],h[2]=w}this.extractParameters(h);let y=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),v=this.getMatrixCornerPoints(h);return new xe(y,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new Y;let c=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(a[0],a[1],c),this.sampleLine(a[1],a[2],c),this.sampleLine(a[2],a[3],c),this.sampleLine(a[3],a[0],c)]);this.shift=this.getRotation(h,c);let y=0;for(let w=0;w<4;w++){let S=h[(this.shift+w)%4];this.compact?(y<<=7,y+=S>>1&127):(y<<=10,y+=(S>>2&992)+(S>>1&31))}let v=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(a,c){let h=0;a.forEach((y,v,w)=>{let S=(y>>c-2<<1)+(y&1);h=(h<<3)+S}),h=((h&1)<<11)+(h>>1);for(let y=0;y<4;y++)if(I.bitCount(h^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new Y}getCorrectedParameterData(a,c){let h,y;c?(h=7,y=2):(h=10,y=4);let v=h-y,w=new Int32Array(h);for(let N=h-1;N>=0;--N)w[N]=a&15,a>>=4;try{new Ke(et.AZTEC_PARAM).decode(w,v)}catch{throw new Y}let S=0;for(let N=0;N<y;N++)S=(S<<4)+w[N];return S}getBullsEyeCorners(a){let c=a,h=a,y=a,v=a,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let q=this.getFirstDifferent(c,w,1,-1),X=this.getFirstDifferent(h,w,1,1),te=this.getFirstDifferent(y,w,-1,1),de=this.getFirstDifferent(v,w,-1,-1);if(this.nbCenterLayers>2){let he=this.distancePoint(de,q)*this.nbCenterLayers/(this.distancePoint(v,c)*(this.nbCenterLayers+2));if(he<.75||he>1.25||!this.isWhiteOrBlackRectangle(q,X,te,de))break}c=q,h=X,y=te,v=de,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let S=new Fe(c.getX()+.5,c.getY()-.5),N=new Fe(h.getX()+.5,h.getY()+.5),j=new Fe(y.getX()-.5,y.getY()+.5),$=new Fe(v.getX()-.5,v.getY()-.5);return this.expandSquare([S,N,j,$],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,c,h,y;try{let S=new Ae(this.image).detect();a=S[0],c=S[1],h=S[2],y=S[3]}catch{let N=this.image.getWidth()/2,j=this.image.getHeight()/2;a=this.getFirstDifferent(new Nt(N+7,j-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Nt(N+7,j+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Nt(N-7,j+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Nt(N-7,j-7),!1,-1,-1).toResultPoint()}let v=dt.round((a.getX()+y.getX()+c.getX()+h.getX())/4),w=dt.round((a.getY()+y.getY()+c.getY()+h.getY())/4);try{let S=new Ae(this.image,15,v,w).detect();a=S[0],c=S[1],h=S[2],y=S[3]}catch{a=this.getFirstDifferent(new Nt(v+7,w-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Nt(v+7,w+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Nt(v-7,w+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Nt(v-7,w-7),!1,-1,-1).toResultPoint()}return v=dt.round((a.getX()+y.getX()+c.getX()+h.getX())/4),w=dt.round((a.getY()+y.getY()+c.getY()+h.getY())/4),new Nt(v,w)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,c,h,y,v){let w=nt.getInstance(),S=this.getDimension(),N=S/2-this.nbCenterLayers,j=S/2+this.nbCenterLayers;return w.sampleGrid(a,S,S,N,N,j,N,j,j,N,j,c.getX(),c.getY(),h.getX(),h.getY(),y.getX(),y.getY(),v.getX(),v.getY())}sampleLine(a,c,h){let y=0,v=this.distanceResultPoint(a,c),w=v/h,S=a.getX(),N=a.getY(),j=w*(c.getX()-a.getX())/v,$=w*(c.getY()-a.getY())/v;for(let q=0;q<h;q++)this.image.get(dt.round(S+q*j),dt.round(N+q*$))&&(y|=1<<h-q-1);return y}isWhiteOrBlackRectangle(a,c,h,y){let v=3;a=new Nt(a.getX()-v,a.getY()+v),c=new Nt(c.getX()-v,c.getY()-v),h=new Nt(h.getX()+v,h.getY()-v),y=new Nt(y.getX()+v,y.getY()+v);let w=this.getColor(y,a);if(w===0)return!1;let S=this.getColor(a,c);return S!==w||(S=this.getColor(c,h),S!==w)?!1:(S=this.getColor(h,y),S===w)}getColor(a,c){let h=this.distancePoint(a,c),y=(c.getX()-a.getX())/h,v=(c.getY()-a.getY())/h,w=0,S=a.getX(),N=a.getY(),j=this.image.get(a.getX(),a.getY()),$=Math.ceil(h);for(let X=0;X<$;X++)S+=y,N+=v,this.image.get(dt.round(S),dt.round(N))!==j&&w++;let q=w/h;return q>.1&&q<.9?0:q<=.1===j?1:-1}getFirstDifferent(a,c,h,y){let v=a.getX()+h,w=a.getY()+y;for(;this.isValid(v,w)&&this.image.get(v,w)===c;)v+=h,w+=y;for(v-=h,w-=y;this.isValid(v,w)&&this.image.get(v,w)===c;)v+=h;for(v-=h;this.isValid(v,w)&&this.image.get(v,w)===c;)w+=y;return w-=y,new Nt(v,w)}expandSquare(a,c,h){let y=h/(2*c),v=a[0].getX()-a[2].getX(),w=a[0].getY()-a[2].getY(),S=(a[0].getX()+a[2].getX())/2,N=(a[0].getY()+a[2].getY())/2,j=new Fe(S+y*v,N+y*w),$=new Fe(S-y*v,N-y*w);v=a[1].getX()-a[3].getX(),w=a[1].getY()-a[3].getY(),S=(a[1].getX()+a[3].getX())/2,N=(a[1].getY()+a[3].getY())/2;let q=new Fe(S+y*v,N+y*w),X=new Fe(S-y*v,N-y*w);return[j,q,$,X]}isValid(a,c){return a>=0&&a<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(a){let c=dt.round(a.getX()),h=dt.round(a.getY());return this.isValid(c,h)}distancePoint(a,c){return dt.distance(a.getX(),a.getY(),c.getX(),c.getY())}distanceResultPoint(a,c){return dt.distance(a.getX(),a.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class kr{decode(a,c=null){let h=null,y=new Cr(a.getBlackMatrix()),v=null,w=null;try{let $=y.detectMirror(!1);v=$.getPoints(),this.reportFoundResultPoints(c,v),w=new Ze().decode($)}catch($){h=$}if(w==null)try{let $=y.detectMirror(!0);v=$.getPoints(),this.reportFoundResultPoints(c,v),w=new Ze().decode($)}catch($){throw h??$}let S=new Pe(w.getText(),w.getRawBytes(),w.getNumBits(),v,Ie.AZTEC,E.currentTimeMillis()),N=w.getByteSegments();N!=null&&S.putMetadata(Be.BYTE_SEGMENTS,N);let j=w.getECLevel();return j!=null&&S.putMetadata(Be.ERROR_CORRECTION_LEVEL,j),S}reportFoundResultPoints(a,c){if(a!=null){let h=a.get(F.NEED_RESULT_POINT_CALLBACK);h!=null&&c.forEach((y,v,w)=>{h.foundPossibleResultPoint(y)})}}reset(){}}class eh extends be{constructor(a=500){super(new kr,a)}}class Mr{decode(a,c){try{return this.doDecode(a,c)}catch{if(c&&c.get(F.TRY_HARDER)===!0&&a.isRotateSupported()){const v=a.rotateCounterClockwise(),w=this.doDecode(v,c),S=w.getResultMetadata();let N=270;S!==null&&S.get(Be.ORIENTATION)===!0&&(N=N+S.get(Be.ORIENTATION)%360),w.putMetadata(Be.ORIENTATION,N);const j=w.getResultPoints();if(j!==null){const $=v.getHeight();for(let q=0;q<j.length;q++)j[q]=new Fe($-j[q].getY()-1,j[q].getX())}return w}else throw new Y}}reset(){}doDecode(a,c){const h=a.getWidth(),y=a.getHeight();let v=new D(h);const w=c&&c.get(F.TRY_HARDER)===!0,S=Math.max(1,y>>(w?8:5));let N;w?N=y:N=15;const j=Math.trunc(y/2);for(let $=0;$<N;$++){const q=Math.trunc(($+1)/2),X=($&1)===0,te=j+S*(X?q:-q);if(te<0||te>=y)break;try{v=a.getBlackRow(te,v)}catch{continue}for(let de=0;de<2;de++){if(de===1&&(v.reverse(),c&&c.get(F.NEED_RESULT_POINT_CALLBACK)===!0)){const he=new Map;c.forEach((ge,_e)=>he.set(_e,ge)),he.delete(F.NEED_RESULT_POINT_CALLBACK),c=he}try{const he=this.decodeRow(te,v,c);if(de===1){he.putMetadata(Be.ORIENTATION,180);const ge=he.getResultPoints();ge!==null&&(ge[0]=new Fe(h-ge[0].getX()-1,ge[0].getY()),ge[1]=new Fe(h-ge[1].getX()-1,ge[1].getY()))}return he}catch{}}}throw new Y}static recordPattern(a,c,h){const y=h.length;for(let j=0;j<y;j++)h[j]=0;const v=a.getSize();if(c>=v)throw new Y;let w=!a.get(c),S=0,N=c;for(;N<v;){if(a.get(N)!==w)h[S]++;else{if(++S===y)break;h[S]=1,w=!w}N++}if(!(S===y||S===y-1&&N===v))throw new Y}static recordPatternInReverse(a,c,h){let y=h.length,v=a.get(c);for(;c>0&&y>=0;)a.get(--c)!==v&&(y--,v=!v);if(y>=0)throw new Y;Mr.recordPattern(a,c+1,h)}static patternMatchVariance(a,c,h){const y=a.length;let v=0,w=0;for(let j=0;j<y;j++)v+=a[j],w+=c[j];if(v<w)return Number.POSITIVE_INFINITY;const S=v/w;h*=S;let N=0;for(let j=0;j<y;j++){const $=a[j],q=c[j]*S,X=$>q?$-q:q-$;if(X>h)return Number.POSITIVE_INFINITY;N+=X}return N/v}}class Ye extends Mr{static findStartPattern(a){const c=a.getSize(),h=a.getNextSet(0);let y=0,v=Int32Array.from([0,0,0,0,0,0]),w=h,S=!1;const N=6;for(let j=h;j<c;j++)if(a.get(j)!==S)v[y]++;else{if(y===N-1){let $=Ye.MAX_AVG_VARIANCE,q=-1;for(let X=Ye.CODE_START_A;X<=Ye.CODE_START_C;X++){const te=Mr.patternMatchVariance(v,Ye.CODE_PATTERNS[X],Ye.MAX_INDIVIDUAL_VARIANCE);te<$&&($=te,q=X)}if(q>=0&&a.isRange(Math.max(0,w-(j-w)/2),w,!1))return Int32Array.from([w,j,q]);w+=v[0]+v[1],v=v.slice(2,v.length-1),v[y-1]=0,v[y]=0,y--}else y++;v[y]=1,S=!S}throw new Y}static decodeCode(a,c,h){Mr.recordPattern(a,h,c);let y=Ye.MAX_AVG_VARIANCE,v=-1;for(let w=0;w<Ye.CODE_PATTERNS.length;w++){const S=Ye.CODE_PATTERNS[w],N=this.patternMatchVariance(c,S,Ye.MAX_INDIVIDUAL_VARIANCE);N<y&&(y=N,v=w)}if(v>=0)return v;throw new Y}decodeRow(a,c,h){const y=h&&h.get(F.ASSUME_GS1)===!0,v=Ye.findStartPattern(c),w=v[2];let S=0;const N=new Uint8Array(20);N[S++]=w;let j;switch(w){case Ye.CODE_START_A:j=Ye.CODE_CODE_A;break;case Ye.CODE_START_B:j=Ye.CODE_CODE_B;break;case Ye.CODE_START_C:j=Ye.CODE_CODE_C;break;default:throw new U}let $=!1,q=!1,X="",te=v[0],de=v[1];const he=Int32Array.from([0,0,0,0,0,0]);let ge=0,_e=0,qe=w,He=0,De=!0,tr=!1,Vt=!1;for(;!$;){const ua=q;switch(q=!1,ge=_e,_e=Ye.decodeCode(c,he,de),N[S++]=_e,_e!==Ye.CODE_STOP&&(De=!0),_e!==Ye.CODE_STOP&&(He++,qe+=He*_e),te=de,de+=he.reduce((gl,bh)=>gl+bh,0),_e){case Ye.CODE_START_A:case Ye.CODE_START_B:case Ye.CODE_START_C:throw new U}switch(j){case Ye.CODE_CODE_A:if(_e<64)Vt===tr?X+=String.fromCharCode(32+_e):X+=String.fromCharCode(32+_e+128),Vt=!1;else if(_e<96)Vt===tr?X+=String.fromCharCode(_e-64):X+=String.fromCharCode(_e+64),Vt=!1;else switch(_e!==Ye.CODE_STOP&&(De=!1),_e){case Ye.CODE_FNC_1:y&&(X.length===0?X+="]C1":X+="");break;case Ye.CODE_FNC_2:case Ye.CODE_FNC_3:break;case Ye.CODE_FNC_4_A:!tr&&Vt?(tr=!0,Vt=!1):tr&&Vt?(tr=!1,Vt=!1):Vt=!0;break;case Ye.CODE_SHIFT:q=!0,j=Ye.CODE_CODE_B;break;case Ye.CODE_CODE_B:j=Ye.CODE_CODE_B;break;case Ye.CODE_CODE_C:j=Ye.CODE_CODE_C;break;case Ye.CODE_STOP:$=!0;break}break;case Ye.CODE_CODE_B:if(_e<96)Vt===tr?X+=String.fromCharCode(32+_e):X+=String.fromCharCode(32+_e+128),Vt=!1;else switch(_e!==Ye.CODE_STOP&&(De=!1),_e){case Ye.CODE_FNC_1:y&&(X.length===0?X+="]C1":X+="");break;case Ye.CODE_FNC_2:case Ye.CODE_FNC_3:break;case Ye.CODE_FNC_4_B:!tr&&Vt?(tr=!0,Vt=!1):tr&&Vt?(tr=!1,Vt=!1):Vt=!0;break;case Ye.CODE_SHIFT:q=!0,j=Ye.CODE_CODE_A;break;case Ye.CODE_CODE_A:j=Ye.CODE_CODE_A;break;case Ye.CODE_CODE_C:j=Ye.CODE_CODE_C;break;case Ye.CODE_STOP:$=!0;break}break;case Ye.CODE_CODE_C:if(_e<100)_e<10&&(X+="0"),X+=_e;else switch(_e!==Ye.CODE_STOP&&(De=!1),_e){case Ye.CODE_FNC_1:y&&(X.length===0?X+="]C1":X+="");break;case Ye.CODE_CODE_A:j=Ye.CODE_CODE_A;break;case Ye.CODE_CODE_B:j=Ye.CODE_CODE_B;break;case Ye.CODE_STOP:$=!0;break}break}ua&&(j=j===Ye.CODE_CODE_A?Ye.CODE_CODE_B:Ye.CODE_CODE_A)}const Ri=de-te;if(de=c.getNextUnset(de),!c.isRange(de,Math.min(c.getSize(),de+(de-te)/2),!1))throw new Y;if(qe-=He*ge,qe%103!==ge)throw new T;const vs=X.length;if(vs===0)throw new Y;vs>0&&De&&(j===Ye.CODE_CODE_C?X=X.substring(0,vs-2):X=X.substring(0,vs-1));const On=(v[1]+v[0])/2,xr=te+Ri/2,un=N.length,xi=new Uint8Array(un);for(let ua=0;ua<un;ua++)xi[ua]=N[ua];const xo=[new Fe(On,a),new Fe(xr,a)];return new Pe(X,xi,0,xo,Ie.CODE_128,new Date().getTime())}}Ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ye.MAX_AVG_VARIANCE=.25,Ye.MAX_INDIVIDUAL_VARIANCE=.7,Ye.CODE_SHIFT=98,Ye.CODE_CODE_C=99,Ye.CODE_CODE_B=100,Ye.CODE_CODE_A=101,Ye.CODE_FNC_1=102,Ye.CODE_FNC_2=97,Ye.CODE_FNC_3=96,Ye.CODE_FNC_4_A=101,Ye.CODE_FNC_4_B=100,Ye.CODE_START_A=103,Ye.CODE_START_B=104,Ye.CODE_START_C=105,Ye.CODE_STOP=106;class cn extends Mr{constructor(a=!1,c=!1){super(),this.usingCheckDigit=a,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,c,h){let y=this.counters;y.fill(0),this.decodeRowResult="";let v=cn.findAsteriskPattern(c,y),w=c.getNextSet(v[1]),S=c.getSize(),N,j;do{cn.recordPattern(c,w,y);let he=cn.toNarrowWidePattern(y);if(he<0)throw new Y;N=cn.patternToChar(he),this.decodeRowResult+=N,j=w;for(let ge of y)w+=ge;w=c.getNextSet(w)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let $=0;for(let he of y)$+=he;let q=w-j-$;if(w!==S&&q*2<$)throw new Y;if(this.usingCheckDigit){let he=this.decodeRowResult.length-1,ge=0;for(let _e=0;_e<he;_e++)ge+=cn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_e));if(this.decodeRowResult.charAt(he)!==cn.ALPHABET_STRING.charAt(ge%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,he)}if(this.decodeRowResult.length===0)throw new Y;let X;this.extendedMode?X=cn.decodeExtended(this.decodeRowResult):X=this.decodeRowResult;let te=(v[1]+v[0])/2,de=j+$/2;return new Pe(X,null,0,[new Fe(te,a),new Fe(de,a)],Ie.CODE_39,new Date().getTime())}static findAsteriskPattern(a,c){let h=a.getSize(),y=a.getNextSet(0),v=0,w=y,S=!1,N=c.length;for(let j=y;j<h;j++)if(a.get(j)!==S)c[v]++;else{if(v===N-1){if(this.toNarrowWidePattern(c)===cn.ASTERISK_ENCODING&&a.isRange(Math.max(0,w-Math.floor((j-w)/2)),w,!1))return[w,j];w+=c[0]+c[1],c.copyWithin(0,2,2+v-1),c[v-1]=0,c[v]=0,v--}else v++;c[v]=1,S=!S}throw new Y}static toNarrowWidePattern(a){let c=a.length,h=0,y;do{let v=2147483647;for(let N of a)N<v&&N>h&&(v=N);h=v,y=0;let w=0,S=0;for(let N=0;N<c;N++){let j=a[N];j>h&&(S|=1<<c-1-N,y++,w+=j)}if(y===3){for(let N=0;N<c&&y>0;N++){let j=a[N];if(j>h&&(y--,j*2>=w))return-1}return S}}while(y>3);return-1}static patternToChar(a){for(let c=0;c<cn.CHARACTER_ENCODINGS.length;c++)if(cn.CHARACTER_ENCODINGS[c]===a)return cn.ALPHABET_STRING.charAt(c);if(a===cn.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(a){let c=a.length,h="";for(let y=0;y<c;y++){let v=a.charAt(y);if(v==="+"||v==="$"||v==="%"||v==="/"){let w=a.charAt(y+1),S="\0";switch(v){case"+":if(w>="A"&&w<="Z")S=String.fromCharCode(w.charCodeAt(0)+32);else throw new U;break;case"$":if(w>="A"&&w<="Z")S=String.fromCharCode(w.charCodeAt(0)-64);else throw new U;break;case"%":if(w>="A"&&w<="E")S=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")S=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")S=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")S=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")S="\0";else if(w==="V")S="@";else if(w==="W")S="`";else if(w==="X"||w==="Y"||w==="Z")S="";else throw new U;break;case"/":if(w>="A"&&w<="O")S=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")S=":";else throw new U;break}h+=S,y++}else h+=v}return h}}cn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",cn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],cn.ASTERISK_ENCODING=148;class dr extends Mr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,c,h){let y=this.decodeStart(c),v=this.decodeEnd(c),w=new Z;dr.decodeMiddle(c,y[1],v[0],w);let S=w.toString(),N=null;h!=null&&(N=h.get(F.ALLOWED_LENGTHS)),N==null&&(N=dr.DEFAULT_ALLOWED_LENGTHS);let j=S.length,$=!1,q=0;for(let de of N){if(j===de){$=!0;break}de>q&&(q=de)}if(!$&&j>q&&($=!0),!$)throw new U;const X=[new Fe(y[1],a),new Fe(v[0],a)];return new Pe(S,null,0,X,Ie.ITF,new Date().getTime())}static decodeMiddle(a,c,h,y){let v=new Int32Array(10),w=new Int32Array(5),S=new Int32Array(5);for(v.fill(0),w.fill(0),S.fill(0);c<h;){Mr.recordPattern(a,c,v);for(let j=0;j<5;j++){let $=2*j;w[j]=v[$],S[j]=v[$+1]}let N=dr.decodeDigit(w);y.append(N.toString()),N=this.decodeDigit(S),y.append(N.toString()),v.forEach(function(j){c+=j})}}decodeStart(a){let c=dr.skipWhiteSpace(a),h=dr.findGuardPattern(a,c,dr.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(a,h[0]),h}validateQuietZone(a,c){let h=this.narrowLineWidth*10;h=h<c?h:c;for(let y=c-1;h>0&&y>=0&&!a.get(y);y--)h--;if(h!==0)throw new Y}static skipWhiteSpace(a){const c=a.getSize(),h=a.getNextSet(0);if(h===c)throw new Y;return h}decodeEnd(a){a.reverse();try{let c=dr.skipWhiteSpace(a),h;try{h=dr.findGuardPattern(a,c,dr.END_PATTERN_REVERSED[0])}catch(v){v instanceof Y&&(h=dr.findGuardPattern(a,c,dr.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,h[0]);let y=h[0];return h[0]=a.getSize()-h[1],h[1]=a.getSize()-y,h}finally{a.reverse()}}static findGuardPattern(a,c,h){let y=h.length,v=new Int32Array(y),w=a.getSize(),S=!1,N=0,j=c;v.fill(0);for(let $=c;$<w;$++)if(a.get($)!==S)v[N]++;else{if(N===y-1){if(Mr.patternMatchVariance(v,h,dr.MAX_INDIVIDUAL_VARIANCE)<dr.MAX_AVG_VARIANCE)return[j,$];j+=v[0]+v[1],E.arraycopy(v,2,v,0,N-1),v[N-1]=0,v[N]=0,N--}else N++;v[N]=1,S=!S}throw new Y}static decodeDigit(a){let c=dr.MAX_AVG_VARIANCE,h=-1,y=dr.PATTERNS.length;for(let v=0;v<y;v++){let w=dr.PATTERNS[v],S=Mr.patternMatchVariance(a,w,dr.MAX_INDIVIDUAL_VARIANCE);S<c?(c=S,h=v):S===c&&(h=-1)}if(h>=0)return h%10;throw new Y}}dr.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],dr.MAX_AVG_VARIANCE=.38,dr.MAX_INDIVIDUAL_VARIANCE=.5,dr.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],dr.START_PATTERN=Int32Array.from([1,1,1,1]),dr.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ir extends Mr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let c=!1,h,y=0,v=Int32Array.from([0,0,0]);for(;!c;){v=Int32Array.from([0,0,0]),h=Ir.findGuardPattern(a,y,!1,this.START_END_PATTERN,v);let w=h[0];y=h[1];let S=w-(y-w);S>=0&&(c=a.isRange(S,w,!1))}return h}static checkChecksum(a){return Ir.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let h=parseInt(a.charAt(c-1),10);return Ir.getStandardUPCEANChecksum(a.substring(0,c-1))===h}static getStandardUPCEANChecksum(a){let c=a.length,h=0;for(let y=c-1;y>=0;y-=2){let v=a.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new U;h+=v}h*=3;for(let y=c-2;y>=0;y-=2){let v=a.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new U;h+=v}return(1e3-h)%10}static decodeEnd(a,c){return Ir.findGuardPattern(a,c,!1,Ir.START_END_PATTERN,new Int32Array(Ir.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,c,h,y){return this.findGuardPattern(a,c,h,y,new Int32Array(y.length))}static findGuardPattern(a,c,h,y,v){let w=a.getSize();c=h?a.getNextUnset(c):a.getNextSet(c);let S=0,N=c,j=y.length,$=h;for(let q=c;q<w;q++)if(a.get(q)!==$)v[S]++;else{if(S===j-1){if(Mr.patternMatchVariance(v,y,Ir.MAX_INDIVIDUAL_VARIANCE)<Ir.MAX_AVG_VARIANCE)return Int32Array.from([N,q]);N+=v[0]+v[1];let X=v.slice(2,v.length-1);for(let te=0;te<S-1;te++)v[te]=X[te];v[S-1]=0,v[S]=0,S--}else S++;v[S]=1,$=!$}throw new Y}static decodeDigit(a,c,h,y){this.recordPattern(a,h,c);let v=this.MAX_AVG_VARIANCE,w=-1,S=y.length;for(let N=0;N<S;N++){let j=y[N],$=Mr.patternMatchVariance(c,j,Ir.MAX_INDIVIDUAL_VARIANCE);$<v&&(v=$,w=N)}if(w>=0)return w;throw new Y}}Ir.MAX_AVG_VARIANCE=.48,Ir.MAX_INDIVIDUAL_VARIANCE=.7,Ir.START_END_PATTERN=Int32Array.from([1,1,1]),Ir.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ir.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ir.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Bs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,h){let y=this.decodeRowStringBuffer,v=this.decodeMiddle(c,h,y),w=y.toString(),S=Bs.parseExtensionString(w),N=[new Fe((h[0]+h[1])/2,a),new Fe(v,a)],j=new Pe(w,null,0,N,Ie.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&j.putAllMetadata(S),j}decodeMiddle(a,c,h){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w=c[1],S=0;for(let j=0;j<5&&w<v;j++){let $=Ir.decodeDigit(a,y,w,Ir.L_AND_G_PATTERNS);h+=String.fromCharCode(48+$%10);for(let q of y)w+=q;$>=10&&(S|=1<<4-j),j!==4&&(w=a.getNextSet(w),w=a.getNextUnset(w))}if(h.length!==5)throw new Y;let N=this.determineCheckDigit(S);if(Bs.extensionChecksum(h.toString())!==N)throw new Y;return w}static extensionChecksum(a){let c=a.length,h=0;for(let y=c-2;y>=0;y-=2)h+=a.charAt(y).charCodeAt(0)-48;h*=3;for(let y=c-1;y>=0;y-=2)h+=a.charAt(y).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(a){for(let c=0;c<10;c++)if(a===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new Y}static parseExtensionString(a){if(a.length!==5)return null;let c=Bs.parseExtension5String(a);return c==null?null:new Map([[Be.SUGGESTED_PRICE,c]])}static parseExtension5String(a){let c;switch(a.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let h=parseInt(a.substring(1)),y=(h/100).toString(),v=h%100,w=v<10?"0"+v:v.toString();return c+y+"."+w}}class cc{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,h){let y=this.decodeRowStringBuffer,v=this.decodeMiddle(c,h,y),w=y.toString(),S=cc.parseExtensionString(w),N=[new Fe((h[0]+h[1])/2,a),new Fe(v,a)],j=new Pe(w,null,0,N,Ie.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&j.putAllMetadata(S),j}decodeMiddle(a,c,h){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w=c[1],S=0;for(let N=0;N<2&&w<v;N++){let j=Ir.decodeDigit(a,y,w,Ir.L_AND_G_PATTERNS);h+=String.fromCharCode(48+j%10);for(let $ of y)w+=$;j>=10&&(S|=1<<1-N),N!==1&&(w=a.getNextSet(w),w=a.getNextUnset(w))}if(h.length!==2)throw new Y;if(parseInt(h.toString())%4!==S)throw new Y;return w}static parseExtensionString(a){return a.length!==2?null:new Map([[Be.ISSUE_NUMBER,parseInt(a)]])}}class Pu{static decodeRow(a,c,h){let y=Ir.findGuardPattern(c,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Bs().decodeRow(a,c,y)}catch{return new cc().decodeRow(a,c,y)}}}Pu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class rr extends Ir{constructor(){super(),this.decodeRowStringBuffer="",rr.L_AND_G_PATTERNS=rr.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let c=rr.L_PATTERNS[a-10],h=new Int32Array(c.length);for(let y=0;y<c.length;y++)h[y]=c[c.length-y-1];rr.L_AND_G_PATTERNS[a]=h}}decodeRow(a,c,h){let y=rr.findStartGuardPattern(c),v=h==null?null:h.get(F.NEED_RESULT_POINT_CALLBACK);if(v!=null){const De=new Fe((y[0]+y[1])/2,a);v.foundPossibleResultPoint(De)}let w=this.decodeMiddle(c,y,this.decodeRowStringBuffer),S=w.rowOffset,N=w.resultString;if(v!=null){const De=new Fe(S,a);v.foundPossibleResultPoint(De)}let j=this.decodeEnd(c,S);if(v!=null){const De=new Fe((j[0]+j[1])/2,a);v.foundPossibleResultPoint(De)}let $=j[1],q=$+($-j[0]);if(q>=c.getSize()||!c.isRange($,q,!1))throw new Y;let X=N.toString();if(X.length<8)throw new U;if(!rr.checkChecksum(X))throw new T;let te=(y[1]+y[0])/2,de=(j[1]+j[0])/2,he=this.getBarcodeFormat(),ge=[new Fe(te,a),new Fe(de,a)],_e=new Pe(X,null,0,ge,he,new Date().getTime()),qe=0;try{let De=Pu.decodeRow(a,c,j[1]);_e.putMetadata(Be.UPC_EAN_EXTENSION,De.getText()),_e.putAllMetadata(De.getResultMetadata()),_e.addResultPoints(De.getResultPoints()),qe=De.getText().length}catch{}let He=h==null?null:h.get(F.ALLOWED_EAN_EXTENSIONS);if(He!=null){let De=!1;for(let tr in He)if(qe.toString()===tr){De=!0;break}if(!De)throw new Y}return _e}decodeEnd(a,c){return rr.findGuardPattern(a,c,!1,rr.START_END_PATTERN,new Int32Array(rr.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return rr.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let h=parseInt(a.charAt(c-1),10);return rr.getStandardUPCEANChecksum(a.substring(0,c-1))===h}static getStandardUPCEANChecksum(a){let c=a.length,h=0;for(let y=c-1;y>=0;y-=2){let v=a.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new U;h+=v}h*=3;for(let y=c-2;y>=0;y-=2){let v=a.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new U;h+=v}return(1e3-h)%10}}class es extends rr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,h){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w=c[1],S=0;for(let j=0;j<6&&w<v;j++){let $=rr.decodeDigit(a,y,w,rr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+$%10);for(let q of y)w+=q;$>=10&&(S|=1<<5-j)}h=es.determineFirstDigit(h,S),w=rr.findGuardPattern(a,w,!0,rr.MIDDLE_PATTERN,new Int32Array(rr.MIDDLE_PATTERN.length).fill(0))[1];for(let j=0;j<6&&w<v;j++){let $=rr.decodeDigit(a,y,w,rr.L_PATTERNS);h+=String.fromCharCode(48+$);for(let q of y)w+=q}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Ie.EAN_13}static determineFirstDigit(a,c){for(let h=0;h<10;h++)if(c===this.FIRST_DIGIT_ENCODINGS[h])return a=String.fromCharCode(48+h)+a,a;throw new Y}}es.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class th extends rr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,h){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w=c[1];for(let N=0;N<4&&w<v;N++){let j=rr.decodeDigit(a,y,w,rr.L_PATTERNS);h+=String.fromCharCode(48+j);for(let $ of y)w+=$}w=rr.findGuardPattern(a,w,!0,rr.MIDDLE_PATTERN,new Int32Array(rr.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&w<v;N++){let j=rr.decodeDigit(a,y,w,rr.L_PATTERNS);h+=String.fromCharCode(48+j);for(let $ of y)w+=$}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Ie.EAN_8}}class rh extends rr{constructor(){super(...arguments),this.ean13Reader=new es}getBarcodeFormat(){return Ie.UPC_A}decode(a,c){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,c,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,c,h))}decodeMiddle(a,c,h){return this.ean13Reader.decodeMiddle(a,c,h)}maybeReturnResult(a){let c=a.getText();if(c.charAt(0)==="0"){let h=new Pe(c.substring(1),null,null,a.getResultPoints(),Ie.UPC_A);return a.getResultMetadata()!=null&&h.putAllMetadata(a.getResultMetadata()),h}else throw new Y}reset(){this.ean13Reader.reset()}}class ts extends rr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,c,h){const y=this.decodeMiddleCounters.map(j=>j);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const v=a.getSize();let w=c[1],S=0;for(let j=0;j<6&&w<v;j++){const $=ts.decodeDigit(a,y,w,ts.L_AND_G_PATTERNS);h+=String.fromCharCode(48+$%10);for(let q of y)w+=q;$>=10&&(S|=1<<5-j)}let N=ts.determineNumSysAndCheckDigit(h,S);return{rowOffset:w,resultString:N}}decodeEnd(a,c){return ts.findGuardPatternWithoutCounters(a,c,!0,ts.MIDDLE_END_PATTERN)}checkChecksum(a){return rr.checkChecksum(ts.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,c){for(let h=0;h<=1;h++)for(let y=0;y<10;y++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][y]){let v=String.fromCharCode(48+h),w=String.fromCharCode(48+y);return v+a+w}throw Y.getNotFoundInstance()}getBarcodeFormat(){return Ie.UPC_E}static convertUPCEtoUPCA(a){const c=a.slice(1,7).split("").map(v=>v.charCodeAt(0)),h=new Z;h.append(a.charAt(0));let y=c[5];switch(y){case 0:case 1:case 2:h.appendChars(c,0,2),h.append(y),h.append("0000"),h.appendChars(c,2,3);break;case 3:h.appendChars(c,0,3),h.append("00000"),h.appendChars(c,3,2);break;case 4:h.appendChars(c,0,4),h.append("00000"),h.append(c[4]);break;default:h.appendChars(c,0,5),h.append("0000"),h.append(y);break}return a.length>=8&&h.append(a.charAt(7)),h.toString()}}ts.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ts.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ru extends Mr{constructor(a){super();let c=a==null?null:a.get(F.POSSIBLE_FORMATS),h=[];n(c)?(h.push(new es),h.push(new rh),h.push(new th),h.push(new ts)):(c.indexOf(Ie.EAN_13)>-1&&h.push(new es),c.indexOf(Ie.UPC_A)>-1&&h.push(new rh),c.indexOf(Ie.EAN_8)>-1&&h.push(new th),c.indexOf(Ie.UPC_E)>-1&&h.push(new ts)),this.readers=h}decodeRow(a,c,h){for(let y of this.readers)try{const v=y.decodeRow(a,c,h),w=v.getBarcodeFormat()===Ie.EAN_13&&v.getText().charAt(0)==="0",S=h==null?null:h.get(F.POSSIBLE_FORMATS),N=S==null||S.includes(Ie.UPC_A);if(w&&N){const j=v.getRawBytes(),$=new Pe(v.getText().substring(1),j,j?j.length:null,v.getResultPoints(),Ie.UPC_A);return $.putAllMetadata(v.getResultMetadata()),$}return v}catch{}throw new Y}reset(){for(let a of this.readers)a.reset()}}class $n extends Mr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,c){for(let h=0;h<c.length;h++)if(Mr.patternMatchVariance(a,c[h],$n.MAX_INDIVIDUAL_VARIANCE)<$n.MAX_AVG_VARIANCE)return h;throw new Y}static count(a){return dt.sum(new Int32Array(a))}static increment(a,c){let h=0,y=c[0];for(let v=1;v<a.length;v++)c[v]>y&&(y=c[v],h=v);a[h]++}static decrement(a,c){let h=0,y=c[0];for(let v=1;v<a.length;v++)c[v]<y&&(y=c[v],h=v);a[h]--}static isFinderPattern(a){let c=a[0]+a[1],h=c+a[2]+a[3],y=c/h;if(y>=$n.MIN_FINDER_PATTERN_RATIO&&y<=$n.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let S of a)S>w&&(w=S),S<v&&(v=S);return w<10*v}return!1}}$n.MAX_AVG_VARIANCE=.2,$n.MAX_INDIVIDUAL_VARIANCE=.45,$n.MIN_FINDER_PATTERN_RATIO=9.5/12,$n.MAX_FINDER_PATTERN_RATIO=12.5/14;class $a{constructor(a,c){this.value=a,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof $a))return!1;const c=a;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class uc{constructor(a,c,h,y,v){this.value=a,this.startEnd=c,this.value=a,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new Fe(h,v)),this.resultPoints.push(new Fe(y,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof uc))return!1;const c=a;return this.value===c.value}hashCode(){return this.value}}class Ni{constructor(){}static getRSSvalue(a,c,h){let y=0;for(let N of a)y+=N;let v=0,w=0,S=a.length;for(let N=0;N<S-1;N++){let j;for(j=1,w|=1<<N;j<a[N];j++,w&=~(1<<N)){let $=Ni.combins(y-j-1,S-N-2);if(h&&w===0&&y-j-(S-N-1)>=S-N-1&&($-=Ni.combins(y-j-(S-N),S-N-2)),S-N-1>1){let q=0;for(let X=y-j-(S-N-2);X>c;X--)q+=Ni.combins(y-j-X-1,S-N-3);$-=q*(S-1-N)}else y-j>c&&$--;v+=$}y-=j}return v}static combins(a,c){let h,y;a-c>c?(y=c,h=a-c):(y=a-c,h=c);let v=1,w=1;for(let S=a;S>h;S--)v*=S,w<=y&&(v/=w,w++);for(;w<=y;)v/=w,w++;return v}}class nh{static buildBitArray(a){let c=a.length*2-1;a[a.length-1].getRightChar()==null&&(c-=1);let h=12*c,y=new D(h),v=0,S=a[0].getRightChar().getValue();for(let N=11;N>=0;--N)(S&1<<N)!=0&&y.set(v),v++;for(let N=1;N<a.length;++N){let j=a[N],$=j.getLeftChar().getValue();for(let q=11;q>=0;--q)($&1<<q)!=0&&y.set(v),v++;if(j.getRightChar()!=null){let q=j.getRightChar().getValue();for(let X=11;X>=0;--X)(q&1<<X)!=0&&y.set(v),v++}}return y}}class fs{constructor(a,c){c?this.decodedInformation=null:(this.finished=a,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ih{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class kn extends ih{constructor(a,c){super(a),this.value=c}getValue(){return this.value}isFNC1(){return this.value===kn.FNC1}}kn.FNC1="$";class Fs extends ih{constructor(a,c,h){super(a),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class gi extends ih{constructor(a,c,h){if(super(a),c<0||c>10||h<0||h>10)throw new U;this.firstDigit=c,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===gi.FNC1}isSecondDigitFNC1(){return this.secondDigit===gi.FNC1}isAnyFNC1(){return this.firstDigit===gi.FNC1||this.secondDigit===gi.FNC1}}gi.FNC1=10;class lt{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new Y;let c=a.substring(0,2);for(let v of lt.TWO_DIGIT_DATA_LENGTH)if(v[0]===c)return v[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(2,v[2],a):lt.processFixedAI(2,v[1],a);if(a.length<3)throw new Y;let h=a.substring(0,3);for(let v of lt.THREE_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(3,v[2],a):lt.processFixedAI(3,v[1],a);for(let v of lt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(4,v[2],a):lt.processFixedAI(4,v[1],a);if(a.length<4)throw new Y;let y=a.substring(0,4);for(let v of lt.FOUR_DIGIT_DATA_LENGTH)if(v[0]===y)return v[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(4,v[2],a):lt.processFixedAI(4,v[1],a);throw new Y}static processFixedAI(a,c,h){if(h.length<a)throw new Y;let y=h.substring(0,a);if(h.length<a+c)throw new Y;let v=h.substring(a,a+c),w=h.substring(a+c),S="("+y+")"+v,N=lt.parseFieldsInGeneralPurpose(w);return N==null?S:S+N}static processVariableAI(a,c,h){let y=h.substring(0,a),v;h.length<a+c?v=h.length:v=a+c;let w=h.substring(a,v),S=h.substring(v),N="("+y+")"+w,j=lt.parseFieldsInGeneralPurpose(S);return j==null?N:N+j}}lt.VARIABLE_LENGTH=[],lt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",lt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",lt.VARIABLE_LENGTH,20],["22",lt.VARIABLE_LENGTH,29],["30",lt.VARIABLE_LENGTH,8],["37",lt.VARIABLE_LENGTH,8],["90",lt.VARIABLE_LENGTH,30],["91",lt.VARIABLE_LENGTH,30],["92",lt.VARIABLE_LENGTH,30],["93",lt.VARIABLE_LENGTH,30],["94",lt.VARIABLE_LENGTH,30],["95",lt.VARIABLE_LENGTH,30],["96",lt.VARIABLE_LENGTH,30],["97",lt.VARIABLE_LENGTH,3],["98",lt.VARIABLE_LENGTH,30],["99",lt.VARIABLE_LENGTH,30]],lt.THREE_DIGIT_DATA_LENGTH=[["240",lt.VARIABLE_LENGTH,30],["241",lt.VARIABLE_LENGTH,30],["242",lt.VARIABLE_LENGTH,6],["250",lt.VARIABLE_LENGTH,30],["251",lt.VARIABLE_LENGTH,30],["253",lt.VARIABLE_LENGTH,17],["254",lt.VARIABLE_LENGTH,20],["400",lt.VARIABLE_LENGTH,30],["401",lt.VARIABLE_LENGTH,30],["402",17],["403",lt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",lt.VARIABLE_LENGTH,20],["421",lt.VARIABLE_LENGTH,15],["422",3],["423",lt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],lt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",lt.VARIABLE_LENGTH,15],["391",lt.VARIABLE_LENGTH,18],["392",lt.VARIABLE_LENGTH,15],["393",lt.VARIABLE_LENGTH,18],["703",lt.VARIABLE_LENGTH,30]],lt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",lt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",lt.VARIABLE_LENGTH,20],["8003",lt.VARIABLE_LENGTH,30],["8004",lt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",lt.VARIABLE_LENGTH,30],["8008",lt.VARIABLE_LENGTH,12],["8018",18],["8020",lt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",lt.VARIABLE_LENGTH,70],["8200",lt.VARIABLE_LENGTH,70]];class al{constructor(a){this.buffer=new Z,this.information=a}decodeAllCodes(a,c){let h=c,y=null;do{let v=this.decodeGeneralPurposeField(h,y),w=lt.parseFieldsInGeneralPurpose(v.getNewString());if(w!=null&&a.append(w),v.isRemaining()?y=""+v.getRemainingValue():y=null,h===v.getNewPosition())break;h=v.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let c=a;c<a+3;++c)if(this.information.get(c))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(a,4);return v===0?new gi(this.information.getSize(),gi.FNC1,gi.FNC1):new gi(this.information.getSize(),v-1,gi.FNC1)}let c=this.extractNumericValueFromBitArray(a,7),h=(c-8)/11,y=(c-8)%11;return new gi(a+7,h,y)}extractNumericValueFromBitArray(a,c){return al.extractNumericValueFromBitArray(this.information,a,c)}static extractNumericValueFromBitArray(a,c,h){let y=0;for(let v=0;v<h;++v)a.get(c+v)&&(y|=1<<h-v-1);return y}decodeGeneralPurposeField(a,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(a);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new Fs(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new Fs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,c;do{let h=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),a=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),a=c.isFinished()):(c=this.parseNumericBlock(),a=c.isFinished()),!(h!==this.current.getPosition())&&!a)break}while(!a);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let c;return a.isSecondDigitFNC1()?c=new Fs(this.current.getPosition(),this.buffer.toString()):c=new Fs(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new fs(!0,c)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let c=new Fs(this.current.getPosition(),this.buffer.toString());return new fs(!0,c)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fs(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Fs(this.current.getPosition(),this.buffer.toString());return new fs(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fs(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Fs(this.current.getPosition(),this.buffer.toString());return new fs(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fs(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,7);if(h>=64&&h<116)return!0;if(a+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(a,8);return y>=232&&y<253}decodeIsoIec646(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new kn(a+5,kn.FNC1);if(c>=5&&c<15)return new kn(a+5,"0"+(c-5));let h=this.extractNumericValueFromBitArray(a,7);if(h>=64&&h<90)return new kn(a+7,""+(h+1));if(h>=90&&h<116)return new kn(a+7,""+(h+7));let y=this.extractNumericValueFromBitArray(a,8),v;switch(y){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new U}return new kn(a+8,v)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,6);return h>=16&&h<63}decodeAlphanumeric(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new kn(a+5,kn.FNC1);if(c>=5&&c<15)return new kn(a+5,"0"+(c-5));let h=this.extractNumericValueFromBitArray(a,6);if(h>=32&&h<58)return new kn(a+6,""+(h+33));let y;switch(h){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Ne("Decoding invalid alphanumeric value: "+h)}return new kn(a+6,y)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<5&&c+a<this.information.getSize();++c)if(c===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+c))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let c=a;c<a+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<4&&c+a<this.information.getSize();++c)if(this.information.get(a+c))return!1;return!0}}class sh{constructor(a){this.information=a,this.generalDecoder=new al(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ii extends sh{constructor(a){super(a)}encodeCompressedGtin(a,c){a.append("(01)");let h=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,c,h)}encodeCompressedGtinWithoutAI(a,c,h){for(let y=0;y<4;++y){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*y,10);v/100===0&&a.append("0"),v/10===0&&a.append("0"),a.append(v)}Ii.appendCheckDigit(a,h)}static appendCheckDigit(a,c){let h=0;for(let y=0;y<13;y++){let v=a.charAt(y+c).charCodeAt(0)-48;h+=(y&1)===0?3*v:v}h=10-h%10,h===10&&(h=0),a.append(h)}}Ii.GTIN_SIZE=40;class rs extends Ii{constructor(a){super(a)}parseInformation(){let a=new Z;a.append("(01)");let c=a.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(rs.HEADER_SIZE,4);return a.append(h),this.encodeCompressedGtinWithoutAI(a,rs.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(a,rs.HEADER_SIZE+44)}}rs.HEADER_SIZE=4;class dc extends sh{constructor(a){super(a)}parseInformation(){let a=new Z;return this.getGeneralDecoder().decodeAllCodes(a,dc.HEADER_SIZE)}}dc.HEADER_SIZE=5;class fc extends Ii{constructor(a){super(a)}encodeCompressedWeight(a,c,h){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(c,h);this.addWeightCode(a,y);let v=this.checkWeight(y),w=1e5;for(let S=0;S<5;++S)v/w===0&&a.append("0"),w/=10;a.append(v)}}class Us extends fc{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=Us.HEADER_SIZE+fc.GTIN_SIZE+Us.WEIGHT_SIZE)throw new Y;let a=new Z;return this.encodeCompressedGtin(a,Us.HEADER_SIZE),this.encodeCompressedWeight(a,Us.HEADER_SIZE+fc.GTIN_SIZE,Us.WEIGHT_SIZE),a.toString()}}Us.HEADER_SIZE=5,Us.WEIGHT_SIZE=15;class ng extends Us{constructor(a){super(a)}addWeightCode(a,c){a.append("(3103)")}checkWeight(a){return a}}class ig extends Us{constructor(a){super(a)}addWeightCode(a,c){c<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class hs extends Ii{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<hs.HEADER_SIZE+Ii.GTIN_SIZE)throw new Y;let a=new Z;this.encodeCompressedGtin(a,hs.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(hs.HEADER_SIZE+Ii.GTIN_SIZE,hs.LAST_DIGIT_SIZE);a.append("(392"),a.append(c),a.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(hs.HEADER_SIZE+Ii.GTIN_SIZE+hs.LAST_DIGIT_SIZE,null);return a.append(h.getNewString()),a.toString()}}hs.HEADER_SIZE=8,hs.LAST_DIGIT_SIZE=2;class ii extends Ii{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<ii.HEADER_SIZE+Ii.GTIN_SIZE)throw new Y;let a=new Z;this.encodeCompressedGtin(a,ii.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ii.HEADER_SIZE+Ii.GTIN_SIZE,ii.LAST_DIGIT_SIZE);a.append("(393"),a.append(c),a.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(ii.HEADER_SIZE+Ii.GTIN_SIZE+ii.LAST_DIGIT_SIZE,ii.FIRST_THREE_DIGITS_SIZE);h/100==0&&a.append("0"),h/10==0&&a.append("0"),a.append(h);let y=this.getGeneralDecoder().decodeGeneralPurposeField(ii.HEADER_SIZE+Ii.GTIN_SIZE+ii.LAST_DIGIT_SIZE+ii.FIRST_THREE_DIGITS_SIZE,null);return a.append(y.getNewString()),a.toString()}}ii.HEADER_SIZE=8,ii.LAST_DIGIT_SIZE=2,ii.FIRST_THREE_DIGITS_SIZE=10;class Fr extends fc{constructor(a,c,h){super(a),this.dateCode=h,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=Fr.HEADER_SIZE+Fr.GTIN_SIZE+Fr.WEIGHT_SIZE+Fr.DATE_SIZE)throw new Y;let a=new Z;return this.encodeCompressedGtin(a,Fr.HEADER_SIZE),this.encodeCompressedWeight(a,Fr.HEADER_SIZE+Fr.GTIN_SIZE,Fr.WEIGHT_SIZE),this.encodeCompressedDate(a,Fr.HEADER_SIZE+Fr.GTIN_SIZE+Fr.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(c,Fr.DATE_SIZE);if(h==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let y=h%32;h/=32;let v=h%12+1;h/=12;let w=h;w/10==0&&a.append("0"),a.append(w),v/10==0&&a.append("0"),a.append(v),y/10==0&&a.append("0"),a.append(y)}addWeightCode(a,c){a.append("("),a.append(this.firstAIdigits),a.append(c/1e5),a.append(")")}checkWeight(a){return a%1e5}}Fr.HEADER_SIZE=8,Fr.WEIGHT_SIZE=20,Fr.DATE_SIZE=16;function sg(V){try{if(V.get(1))return new rs(V);if(!V.get(2))return new dc(V);switch(al.extractNumericValueFromBitArray(V,1,4)){case 4:return new ng(V);case 5:return new ig(V)}switch(al.extractNumericValueFromBitArray(V,1,5)){case 12:return new hs(V);case 13:return new ii(V)}switch(al.extractNumericValueFromBitArray(V,1,7)){case 56:return new Fr(V,"310","11");case 57:return new Fr(V,"320","11");case 58:return new Fr(V,"310","13");case 59:return new Fr(V,"320","13");case 60:return new Fr(V,"310","15");case 61:return new Fr(V,"320","15");case 62:return new Fr(V,"310","17");case 63:return new Fr(V,"320","17")}}catch(a){throw console.log(a),new Ne("unknown decoder: "+V)}}class wr{constructor(a,c,h,y){this.leftchar=a,this.rightchar=c,this.finderpattern=h,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,c){return a instanceof wr?wr.equalsOrNull(a.leftchar,c.leftchar)&&wr.equalsOrNull(a.rightchar,c.rightchar)&&wr.equalsOrNull(a.finderpattern,c.finderpattern):!1}static equalsOrNull(a,c){return a===null?c===null:wr.equals(a,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ah{constructor(a,c,h){this.pairs=a,this.rowNumber=c,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,c){return a instanceof ah?this.checkEqualitity(a,c)&&a.wasReversed===c.wasReversed:!1}checkEqualitity(a,c){if(!a||!c)return;let h;return a.forEach((y,v)=>{c.forEach(w=>{y.getLeftChar().getValue()===w.getLeftChar().getValue()&&y.getRightChar().getValue()===w.getRightChar().getValue()&&y.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(h=!0)})}),h}}class je extends $n{constructor(a){super(...arguments),this.pairs=new Array(je.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,c,h){this.pairs.length=0,this.startFromEven=!1;try{return je.constructResult(this.decodeRow2pairs(a,c))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,je.constructResult(this.decodeRow2pairs(a,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,c){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,a))}catch(v){if(v instanceof Y){if(!this.pairs.length)throw new Y;h=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(a,!1),y){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new Y}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return a&&(this.rows=this.rows.reverse()),c}checkRows(a,c){for(let h=c;h<this.rows.length;h++){let y=this.rows[h];this.pairs.length=0;for(let w of a)this.pairs.push(w.getPairs());if(this.pairs.push(y.getPairs()),!je.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(a);v.push(y);try{return this.checkRows(v,h+1)}catch(w){this.verbose&&console.log(w)}}throw new Y}static isValidSequence(a){for(let c of je.FINDER_PATTERN_SEQUENCES){if(a.length>c.length)continue;let h=!0;for(let y=0;y<a.length;y++)if(a[y].getFinderPattern().getValue()!=c[y]){h=!1;break}if(h)return!0}return!1}storeRow(a,c){let h=0,y=!1,v=!1;for(;h<this.rows.length;){let w=this.rows[h];if(w.getRowNumber()>a){v=w.isEquivalent(this.pairs);break}y=w.isEquivalent(this.pairs),h++}v||y||je.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new ah(this.pairs,a,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,c){for(let h of c)if(h.getPairs().length!==a.length){for(let y of h.getPairs())for(let v of a)if(wr.equals(y,v))break}}static isPartialRow(a,c){for(let h of c){let y=!0;for(let v of a){let w=!1;for(let S of h.getPairs())if(v.equals(S)){w=!0;break}if(!w){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(a){let c=nh.buildBitArray(a),y=sg(c).parseInformation(),v=a[0].getFinderPattern().getResultPoints(),w=a[a.length-1].getFinderPattern().getResultPoints(),S=[v[0],v[1],w[0],w[1]];return new Pe(y,null,null,S,Ie.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),c=a.getLeftChar(),h=a.getRightChar();if(h==null)return!1;let y=h.getChecksumPortion(),v=2;for(let S=1;S<this.pairs.size();++S){let N=this.pairs.get(S);y+=N.getLeftChar().getChecksumPortion(),v++;let j=N.getRightChar();j!=null&&(y+=j.getChecksumPortion(),v++)}return y%=211,211*(v-4)+y==c.getValue()}static getNextSecondBar(a,c){let h;return a.get(c)?(h=a.getNextUnset(c),h=a.getNextSet(h)):(h=a.getNextSet(c),h=a.getNextUnset(h)),h}retrieveNextPair(a,c,h){let y=c.length%2==0;this.startFromEven&&(y=!y);let v,w=!0,S=-1;do this.findNextPair(a,c,S),v=this.parseFoundFinderPattern(a,h,y),v==null?S=je.getNextSecondBar(a,this.startEnd[0]):w=!1;while(w);let N=this.decodeDataCharacter(a,v,y,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new Y;let j;try{j=this.decodeDataCharacter(a,v,y,!1)}catch($){j=null,this.verbose&&console.log($)}return new wr(N,j,v,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,c,h){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w;h>=0?w=h:this.isEmptyPair(c)?w=0:w=c[c.length-1].getFinderPattern().getStartEnd()[1];let S=c.length%2!=0;this.startFromEven&&(S=!S);let N=!1;for(;w<v&&(N=!a.get(w),!!N);)w++;let j=0,$=w;for(let q=w;q<v;q++)if(a.get(q)!=N)y[j]++;else{if(j==3){if(S&&je.reverseCounters(y),je.isFinderPattern(y)){this.startEnd[0]=$,this.startEnd[1]=q;return}S&&je.reverseCounters(y),$+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,j--}else j++;y[j]=1,N=!N}throw new Y}static reverseCounters(a){let c=a.length;for(let h=0;h<c/2;++h){let y=a[h];a[h]=a[c-h-1],a[c-h-1]=y}}parseFoundFinderPattern(a,c,h){let y,v,w;if(h){let j=this.startEnd[0]-1;for(;j>=0&&!a.get(j);)j--;j++,y=this.startEnd[0]-j,v=j,w=this.startEnd[1]}else v=this.startEnd[0],w=a.getNextUnset(this.startEnd[1]+1),y=w-this.startEnd[1];let S=this.getDecodeFinderCounters();E.arraycopy(S,0,S,1,S.length-1),S[0]=y;let N;try{N=this.parseFinderValue(S,je.FINDER_PATTERNS)}catch{return null}return new uc(N,[v,w],v,w,c)}decodeDataCharacter(a,c,h,y){let v=this.getDataCharacterCounters();for(let xr=0;xr<v.length;xr++)v[xr]=0;if(y)je.recordPatternInReverse(a,c.getStartEnd()[0],v);else{je.recordPattern(a,c.getStartEnd()[1],v);for(let xr=0,un=v.length-1;xr<un;xr++,un--){let xi=v[xr];v[xr]=v[un],v[un]=xi}}let w=17,S=dt.sum(new Int32Array(v))/w,N=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(S-N)/N>.3)throw new Y;let j=this.getOddCounts(),$=this.getEvenCounts(),q=this.getOddRoundingErrors(),X=this.getEvenRoundingErrors();for(let xr=0;xr<v.length;xr++){let un=1*v[xr]/S,xi=un+.5;if(xi<1){if(un<.3)throw new Y;xi=1}else if(xi>8){if(un>8.7)throw new Y;xi=8}let xo=xr/2;(xr&1)==0?(j[xo]=xi,q[xo]=un-xi):($[xo]=xi,X[xo]=un-xi)}this.adjustOddEvenCounts(w);let te=4*c.getValue()+(h?0:2)+(y?0:1)-1,de=0,he=0;for(let xr=j.length-1;xr>=0;xr--){if(je.isNotA1left(c,h,y)){let un=je.WEIGHTS[te][2*xr];he+=j[xr]*un}de+=j[xr]}let ge=0;for(let xr=$.length-1;xr>=0;xr--)if(je.isNotA1left(c,h,y)){let un=je.WEIGHTS[te][2*xr+1];ge+=$[xr]*un}let _e=he+ge;if((de&1)!=0||de>13||de<4)throw new Y;let qe=(13-de)/2,He=je.SYMBOL_WIDEST[qe],De=9-He,tr=Ni.getRSSvalue(j,He,!0),Vt=Ni.getRSSvalue($,De,!1),Ri=je.EVEN_TOTAL_SUBSET[qe],vs=je.GSUM[qe],On=tr*Ri+Vt+vs;return new $a(On,_e)}static isNotA1left(a,c,h){return!(a.getValue()==0&&c&&h)}adjustOddEvenCounts(a){let c=dt.sum(new Int32Array(this.getOddCounts())),h=dt.sum(new Int32Array(this.getEvenCounts())),y=!1,v=!1;c>13?v=!0:c<4&&(y=!0);let w=!1,S=!1;h>13?S=!0:h<4&&(w=!0);let N=c+h-a,j=(c&1)==1,$=(h&1)==0;if(N==1)if(j){if($)throw new Y;v=!0}else{if(!$)throw new Y;S=!0}else if(N==-1)if(j){if($)throw new Y;y=!0}else{if(!$)throw new Y;w=!0}else if(N==0){if(j){if(!$)throw new Y;c<h?(y=!0,S=!0):(v=!0,w=!0)}else if($)throw new Y}else throw new Y;if(y){if(v)throw new Y;je.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&je.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(S)throw new Y;je.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&je.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}je.SYMBOL_WIDEST=[7,5,4,3,1],je.EVEN_TOTAL_SUBSET=[4,20,52,104,204],je.GSUM=[0,348,1388,2948,3988],je.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],je.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],je.FINDER_PAT_A=0,je.FINDER_PAT_B=1,je.FINDER_PAT_C=2,je.FINDER_PAT_D=3,je.FINDER_PAT_E=4,je.FINDER_PAT_F=5,je.FINDER_PATTERN_SEQUENCES=[[je.FINDER_PAT_A,je.FINDER_PAT_A],[je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B],[je.FINDER_PAT_A,je.FINDER_PAT_C,je.FINDER_PAT_B,je.FINDER_PAT_D],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_C],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_D,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_D],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_E],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F]],je.MAX_PAIRS=11;class ag extends $a{constructor(a,c,h){super(a,c),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dr extends $n{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,c,h){const y=this.decodePair(c,!1,a,h);Dr.addOrTally(this.possibleLeftPairs,y),c.reverse();let v=this.decodePair(c,!0,a,h);Dr.addOrTally(this.possibleRightPairs,v),c.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let S of this.possibleRightPairs)if(S.getCount()>1&&Dr.checkChecksum(w,S))return Dr.constructResult(w,S)}throw new Y}static addOrTally(a,c){if(c==null)return;let h=!1;for(let y of a)if(y.getValue()===c.getValue()){y.incrementCount(),h=!0;break}h||a.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,c){let h=4537077*a.getValue()+c.getValue(),y=new String(h).toString(),v=new Z;for(let j=13-y.length;j>0;j--)v.append("0");v.append(y);let w=0;for(let j=0;j<13;j++){let $=v.charAt(j).charCodeAt(0)-48;w+=(j&1)===0?3*$:$}w=10-w%10,w===10&&(w=0),v.append(w.toString());let S=a.getFinderPattern().getResultPoints(),N=c.getFinderPattern().getResultPoints();return new Pe(v.toString(),null,0,[S[0],S[1],N[0],N[1]],Ie.RSS_14,new Date().getTime())}static checkChecksum(a,c){let h=(a.getChecksumPortion()+16*c.getChecksumPortion())%79,y=9*a.getFinderPattern().getValue()+c.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,h===y}decodePair(a,c,h,y){try{let v=this.findFinderPattern(a,c),w=this.parseFoundFinderPattern(a,h,c,v),S=y==null?null:y.get(F.NEED_RESULT_POINT_CALLBACK);if(S!=null){let $=(v[0]+v[1])/2;c&&($=a.getSize()-1-$),S.foundPossibleResultPoint(new Fe($,h))}let N=this.decodeDataCharacter(a,w,!0),j=this.decodeDataCharacter(a,w,!1);return new ag(1597*N.getValue()+j.getValue(),N.getChecksumPortion()+4*j.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(a,c,h){let y=this.getDataCharacterCounters();for(let ge=0;ge<y.length;ge++)y[ge]=0;if(h)Mr.recordPatternInReverse(a,c.getStartEnd()[0],y);else{Mr.recordPattern(a,c.getStartEnd()[1]+1,y);for(let ge=0,_e=y.length-1;ge<_e;ge++,_e--){let qe=y[ge];y[ge]=y[_e],y[_e]=qe}}let v=h?16:15,w=dt.sum(new Int32Array(y))/v,S=this.getOddCounts(),N=this.getEvenCounts(),j=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let ge=0;ge<y.length;ge++){let _e=y[ge]/w,qe=Math.floor(_e+.5);qe<1?qe=1:qe>8&&(qe=8);let He=Math.floor(ge/2);(ge&1)===0?(S[He]=qe,j[He]=_e-qe):(N[He]=qe,$[He]=_e-qe)}this.adjustOddEvenCounts(h,v);let q=0,X=0;for(let ge=S.length-1;ge>=0;ge--)X*=9,X+=S[ge],q+=S[ge];let te=0,de=0;for(let ge=N.length-1;ge>=0;ge--)te*=9,te+=N[ge],de+=N[ge];let he=X+3*te;if(h){if((q&1)!==0||q>12||q<4)throw new Y;let ge=(12-q)/2,_e=Dr.OUTSIDE_ODD_WIDEST[ge],qe=9-_e,He=Ni.getRSSvalue(S,_e,!1),De=Ni.getRSSvalue(N,qe,!0),tr=Dr.OUTSIDE_EVEN_TOTAL_SUBSET[ge],Vt=Dr.OUTSIDE_GSUM[ge];return new $a(He*tr+De+Vt,he)}else{if((de&1)!==0||de>10||de<4)throw new Y;let ge=(10-de)/2,_e=Dr.INSIDE_ODD_WIDEST[ge],qe=9-_e,He=Ni.getRSSvalue(S,_e,!0),De=Ni.getRSSvalue(N,qe,!1),tr=Dr.INSIDE_ODD_TOTAL_SUBSET[ge],Vt=Dr.INSIDE_GSUM[ge];return new $a(De*tr+He+Vt,he)}}findFinderPattern(a,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let y=a.getSize(),v=!1,w=0;for(;w<y&&(v=!a.get(w),c!==v);)w++;let S=0,N=w;for(let j=w;j<y;j++)if(a.get(j)!==v)h[S]++;else{if(S===3){if($n.isFinderPattern(h))return[N,j];N+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,S--}else S++;h[S]=1,v=!v}throw new Y}parseFoundFinderPattern(a,c,h,y){let v=a.get(y[0]),w=y[0]-1;for(;w>=0&&v!==a.get(w);)w--;w++;const S=y[0]-w,N=this.getDecodeFinderCounters(),j=new Int32Array(N.length);E.arraycopy(N,0,j,1,N.length-1),j[0]=S;const $=this.parseFinderValue(j,Dr.FINDER_PATTERNS);let q=w,X=y[1];return h&&(q=a.getSize()-1-q,X=a.getSize()-1-X),new uc($,[w,y[1]],q,X,c)}adjustOddEvenCounts(a,c){let h=dt.sum(new Int32Array(this.getOddCounts())),y=dt.sum(new Int32Array(this.getEvenCounts())),v=!1,w=!1,S=!1,N=!1;a?(h>12?w=!0:h<4&&(v=!0),y>12?N=!0:y<4&&(S=!0)):(h>11?w=!0:h<5&&(v=!0),y>10?N=!0:y<4&&(S=!0));let j=h+y-c,$=(h&1)===(a?1:0),q=(y&1)===1;if(j===1)if($){if(q)throw new Y;w=!0}else{if(!q)throw new Y;N=!0}else if(j===-1)if($){if(q)throw new Y;v=!0}else{if(!q)throw new Y;S=!0}else if(j===0){if($){if(!q)throw new Y;h<y?(v=!0,N=!0):(w=!0,S=!0)}else if(q)throw new Y}else throw new Y;if(v){if(w)throw new Y;$n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&$n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(N)throw new Y;$n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&$n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dr.OUTSIDE_GSUM=[0,161,961,2015,2715],Dr.INSIDE_GSUM=[0,336,1036,1516],Dr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dr.INSIDE_ODD_WIDEST=[2,4,6,8],Dr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ol extends Mr{constructor(a,c){super(),this.readers=[],this.verbose=c===!0;const h=a?a.get(F.POSSIBLE_FORMATS):null,y=a&&a.get(F.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(Ie.EAN_13)||h.includes(Ie.UPC_A)||h.includes(Ie.EAN_8)||h.includes(Ie.UPC_E))&&this.readers.push(new Ru(a)),h.includes(Ie.CODE_39)&&this.readers.push(new cn(y)),h.includes(Ie.CODE_128)&&this.readers.push(new Ye),h.includes(Ie.ITF)&&this.readers.push(new dr),h.includes(Ie.RSS_14)&&this.readers.push(new Dr),h.includes(Ie.RSS_EXPANDED)&&this.readers.push(new je(this.verbose))):(this.readers.push(new Ru(a)),this.readers.push(new cn),this.readers.push(new Ru(a)),this.readers.push(new Ye),this.readers.push(new dr),this.readers.push(new Dr),this.readers.push(new je(this.verbose)))}decodeRow(a,c,h){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(a,c,h)}catch{}throw new Y}reset(){this.readers.forEach(a=>a.reset())}}class og extends be{constructor(a=500,c){super(new ol(c),a,c)}}class ur{constructor(a,c,h){this.ecCodewords=a,this.ecBlocks=[c],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Gt{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class sr{constructor(a,c,h,y,v,w){this.versionNumber=a,this.symbolSizeRows=c,this.symbolSizeColumns=h,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=v,this.ecBlocks=w;let S=0;const N=w.getECCodewords(),j=w.getECBlocks();for(let $ of j)S+=$.getCount()*($.getDataCodewords()+N);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,c){if((a&1)!==0||(c&1)!==0)throw new U;for(let h of sr.VERSIONS)if(h.symbolSizeRows===a&&h.symbolSizeColumns===c)return h;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new sr(1,10,10,8,8,new ur(5,new Gt(1,3))),new sr(2,12,12,10,10,new ur(7,new Gt(1,5))),new sr(3,14,14,12,12,new ur(10,new Gt(1,8))),new sr(4,16,16,14,14,new ur(12,new Gt(1,12))),new sr(5,18,18,16,16,new ur(14,new Gt(1,18))),new sr(6,20,20,18,18,new ur(18,new Gt(1,22))),new sr(7,22,22,20,20,new ur(20,new Gt(1,30))),new sr(8,24,24,22,22,new ur(24,new Gt(1,36))),new sr(9,26,26,24,24,new ur(28,new Gt(1,44))),new sr(10,32,32,14,14,new ur(36,new Gt(1,62))),new sr(11,36,36,16,16,new ur(42,new Gt(1,86))),new sr(12,40,40,18,18,new ur(48,new Gt(1,114))),new sr(13,44,44,20,20,new ur(56,new Gt(1,144))),new sr(14,48,48,22,22,new ur(68,new Gt(1,174))),new sr(15,52,52,24,24,new ur(42,new Gt(2,102))),new sr(16,64,64,14,14,new ur(56,new Gt(2,140))),new sr(17,72,72,16,16,new ur(36,new Gt(4,92))),new sr(18,80,80,18,18,new ur(48,new Gt(4,114))),new sr(19,88,88,20,20,new ur(56,new Gt(4,144))),new sr(20,96,96,22,22,new ur(68,new Gt(4,174))),new sr(21,104,104,24,24,new ur(56,new Gt(6,136))),new sr(22,120,120,18,18,new ur(68,new Gt(6,175))),new sr(23,132,132,20,20,new ur(62,new Gt(8,163))),new sr(24,144,144,22,22,new ur(62,new Gt(8,156),new Gt(2,155))),new sr(25,8,18,6,16,new ur(7,new Gt(1,5))),new sr(26,8,32,6,14,new ur(11,new Gt(1,10))),new sr(27,12,26,10,24,new ur(14,new Gt(1,16))),new sr(28,12,36,10,16,new ur(18,new Gt(1,22))),new sr(29,16,36,14,16,new ur(24,new Gt(1,32))),new sr(30,16,48,14,22,new ur(28,new Gt(1,49)))]}}sr.VERSIONS=sr.buildVersions();class Vi{constructor(a){const c=a.getHeight();if(c<8||c>144||(c&1)!==0)throw new U;this.version=Vi.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new Q(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const c=a.getHeight(),h=a.getWidth();return sr.getVersionForDimensions(c,h)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let c=0,h=4,y=0;const v=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let S=!1,N=!1,j=!1,$=!1;do if(h===v&&y===0&&!S)a[c++]=this.readCorner1(v,w)&255,h-=2,y+=2,S=!0;else if(h===v-2&&y===0&&(w&3)!==0&&!N)a[c++]=this.readCorner2(v,w)&255,h-=2,y+=2,N=!0;else if(h===v+4&&y===2&&(w&7)===0&&!j)a[c++]=this.readCorner3(v,w)&255,h-=2,y+=2,j=!0;else if(h===v-2&&y===0&&(w&7)===4&&!$)a[c++]=this.readCorner4(v,w)&255,h-=2,y+=2,$=!0;else{do h<v&&y>=0&&!this.readMappingMatrix.get(y,h)&&(a[c++]=this.readUtah(h,y,v,w)&255),h-=2,y+=2;while(h>=0&&y<w);h+=1,y+=3;do h>=0&&y<w&&!this.readMappingMatrix.get(y,h)&&(a[c++]=this.readUtah(h,y,v,w)&255),h+=2,y-=2;while(h<v&&y>=0);h+=3,y+=1}while(h<v||y<w);if(c!==this.version.getTotalCodewords())throw new U;return a}readModule(a,c,h,y){return a<0&&(a+=h,c+=4-(h+4&7)),c<0&&(c+=y,a+=4-(y+4&7)),this.readMappingMatrix.set(c,a),this.mappingBitMatrix.get(c,a)}readUtah(a,c,h,y){let v=0;return this.readModule(a-2,c-2,h,y)&&(v|=1),v<<=1,this.readModule(a-2,c-1,h,y)&&(v|=1),v<<=1,this.readModule(a-1,c-2,h,y)&&(v|=1),v<<=1,this.readModule(a-1,c-1,h,y)&&(v|=1),v<<=1,this.readModule(a-1,c,h,y)&&(v|=1),v<<=1,this.readModule(a,c-2,h,y)&&(v|=1),v<<=1,this.readModule(a,c-1,h,y)&&(v|=1),v<<=1,this.readModule(a,c,h,y)&&(v|=1),v}readCorner1(a,c){let h=0;return this.readModule(a-1,0,a,c)&&(h|=1),h<<=1,this.readModule(a-1,1,a,c)&&(h|=1),h<<=1,this.readModule(a-1,2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-1,a,c)&&(h|=1),h<<=1,this.readModule(1,c-1,a,c)&&(h|=1),h<<=1,this.readModule(2,c-1,a,c)&&(h|=1),h<<=1,this.readModule(3,c-1,a,c)&&(h|=1),h}readCorner2(a,c){let h=0;return this.readModule(a-3,0,a,c)&&(h|=1),h<<=1,this.readModule(a-2,0,a,c)&&(h|=1),h<<=1,this.readModule(a-1,0,a,c)&&(h|=1),h<<=1,this.readModule(0,c-4,a,c)&&(h|=1),h<<=1,this.readModule(0,c-3,a,c)&&(h|=1),h<<=1,this.readModule(0,c-2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-1,a,c)&&(h|=1),h<<=1,this.readModule(1,c-1,a,c)&&(h|=1),h}readCorner3(a,c){let h=0;return this.readModule(a-1,0,a,c)&&(h|=1),h<<=1,this.readModule(a-1,c-1,a,c)&&(h|=1),h<<=1,this.readModule(0,c-3,a,c)&&(h|=1),h<<=1,this.readModule(0,c-2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-1,a,c)&&(h|=1),h<<=1,this.readModule(1,c-3,a,c)&&(h|=1),h<<=1,this.readModule(1,c-2,a,c)&&(h|=1),h<<=1,this.readModule(1,c-1,a,c)&&(h|=1),h}readCorner4(a,c){let h=0;return this.readModule(a-3,0,a,c)&&(h|=1),h<<=1,this.readModule(a-2,0,a,c)&&(h|=1),h<<=1,this.readModule(a-1,0,a,c)&&(h|=1),h<<=1,this.readModule(0,c-2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-1,a,c)&&(h|=1),h<<=1,this.readModule(1,c-1,a,c)&&(h|=1),h<<=1,this.readModule(2,c-1,a,c)&&(h|=1),h<<=1,this.readModule(3,c-1,a,c)&&(h|=1),h}extractDataRegion(a){const c=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(a.getHeight()!==c)throw new x("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),w=c/y|0,S=h/v|0,N=w*y,j=S*v,$=new Q(j,N);for(let q=0;q<w;++q){const X=q*y;for(let te=0;te<S;++te){const de=te*v;for(let he=0;he<y;++he){const ge=q*(y+2)+1+he,_e=X+he;for(let qe=0;qe<v;++qe){const He=te*(v+2)+1+qe;if(a.get(He,ge)){const De=de+qe;$.set(De,_e)}}}}}return $}}class oh{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c){const h=c.getECBlocks();let y=0;const v=h.getECBlocks();for(let he of v)y+=he.getCount();const w=new Array(y);let S=0;for(let he of v)for(let ge=0;ge<he.getCount();ge++){const _e=he.getDataCodewords(),qe=h.getECCodewords()+_e;w[S++]=new oh(_e,new Uint8Array(qe))}const j=w[0].codewords.length-h.getECCodewords(),$=j-1;let q=0;for(let he=0;he<$;he++)for(let ge=0;ge<S;ge++)w[ge].codewords[he]=a[q++];const X=c.getVersionNumber()===24,te=X?8:S;for(let he=0;he<te;he++)w[he].codewords[j-1]=a[q++];const de=w[0].codewords.length;for(let he=j;he<de;he++)for(let ge=0;ge<S;ge++){const _e=X?(ge+8)%S:ge,qe=X&&_e>7?he-1:he;w[_e].codewords[qe]=a[q++]}if(q!==a.length)throw new x;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class lh{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new x(""+a);let c=0,h=this.bitOffset,y=this.byteOffset;const v=this.bytes;if(h>0){const w=8-h,S=a<w?a:w,N=w-S,j=255>>8-S<<N;c=(v[y]&j)>>N,a-=S,h+=S,h===8&&(h=0,y++)}if(a>0){for(;a>=8;)c=c<<8|v[y]&255,y++,a-=8;if(a>0){const w=8-a,S=255>>w<<w;c=c<<a|(v[y]&S)>>w,h+=a}}return this.bitOffset=h,this.byteOffset=y,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Cn;(function(V){V[V.PAD_ENCODE=0]="PAD_ENCODE",V[V.ASCII_ENCODE=1]="ASCII_ENCODE",V[V.C40_ENCODE=2]="C40_ENCODE",V[V.TEXT_ENCODE=3]="TEXT_ENCODE",V[V.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",V[V.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",V[V.BASE256_ENCODE=6]="BASE256_ENCODE"})(Cn||(Cn={}));class ps{static decode(a){const c=new lh(a),h=new Z,y=new Z,v=new Array;let w=Cn.ASCII_ENCODE;do if(w===Cn.ASCII_ENCODE)w=this.decodeAsciiSegment(c,h,y);else{switch(w){case Cn.C40_ENCODE:this.decodeC40Segment(c,h);break;case Cn.TEXT_ENCODE:this.decodeTextSegment(c,h);break;case Cn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,h);break;case Cn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,h);break;case Cn.BASE256_ENCODE:this.decodeBase256Segment(c,h,v);break;default:throw new U}w=Cn.ASCII_ENCODE}while(w!==Cn.PAD_ENCODE&&c.available()>0);return y.length()>0&&h.append(y.toString()),new Te(a,h.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(a,c,h){let y=!1;do{let v=a.readBits(8);if(v===0)throw new U;if(v<=128)return y&&(v+=128),c.append(String.fromCharCode(v-1)),Cn.ASCII_ENCODE;if(v===129)return Cn.PAD_ENCODE;if(v<=229){const w=v-130;w<10&&c.append("0"),c.append(""+w)}else switch(v){case 230:return Cn.C40_ENCODE;case 231:return Cn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:c.append("[)>05"),h.insert(0,"");break;case 237:c.append("[)>06"),h.insert(0,"");break;case 238:return Cn.ANSIX12_ENCODE;case 239:return Cn.TEXT_ENCODE;case 240:return Cn.EDIFACT_ENCODE;case 241:break;default:if(v!==254||a.available()!==0)throw new U;break}}while(a.available()>0);return Cn.ASCII_ENCODE}static decodeC40Segment(a,c){let h=!1;const y=[];let v=0;do{if(a.available()===8)return;const w=a.readBits(8);if(w===254)return;this.parseTwoBytes(w,a.readBits(8),y);for(let S=0;S<3;S++){const N=y[S];switch(v){case 0:if(N<3)v=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const j=this.C40_BASIC_SET_CHARS[N];h?(c.append(String.fromCharCode(j.charCodeAt(0)+128)),h=!1):c.append(j)}else throw new U;break;case 1:h?(c.append(String.fromCharCode(N+128)),h=!1):c.append(String.fromCharCode(N)),v=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const j=this.C40_SHIFT2_SET_CHARS[N];h?(c.append(String.fromCharCode(j.charCodeAt(0)+128)),h=!1):c.append(j)}else switch(N){case 27:c.append("");break;case 30:h=!0;break;default:throw new U}v=0;break;case 3:h?(c.append(String.fromCharCode(N+224)),h=!1):c.append(String.fromCharCode(N+96)),v=0;break;default:throw new U}}}while(a.available()>0)}static decodeTextSegment(a,c){let h=!1,y=[],v=0;do{if(a.available()===8)return;const w=a.readBits(8);if(w===254)return;this.parseTwoBytes(w,a.readBits(8),y);for(let S=0;S<3;S++){const N=y[S];switch(v){case 0:if(N<3)v=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const j=this.TEXT_BASIC_SET_CHARS[N];h?(c.append(String.fromCharCode(j.charCodeAt(0)+128)),h=!1):c.append(j)}else throw new U;break;case 1:h?(c.append(String.fromCharCode(N+128)),h=!1):c.append(String.fromCharCode(N)),v=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const j=this.TEXT_SHIFT2_SET_CHARS[N];h?(c.append(String.fromCharCode(j.charCodeAt(0)+128)),h=!1):c.append(j)}else switch(N){case 27:c.append("");break;case 30:h=!0;break;default:throw new U}v=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const j=this.TEXT_SHIFT3_SET_CHARS[N];h?(c.append(String.fromCharCode(j.charCodeAt(0)+128)),h=!1):c.append(j),v=0}else throw new U;break;default:throw new U}}}while(a.available()>0)}static decodeAnsiX12Segment(a,c){const h=[];do{if(a.available()===8)return;const y=a.readBits(8);if(y===254)return;this.parseTwoBytes(y,a.readBits(8),h);for(let v=0;v<3;v++){const w=h[v];switch(w){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(w<14)c.append(String.fromCharCode(w+44));else if(w<40)c.append(String.fromCharCode(w+51));else throw new U;break}}}while(a.available()>0)}static parseTwoBytes(a,c,h){let y=(a<<8)+c-1,v=Math.floor(y/1600);h[0]=v,y-=v*1600,v=Math.floor(y/40),h[1]=v,h[2]=y-v*40}static decodeEdifactSegment(a,c){do{if(a.available()<=16)return;for(let h=0;h<4;h++){let y=a.readBits(6);if(y===31){const v=8-a.getBitOffset();v!==8&&a.readBits(v);return}(y&32)===0&&(y|=64),c.append(String.fromCharCode(y))}}while(a.available()>0)}static decodeBase256Segment(a,c,h){let y=1+a.getByteOffset();const v=this.unrandomize255State(a.readBits(8),y++);let w;if(v===0?w=a.available()/8|0:v<250?w=v:w=250*(v-249)+this.unrandomize255State(a.readBits(8),y++),w<0)throw new U;const S=new Uint8Array(w);for(let N=0;N<w;N++){if(a.available()<8)throw new U;S[N]=this.unrandomize255State(a.readBits(8),y++)}h.push(S);try{c.append(K.decode(S,z.ISO88591))}catch(N){throw new Ne("Platform does not support required encoding: "+N.message)}}static unrandomize255State(a,c){const h=149*c%255+1,y=a-h;return y>=0?y:y+256}}ps.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ps.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ps.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ps.TEXT_SHIFT2_SET_CHARS=ps.C40_SHIFT2_SET_CHARS,ps.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ju{constructor(){this.rsDecoder=new Ke(et.DATA_MATRIX_FIELD_256)}decode(a){const c=new Vi(a),h=c.getVersion(),y=c.readCodewords(),v=oh.getDataBlocks(y,h);let w=0;for(let j of v)w+=j.getNumDataCodewords();const S=new Uint8Array(w),N=v.length;for(let j=0;j<N;j++){const $=v[j],q=$.getCodewords(),X=$.getNumDataCodewords();this.correctErrors(q,X);for(let te=0;te<X;te++)S[te*N+j]=q[te]}return ps.decode(S)}correctErrors(a,c){const h=new Int32Array(a);try{this.rsDecoder.decode(h,a.length-c)}catch{throw new T}for(let y=0;y<c;y++)a[y]=h[y]}}class Lr{constructor(a){this.image=a,this.rectangleDetector=new Ae(this.image)}detect(){const a=this.rectangleDetector.detect();let c=this.detectSolid1(a);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new Y;c=this.shiftToModuleCenter(c);const h=c[0],y=c[1],v=c[2],w=c[3];let S=this.transitionsBetween(h,w)+1,N=this.transitionsBetween(v,w)+1;(S&1)===1&&(S+=1),(N&1)===1&&(N+=1),4*S<7*N&&4*N<7*S&&(S=N=Math.max(S,N));let j=Lr.sampleGrid(this.image,h,y,v,w,S,N);return new le(j,[h,y,v,w])}static shiftPoint(a,c,h){let y=(c.getX()-a.getX())/(h+1),v=(c.getY()-a.getY())/(h+1);return new Fe(a.getX()+y,a.getY()+v)}static moveAway(a,c,h){let y=a.getX(),v=a.getY();return y<c?y-=1:y+=1,v<h?v-=1:v+=1,new Fe(y,v)}detectSolid1(a){let c=a[0],h=a[1],y=a[3],v=a[2],w=this.transitionsBetween(c,h),S=this.transitionsBetween(h,y),N=this.transitionsBetween(y,v),j=this.transitionsBetween(v,c),$=w,q=[v,c,h,y];return $>S&&($=S,q[0]=c,q[1]=h,q[2]=y,q[3]=v),$>N&&($=N,q[0]=h,q[1]=y,q[2]=v,q[3]=c),$>j&&(q[0]=y,q[1]=v,q[2]=c,q[3]=h),q}detectSolid2(a){let c=a[0],h=a[1],y=a[2],v=a[3],w=this.transitionsBetween(c,v),S=Lr.shiftPoint(h,y,(w+1)*4),N=Lr.shiftPoint(y,h,(w+1)*4),j=this.transitionsBetween(S,c),$=this.transitionsBetween(N,v);return j<$?(a[0]=c,a[1]=h,a[2]=y,a[3]=v):(a[0]=h,a[1]=y,a[2]=v,a[3]=c),a}correctTopRight(a){let c=a[0],h=a[1],y=a[2],v=a[3],w=this.transitionsBetween(c,v),S=this.transitionsBetween(h,v),N=Lr.shiftPoint(c,h,(S+1)*4),j=Lr.shiftPoint(y,h,(w+1)*4);w=this.transitionsBetween(N,v),S=this.transitionsBetween(j,v);let $=new Fe(v.getX()+(y.getX()-h.getX())/(w+1),v.getY()+(y.getY()-h.getY())/(w+1)),q=new Fe(v.getX()+(c.getX()-h.getX())/(S+1),v.getY()+(c.getY()-h.getY())/(S+1));if(!this.isValid($))return this.isValid(q)?q:null;if(!this.isValid(q))return $;let X=this.transitionsBetween(N,$)+this.transitionsBetween(j,$),te=this.transitionsBetween(N,q)+this.transitionsBetween(j,q);return X>te?$:q}shiftToModuleCenter(a){let c=a[0],h=a[1],y=a[2],v=a[3],w=this.transitionsBetween(c,v)+1,S=this.transitionsBetween(y,v)+1,N=Lr.shiftPoint(c,h,S*4),j=Lr.shiftPoint(y,h,w*4);w=this.transitionsBetween(N,v)+1,S=this.transitionsBetween(j,v)+1,(w&1)===1&&(w+=1),(S&1)===1&&(S+=1);let $=(c.getX()+h.getX()+y.getX()+v.getX())/4,q=(c.getY()+h.getY()+y.getY()+v.getY())/4;c=Lr.moveAway(c,$,q),h=Lr.moveAway(h,$,q),y=Lr.moveAway(y,$,q),v=Lr.moveAway(v,$,q);let X,te;return N=Lr.shiftPoint(c,h,S*4),N=Lr.shiftPoint(N,v,w*4),X=Lr.shiftPoint(h,c,S*4),X=Lr.shiftPoint(X,y,w*4),j=Lr.shiftPoint(y,v,S*4),j=Lr.shiftPoint(j,h,w*4),te=Lr.shiftPoint(v,y,S*4),te=Lr.shiftPoint(te,c,w*4),[N,X,j,te]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,c,h,y,v,w,S){return nt.getInstance().sampleGrid(a,w,S,.5,.5,w-.5,.5,w-.5,S-.5,.5,S-.5,c.getX(),c.getY(),v.getX(),v.getY(),y.getX(),y.getY(),h.getX(),h.getY())}transitionsBetween(a,c){let h=Math.trunc(a.getX()),y=Math.trunc(a.getY()),v=Math.trunc(c.getX()),w=Math.trunc(c.getY()),S=Math.abs(w-y)>Math.abs(v-h);if(S){let he=h;h=y,y=he,he=v,v=w,w=he}let N=Math.abs(v-h),j=Math.abs(w-y),$=-N/2,q=y<w?1:-1,X=h<v?1:-1,te=0,de=this.image.get(S?y:h,S?h:y);for(let he=h,ge=y;he!==v;he+=X){let _e=this.image.get(S?ge:he,S?he:ge);if(_e!==de&&(te++,de=_e),$+=j,$>0){if(ge===w)break;ge+=q,$-=N}}return te}}class ms{constructor(){this.decoder=new ju}decode(a,c=null){let h,y;if(c!=null&&c.has(F.PURE_BARCODE)){const j=ms.extractPureBits(a.getBlackMatrix());h=this.decoder.decode(j),y=ms.NO_POINTS}else{const j=new Lr(a.getBlackMatrix()).detect();h=this.decoder.decode(j.getBits()),y=j.getPoints()}const v=h.getRawBytes(),w=new Pe(h.getText(),v,8*v.length,y,Ie.DATA_MATRIX,E.currentTimeMillis()),S=h.getByteSegments();S!=null&&w.putMetadata(Be.BYTE_SEGMENTS,S);const N=h.getECLevel();return N!=null&&w.putMetadata(Be.ERROR_CORRECTION_LEVEL,N),w}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),h=a.getBottomRightOnBit();if(c==null||h==null)throw new Y;const y=this.moduleSize(c,a);let v=c[1];const w=h[1];let S=c[0];const j=(h[0]-S+1)/y,$=(w-v+1)/y;if(j<=0||$<=0)throw new Y;const q=y/2;v+=q,S+=q;const X=new Q(j,$);for(let te=0;te<$;te++){const de=v+te*y;for(let he=0;he<j;he++)a.get(S+he*y,de)&&X.set(he,te)}return X}static moduleSize(a,c){const h=c.getWidth();let y=a[0];const v=a[1];for(;y<h&&c.get(y,v);)y++;if(y===h)throw new Y;const w=y-a[0];if(w===0)throw new Y;return w}}ms.NO_POINTS=[];class zv extends be{constructor(a=500){super(new ms,a)}}var ll;(function(V){V[V.L=0]="L",V[V.M=1]="M",V[V.Q=2]="Q",V[V.H=3]="H"})(ll||(ll={}));class br{constructor(a,c,h){this.value=a,this.stringValue=c,this.bits=h,br.FOR_BITS.set(h,this),br.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return br.L;case"M":return br.M;case"Q":return br.Q;case"H":return br.H;default:throw new g(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof br))return!1;const c=a;return this.value===c.value}static forBits(a){if(a<0||a>=br.FOR_BITS.size)throw new x;return br.FOR_BITS.get(a)}}br.FOR_BITS=new Map,br.FOR_VALUE=new Map,br.L=new br(ll.L,"L",1),br.M=new br(ll.M,"M",0),br.Q=new br(ll.Q,"Q",3),br.H=new br(ll.H,"H",2);class Vn{constructor(a){this.errorCorrectionLevel=br.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,c){return I.bitCount(a^c)}static decodeFormatInformation(a,c){const h=Vn.doDecodeFormatInformation(a,c);return h!==null?h:Vn.doDecodeFormatInformation(a^Vn.FORMAT_INFO_MASK_QR,c^Vn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,c){let h=Number.MAX_SAFE_INTEGER,y=0;for(const v of Vn.FORMAT_INFO_DECODE_LOOKUP){const w=v[0];if(w===a||w===c)return new Vn(v[1]);let S=Vn.numBitsDiffering(a,w);S<h&&(y=v[1],h=S),a!==c&&(S=Vn.numBitsDiffering(c,w),S<h&&(y=v[1],h=S))}return h<=3?new Vn(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof Vn))return!1;const c=a;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}Vn.FORMAT_INFO_MASK_QR=21522,Vn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ye{constructor(a,...c){this.ecCodewordsPerBlock=a,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const c=this.ecBlocks;for(const h of c)a+=h.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ee{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(a,c,...h){this.versionNumber=a,this.alignmentPatternCenters=c,this.ecBlocks=h;let y=0;const v=h[0].getECCodewordsPerBlock(),w=h[0].getECBlocks();for(const S of w)y+=S.getCount()*(S.getDataCodewords()+v);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new U;try{return this.getVersionForNumber((a-17)/4)}catch{throw new U}}static getVersionForNumber(a){if(a<1||a>40)throw new x;return wt.VERSIONS[a-1]}static decodeVersionInformation(a){let c=Number.MAX_SAFE_INTEGER,h=0;for(let y=0;y<wt.VERSION_DECODE_INFO.length;y++){const v=wt.VERSION_DECODE_INFO[y];if(v===a)return wt.getVersionForNumber(y+7);const w=Vn.numBitsDiffering(a,v);w<c&&(h=y+7,c=w)}return c<=3?wt.getVersionForNumber(h):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),c=new Q(a);c.setRegion(0,0,9,9),c.setRegion(a-8,0,8,9),c.setRegion(0,a-8,9,8);const h=this.alignmentPatternCenters.length;for(let y=0;y<h;y++){const v=this.alignmentPatternCenters[y]-2;for(let w=0;w<h;w++)y===0&&(w===0||w===h-1)||y===h-1&&w===0||c.setRegion(this.alignmentPatternCenters[w]-2,v,5,5)}return c.setRegion(6,9,1,a-17),c.setRegion(9,6,a-17,1),this.versionNumber>6&&(c.setRegion(a-11,0,3,6),c.setRegion(0,a-11,6,3)),c}toString(){return""+this.versionNumber}}wt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),wt.VERSIONS=[new wt(1,new Int32Array(0),new ye(7,new ee(1,19)),new ye(10,new ee(1,16)),new ye(13,new ee(1,13)),new ye(17,new ee(1,9))),new wt(2,Int32Array.from([6,18]),new ye(10,new ee(1,34)),new ye(16,new ee(1,28)),new ye(22,new ee(1,22)),new ye(28,new ee(1,16))),new wt(3,Int32Array.from([6,22]),new ye(15,new ee(1,55)),new ye(26,new ee(1,44)),new ye(18,new ee(2,17)),new ye(22,new ee(2,13))),new wt(4,Int32Array.from([6,26]),new ye(20,new ee(1,80)),new ye(18,new ee(2,32)),new ye(26,new ee(2,24)),new ye(16,new ee(4,9))),new wt(5,Int32Array.from([6,30]),new ye(26,new ee(1,108)),new ye(24,new ee(2,43)),new ye(18,new ee(2,15),new ee(2,16)),new ye(22,new ee(2,11),new ee(2,12))),new wt(6,Int32Array.from([6,34]),new ye(18,new ee(2,68)),new ye(16,new ee(4,27)),new ye(24,new ee(4,19)),new ye(28,new ee(4,15))),new wt(7,Int32Array.from([6,22,38]),new ye(20,new ee(2,78)),new ye(18,new ee(4,31)),new ye(18,new ee(2,14),new ee(4,15)),new ye(26,new ee(4,13),new ee(1,14))),new wt(8,Int32Array.from([6,24,42]),new ye(24,new ee(2,97)),new ye(22,new ee(2,38),new ee(2,39)),new ye(22,new ee(4,18),new ee(2,19)),new ye(26,new ee(4,14),new ee(2,15))),new wt(9,Int32Array.from([6,26,46]),new ye(30,new ee(2,116)),new ye(22,new ee(3,36),new ee(2,37)),new ye(20,new ee(4,16),new ee(4,17)),new ye(24,new ee(4,12),new ee(4,13))),new wt(10,Int32Array.from([6,28,50]),new ye(18,new ee(2,68),new ee(2,69)),new ye(26,new ee(4,43),new ee(1,44)),new ye(24,new ee(6,19),new ee(2,20)),new ye(28,new ee(6,15),new ee(2,16))),new wt(11,Int32Array.from([6,30,54]),new ye(20,new ee(4,81)),new ye(30,new ee(1,50),new ee(4,51)),new ye(28,new ee(4,22),new ee(4,23)),new ye(24,new ee(3,12),new ee(8,13))),new wt(12,Int32Array.from([6,32,58]),new ye(24,new ee(2,92),new ee(2,93)),new ye(22,new ee(6,36),new ee(2,37)),new ye(26,new ee(4,20),new ee(6,21)),new ye(28,new ee(7,14),new ee(4,15))),new wt(13,Int32Array.from([6,34,62]),new ye(26,new ee(4,107)),new ye(22,new ee(8,37),new ee(1,38)),new ye(24,new ee(8,20),new ee(4,21)),new ye(22,new ee(12,11),new ee(4,12))),new wt(14,Int32Array.from([6,26,46,66]),new ye(30,new ee(3,115),new ee(1,116)),new ye(24,new ee(4,40),new ee(5,41)),new ye(20,new ee(11,16),new ee(5,17)),new ye(24,new ee(11,12),new ee(5,13))),new wt(15,Int32Array.from([6,26,48,70]),new ye(22,new ee(5,87),new ee(1,88)),new ye(24,new ee(5,41),new ee(5,42)),new ye(30,new ee(5,24),new ee(7,25)),new ye(24,new ee(11,12),new ee(7,13))),new wt(16,Int32Array.from([6,26,50,74]),new ye(24,new ee(5,98),new ee(1,99)),new ye(28,new ee(7,45),new ee(3,46)),new ye(24,new ee(15,19),new ee(2,20)),new ye(30,new ee(3,15),new ee(13,16))),new wt(17,Int32Array.from([6,30,54,78]),new ye(28,new ee(1,107),new ee(5,108)),new ye(28,new ee(10,46),new ee(1,47)),new ye(28,new ee(1,22),new ee(15,23)),new ye(28,new ee(2,14),new ee(17,15))),new wt(18,Int32Array.from([6,30,56,82]),new ye(30,new ee(5,120),new ee(1,121)),new ye(26,new ee(9,43),new ee(4,44)),new ye(28,new ee(17,22),new ee(1,23)),new ye(28,new ee(2,14),new ee(19,15))),new wt(19,Int32Array.from([6,30,58,86]),new ye(28,new ee(3,113),new ee(4,114)),new ye(26,new ee(3,44),new ee(11,45)),new ye(26,new ee(17,21),new ee(4,22)),new ye(26,new ee(9,13),new ee(16,14))),new wt(20,Int32Array.from([6,34,62,90]),new ye(28,new ee(3,107),new ee(5,108)),new ye(26,new ee(3,41),new ee(13,42)),new ye(30,new ee(15,24),new ee(5,25)),new ye(28,new ee(15,15),new ee(10,16))),new wt(21,Int32Array.from([6,28,50,72,94]),new ye(28,new ee(4,116),new ee(4,117)),new ye(26,new ee(17,42)),new ye(28,new ee(17,22),new ee(6,23)),new ye(30,new ee(19,16),new ee(6,17))),new wt(22,Int32Array.from([6,26,50,74,98]),new ye(28,new ee(2,111),new ee(7,112)),new ye(28,new ee(17,46)),new ye(30,new ee(7,24),new ee(16,25)),new ye(24,new ee(34,13))),new wt(23,Int32Array.from([6,30,54,78,102]),new ye(30,new ee(4,121),new ee(5,122)),new ye(28,new ee(4,47),new ee(14,48)),new ye(30,new ee(11,24),new ee(14,25)),new ye(30,new ee(16,15),new ee(14,16))),new wt(24,Int32Array.from([6,28,54,80,106]),new ye(30,new ee(6,117),new ee(4,118)),new ye(28,new ee(6,45),new ee(14,46)),new ye(30,new ee(11,24),new ee(16,25)),new ye(30,new ee(30,16),new ee(2,17))),new wt(25,Int32Array.from([6,32,58,84,110]),new ye(26,new ee(8,106),new ee(4,107)),new ye(28,new ee(8,47),new ee(13,48)),new ye(30,new ee(7,24),new ee(22,25)),new ye(30,new ee(22,15),new ee(13,16))),new wt(26,Int32Array.from([6,30,58,86,114]),new ye(28,new ee(10,114),new ee(2,115)),new ye(28,new ee(19,46),new ee(4,47)),new ye(28,new ee(28,22),new ee(6,23)),new ye(30,new ee(33,16),new ee(4,17))),new wt(27,Int32Array.from([6,34,62,90,118]),new ye(30,new ee(8,122),new ee(4,123)),new ye(28,new ee(22,45),new ee(3,46)),new ye(30,new ee(8,23),new ee(26,24)),new ye(30,new ee(12,15),new ee(28,16))),new wt(28,Int32Array.from([6,26,50,74,98,122]),new ye(30,new ee(3,117),new ee(10,118)),new ye(28,new ee(3,45),new ee(23,46)),new ye(30,new ee(4,24),new ee(31,25)),new ye(30,new ee(11,15),new ee(31,16))),new wt(29,Int32Array.from([6,30,54,78,102,126]),new ye(30,new ee(7,116),new ee(7,117)),new ye(28,new ee(21,45),new ee(7,46)),new ye(30,new ee(1,23),new ee(37,24)),new ye(30,new ee(19,15),new ee(26,16))),new wt(30,Int32Array.from([6,26,52,78,104,130]),new ye(30,new ee(5,115),new ee(10,116)),new ye(28,new ee(19,47),new ee(10,48)),new ye(30,new ee(15,24),new ee(25,25)),new ye(30,new ee(23,15),new ee(25,16))),new wt(31,Int32Array.from([6,30,56,82,108,134]),new ye(30,new ee(13,115),new ee(3,116)),new ye(28,new ee(2,46),new ee(29,47)),new ye(30,new ee(42,24),new ee(1,25)),new ye(30,new ee(23,15),new ee(28,16))),new wt(32,Int32Array.from([6,34,60,86,112,138]),new ye(30,new ee(17,115)),new ye(28,new ee(10,46),new ee(23,47)),new ye(30,new ee(10,24),new ee(35,25)),new ye(30,new ee(19,15),new ee(35,16))),new wt(33,Int32Array.from([6,30,58,86,114,142]),new ye(30,new ee(17,115),new ee(1,116)),new ye(28,new ee(14,46),new ee(21,47)),new ye(30,new ee(29,24),new ee(19,25)),new ye(30,new ee(11,15),new ee(46,16))),new wt(34,Int32Array.from([6,34,62,90,118,146]),new ye(30,new ee(13,115),new ee(6,116)),new ye(28,new ee(14,46),new ee(23,47)),new ye(30,new ee(44,24),new ee(7,25)),new ye(30,new ee(59,16),new ee(1,17))),new wt(35,Int32Array.from([6,30,54,78,102,126,150]),new ye(30,new ee(12,121),new ee(7,122)),new ye(28,new ee(12,47),new ee(26,48)),new ye(30,new ee(39,24),new ee(14,25)),new ye(30,new ee(22,15),new ee(41,16))),new wt(36,Int32Array.from([6,24,50,76,102,128,154]),new ye(30,new ee(6,121),new ee(14,122)),new ye(28,new ee(6,47),new ee(34,48)),new ye(30,new ee(46,24),new ee(10,25)),new ye(30,new ee(2,15),new ee(64,16))),new wt(37,Int32Array.from([6,28,54,80,106,132,158]),new ye(30,new ee(17,122),new ee(4,123)),new ye(28,new ee(29,46),new ee(14,47)),new ye(30,new ee(49,24),new ee(10,25)),new ye(30,new ee(24,15),new ee(46,16))),new wt(38,Int32Array.from([6,32,58,84,110,136,162]),new ye(30,new ee(4,122),new ee(18,123)),new ye(28,new ee(13,46),new ee(32,47)),new ye(30,new ee(48,24),new ee(14,25)),new ye(30,new ee(42,15),new ee(32,16))),new wt(39,Int32Array.from([6,26,54,82,110,138,166]),new ye(30,new ee(20,117),new ee(4,118)),new ye(28,new ee(40,47),new ee(7,48)),new ye(30,new ee(43,24),new ee(22,25)),new ye(30,new ee(10,15),new ee(67,16))),new wt(40,Int32Array.from([6,30,58,86,114,142,170]),new ye(30,new ee(19,118),new ee(6,119)),new ye(28,new ee(18,47),new ee(31,48)),new ye(30,new ee(34,24),new ee(34,25)),new ye(30,new ee(20,15),new ee(61,16)))];var vn;(function(V){V[V.DATA_MASK_000=0]="DATA_MASK_000",V[V.DATA_MASK_001=1]="DATA_MASK_001",V[V.DATA_MASK_010=2]="DATA_MASK_010",V[V.DATA_MASK_011=3]="DATA_MASK_011",V[V.DATA_MASK_100=4]="DATA_MASK_100",V[V.DATA_MASK_101=5]="DATA_MASK_101",V[V.DATA_MASK_110=6]="DATA_MASK_110",V[V.DATA_MASK_111=7]="DATA_MASK_111"})(vn||(vn={}));class Kt{constructor(a,c){this.value=a,this.isMasked=c}unmaskBitMatrix(a,c){for(let h=0;h<c;h++)for(let y=0;y<c;y++)this.isMasked(h,y)&&a.flip(y,h)}}Kt.values=new Map([[vn.DATA_MASK_000,new Kt(vn.DATA_MASK_000,(V,a)=>(V+a&1)===0)],[vn.DATA_MASK_001,new Kt(vn.DATA_MASK_001,(V,a)=>(V&1)===0)],[vn.DATA_MASK_010,new Kt(vn.DATA_MASK_010,(V,a)=>a%3===0)],[vn.DATA_MASK_011,new Kt(vn.DATA_MASK_011,(V,a)=>(V+a)%3===0)],[vn.DATA_MASK_100,new Kt(vn.DATA_MASK_100,(V,a)=>(Math.floor(V/2)+Math.floor(a/3)&1)===0)],[vn.DATA_MASK_101,new Kt(vn.DATA_MASK_101,(V,a)=>V*a%6===0)],[vn.DATA_MASK_110,new Kt(vn.DATA_MASK_110,(V,a)=>V*a%6<3)],[vn.DATA_MASK_111,new Kt(vn.DATA_MASK_111,(V,a)=>(V+a+V*a%3&1)===0)]]);class lg{constructor(a){const c=a.getHeight();if(c<21||(c&3)!==1)throw new U;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let v=0;v<6;v++)a=this.copyBit(v,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let v=5;v>=0;v--)a=this.copyBit(8,v,a);const c=this.bitMatrix.getHeight();let h=0;const y=c-7;for(let v=c-1;v>=y;v--)h=this.copyBit(8,v,h);for(let v=c-8;v<c;v++)h=this.copyBit(v,8,h);if(this.parsedFormatInfo=Vn.decodeFormatInformation(a,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),c=Math.floor((a-17)/4);if(c<=6)return wt.getVersionForNumber(c);let h=0;const y=a-11;for(let w=5;w>=0;w--)for(let S=a-9;S>=y;S--)h=this.copyBit(S,w,h);let v=wt.decodeVersionInformation(h);if(v!==null&&v.getDimensionForVersion()===a)return this.parsedVersion=v,v;h=0;for(let w=5;w>=0;w--)for(let S=a-9;S>=y;S--)h=this.copyBit(w,S,h);if(v=wt.decodeVersionInformation(h),v!==null&&v.getDimensionForVersion()===a)return this.parsedVersion=v,v;throw new U}copyBit(a,c,h){return(this.isMirror?this.bitMatrix.get(c,a):this.bitMatrix.get(a,c))?h<<1|1:h<<1}readCodewords(){const a=this.readFormatInformation(),c=this.readVersion(),h=Kt.values.get(a.getDataMask()),y=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,y);const v=c.buildFunctionPattern();let w=!0;const S=new Uint8Array(c.getTotalCodewords());let N=0,j=0,$=0;for(let q=y-1;q>0;q-=2){q===6&&q--;for(let X=0;X<y;X++){const te=w?y-1-X:X;for(let de=0;de<2;de++)v.get(q-de,te)||($++,j<<=1,this.bitMatrix.get(q-de,te)&&(j|=1),$===8&&(S[N++]=j,$=0,j=0))}w=!w}if(N!==c.getTotalCodewords())throw new U;return S}remask(){if(this.parsedFormatInfo===null)return;const a=Kt.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let c=0,h=a.getWidth();c<h;c++)for(let y=c+1,v=a.getHeight();y<v;y++)a.get(c,y)!==a.get(y,c)&&(a.flip(y,c),a.flip(c,y))}}class ku{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c,h){if(a.length!==c.getTotalCodewords())throw new x;const y=c.getECBlocksForLevel(h);let v=0;const w=y.getECBlocks();for(const de of w)v+=de.getCount();const S=new Array(v);let N=0;for(const de of w)for(let he=0;he<de.getCount();he++){const ge=de.getDataCodewords(),_e=y.getECCodewordsPerBlock()+ge;S[N++]=new ku(ge,new Uint8Array(_e))}const j=S[0].codewords.length;let $=S.length-1;for(;$>=0&&S[$].codewords.length!==j;)$--;$++;const q=j-y.getECCodewordsPerBlock();let X=0;for(let de=0;de<q;de++)for(let he=0;he<N;he++)S[he].codewords[de]=a[X++];for(let de=$;de<N;de++)S[de].codewords[q]=a[X++];const te=S[0].codewords.length;for(let de=q;de<te;de++)for(let he=0;he<N;he++){const ge=he<$?de:de+1;S[he].codewords[ge]=a[X++]}return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Pi;(function(V){V[V.TERMINATOR=0]="TERMINATOR",V[V.NUMERIC=1]="NUMERIC",V[V.ALPHANUMERIC=2]="ALPHANUMERIC",V[V.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",V[V.BYTE=4]="BYTE",V[V.ECI=5]="ECI",V[V.KANJI=6]="KANJI",V[V.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",V[V.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",V[V.HANZI=9]="HANZI"})(Pi||(Pi={}));class Et{constructor(a,c,h,y){this.value=a,this.stringValue=c,this.characterCountBitsForVersions=h,this.bits=y,Et.FOR_BITS.set(y,this),Et.FOR_VALUE.set(a,this)}static forBits(a){const c=Et.FOR_BITS.get(a);if(c===void 0)throw new x;return c}getCharacterCountBits(a){const c=a.getVersionNumber();let h;return c<=9?h=0:c<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof Et))return!1;const c=a;return this.value===c.value}toString(){return this.stringValue}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.TERMINATOR=new Et(Pi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Et.NUMERIC=new Et(Pi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Et.ALPHANUMERIC=new Et(Pi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Et.STRUCTURED_APPEND=new Et(Pi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Et.BYTE=new Et(Pi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Et.ECI=new Et(Pi.ECI,"ECI",Int32Array.from([0,0,0]),7),Et.KANJI=new Et(Pi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Et.FNC1_FIRST_POSITION=new Et(Pi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Et.FNC1_SECOND_POSITION=new Et(Pi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Et.HANZI=new Et(Pi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ur{static decode(a,c,h,y){const v=new lh(a);let w=new Z;const S=new Array;let N=-1,j=-1;try{let $=null,q=!1,X;do{if(v.available()<4)X=Et.TERMINATOR;else{const te=v.readBits(4);X=Et.forBits(te)}switch(X){case Et.TERMINATOR:break;case Et.FNC1_FIRST_POSITION:case Et.FNC1_SECOND_POSITION:q=!0;break;case Et.STRUCTURED_APPEND:if(v.available()<16)throw new U;N=v.readBits(8),j=v.readBits(8);break;case Et.ECI:const te=Ur.parseECIValue(v);if($=W.getCharacterSetECIByValue(te),$===null)throw new U;break;case Et.HANZI:const de=v.readBits(4),he=v.readBits(X.getCharacterCountBits(c));de===Ur.GB2312_SUBSET&&Ur.decodeHanziSegment(v,w,he);break;default:const ge=v.readBits(X.getCharacterCountBits(c));switch(X){case Et.NUMERIC:Ur.decodeNumericSegment(v,w,ge);break;case Et.ALPHANUMERIC:Ur.decodeAlphanumericSegment(v,w,ge,q);break;case Et.BYTE:Ur.decodeByteSegment(v,w,ge,$,S,y);break;case Et.KANJI:Ur.decodeKanjiSegment(v,w,ge);break;default:throw new U}break}}while(X!==Et.TERMINATOR)}catch{throw new U}return new Te(a,w.toString(),S.length===0?null:S,h===null?null:h.toString(),N,j)}static decodeHanziSegment(a,c,h){if(h*13>a.available())throw new U;const y=new Uint8Array(2*h);let v=0;for(;h>0;){const w=a.readBits(13);let S=w/96<<8&4294967295|w%96;S<959?S+=41377:S+=42657,y[v]=S>>8&255,y[v+1]=S&255,v+=2,h--}try{c.append(K.decode(y,z.GB2312))}catch(w){throw new U(w)}}static decodeKanjiSegment(a,c,h){if(h*13>a.available())throw new U;const y=new Uint8Array(2*h);let v=0;for(;h>0;){const w=a.readBits(13);let S=w/192<<8&4294967295|w%192;S<7936?S+=33088:S+=49472,y[v]=S>>8,y[v+1]=S,v+=2,h--}try{c.append(K.decode(y,z.SHIFT_JIS))}catch(w){throw new U(w)}}static decodeByteSegment(a,c,h,y,v,w){if(8*h>a.available())throw new U;const S=new Uint8Array(h);for(let j=0;j<h;j++)S[j]=a.readBits(8);let N;y===null?N=z.guessEncoding(S,w):N=y.getName();try{c.append(K.decode(S,N))}catch(j){throw new U(j)}v.push(S)}static toAlphaNumericChar(a){if(a>=Ur.ALPHANUMERIC_CHARS.length)throw new U;return Ur.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,c,h,y){const v=c.length();for(;h>1;){if(a.available()<11)throw new U;const w=a.readBits(11);c.append(Ur.toAlphaNumericChar(Math.floor(w/45))),c.append(Ur.toAlphaNumericChar(w%45)),h-=2}if(h===1){if(a.available()<6)throw new U;c.append(Ur.toAlphaNumericChar(a.readBits(6)))}if(y)for(let w=v;w<c.length();w++)c.charAt(w)==="%"&&(w<c.length()-1&&c.charAt(w+1)==="%"?c.deleteCharAt(w+1):c.setCharAt(w,""))}static decodeNumericSegment(a,c,h){for(;h>=3;){if(a.available()<10)throw new U;const y=a.readBits(10);if(y>=1e3)throw new U;c.append(Ur.toAlphaNumericChar(Math.floor(y/100))),c.append(Ur.toAlphaNumericChar(Math.floor(y/10)%10)),c.append(Ur.toAlphaNumericChar(y%10)),h-=3}if(h===2){if(a.available()<7)throw new U;const y=a.readBits(7);if(y>=100)throw new U;c.append(Ur.toAlphaNumericChar(Math.floor(y/10))),c.append(Ur.toAlphaNumericChar(y%10))}else if(h===1){if(a.available()<4)throw new U;const y=a.readBits(4);if(y>=10)throw new U;c.append(Ur.toAlphaNumericChar(y))}}static parseECIValue(a){const c=a.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const h=a.readBits(8);return(c&63)<<8&4294967295|h}if((c&224)===192){const h=a.readBits(16);return(c&31)<<16&4294967295|h}throw new U}}Ur.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ur.GB2312_SUBSET=1;class ch{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const c=a[0];a[0]=a[2],a[2]=c}}class uh{constructor(){this.rsDecoder=new Ke(et.QR_CODE_FIELD_256)}decodeBooleanArray(a,c){return this.decodeBitMatrix(Q.parseFromBooleanArray(a),c)}decodeBitMatrix(a,c){const h=new lg(a);let y=null;try{return this.decodeBitMatrixParser(h,c)}catch(v){y=v}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const v=this.decodeBitMatrixParser(h,c);return v.setOther(new ch(!0)),v}catch(v){throw y!==null?y:v}}decodeBitMatrixParser(a,c){const h=a.readVersion(),y=a.readFormatInformation().getErrorCorrectionLevel(),v=a.readCodewords(),w=ku.getDataBlocks(v,h,y);let S=0;for(const $ of w)S+=$.getNumDataCodewords();const N=new Uint8Array(S);let j=0;for(const $ of w){const q=$.getCodewords(),X=$.getNumDataCodewords();this.correctErrors(q,X);for(let te=0;te<X;te++)N[j++]=q[te]}return Ur.decode(N,h,y,c)}correctErrors(a,c){const h=new Int32Array(a);try{this.rsDecoder.decode(h,a.length-c)}catch{throw new T}for(let y=0;y<c;y++)a[y]=h[y]}}class cl extends Fe{constructor(a,c,h){super(a,c),this.estimatedModuleSize=h}aboutEquals(a,c,h){if(Math.abs(c-this.getY())<=a&&Math.abs(h-this.getX())<=a){const y=Math.abs(a-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(a,c,h){const y=(this.getX()+c)/2,v=(this.getY()+a)/2,w=(this.estimatedModuleSize+h)/2;return new cl(y,v,w)}}class gs{constructor(a,c,h,y,v,w,S){this.image=a,this.startX=c,this.startY=h,this.width=y,this.height=v,this.moduleSize=w,this.resultPointCallback=S,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,c=this.height,h=this.width,y=a+h,v=this.startY+c/2,w=new Int32Array(3),S=this.image;for(let N=0;N<c;N++){const j=v+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));w[0]=0,w[1]=0,w[2]=0;let $=a;for(;$<y&&!S.get($,j);)$++;let q=0;for(;$<y;){if(S.get($,j))if(q===1)w[1]++;else if(q===2){if(this.foundPatternCross(w)){const X=this.handlePossibleCenter(w,j,$);if(X!==null)return X}w[0]=w[2],w[1]=1,w[2]=0,q=1}else w[++q]++;else q===1&&q++,w[q]++;$++}if(this.foundPatternCross(w)){const X=this.handlePossibleCenter(w,j,y);if(X!==null)return X}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(a,c){return c-a[2]-a[1]/2}foundPatternCross(a){const c=this.moduleSize,h=c/2;for(let y=0;y<3;y++)if(Math.abs(c-a[y])>=h)return!1;return!0}crossCheckVertical(a,c,h,y){const v=this.image,w=v.getHeight(),S=this.crossCheckStateCount;S[0]=0,S[1]=0,S[2]=0;let N=a;for(;N>=0&&v.get(c,N)&&S[1]<=h;)S[1]++,N--;if(N<0||S[1]>h)return NaN;for(;N>=0&&!v.get(c,N)&&S[0]<=h;)S[0]++,N--;if(S[0]>h)return NaN;for(N=a+1;N<w&&v.get(c,N)&&S[1]<=h;)S[1]++,N++;if(N===w||S[1]>h)return NaN;for(;N<w&&!v.get(c,N)&&S[2]<=h;)S[2]++,N++;if(S[2]>h)return NaN;const j=S[0]+S[1]+S[2];return 5*Math.abs(j-y)>=2*y?NaN:this.foundPatternCross(S)?gs.centerFromEnd(S,N):NaN}handlePossibleCenter(a,c,h){const y=a[0]+a[1]+a[2],v=gs.centerFromEnd(a,h),w=this.crossCheckVertical(c,v,2*a[1],y);if(!isNaN(w)){const S=(a[0]+a[1]+a[2])/3;for(const j of this.possibleCenters)if(j.aboutEquals(S,w,v))return j.combineEstimate(w,v,S);const N=new cl(v,w,S);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class $s extends Fe{constructor(a,c,h,y){super(a,c),this.estimatedModuleSize=h,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,c,h){if(Math.abs(c-this.getY())<=a&&Math.abs(h-this.getX())<=a){const y=Math.abs(a-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(a,c,h){const y=this.count+1,v=(this.count*this.getX()+c)/y,w=(this.count*this.getY()+a)/y,S=(this.count*this.estimatedModuleSize+h)/y;return new $s(v,w,S,y)}}class Va{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class en{constructor(a,c){this.image=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const c=a!=null&&a.get(F.TRY_HARDER)!==void 0,h=a!=null&&a.get(F.PURE_BARCODE)!==void 0,y=this.image,v=y.getHeight(),w=y.getWidth();let S=Math.floor(3*v/(4*en.MAX_MODULES));(S<en.MIN_SKIP||c)&&(S=en.MIN_SKIP);let N=!1;const j=new Int32Array(5);for(let q=S-1;q<v&&!N;q+=S){j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0;let X=0;for(let te=0;te<w;te++)if(y.get(te,q))(X&1)===1&&X++,j[X]++;else if((X&1)===0)if(X===4)if(en.foundPatternCross(j)){if(this.handlePossibleCenter(j,q,te,h)===!0)if(S=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const he=this.findRowSkip();he>j[2]&&(q+=he-j[2]-S,te=w-1)}else{j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,X=3;continue}X=0,j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0}else j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,X=3;else j[++X]++;else j[X]++;en.foundPatternCross(j)&&this.handlePossibleCenter(j,q,w,h)===!0&&(S=j[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const $=this.selectBestPatterns();return Fe.orderBestPatterns($),new Va($)}static centerFromEnd(a,c){return c-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let c=0;for(let v=0;v<5;v++){const w=a[v];if(w===0)return!1;c+=w}if(c<7)return!1;const h=c/7,y=h/2;return Math.abs(h-a[0])<y&&Math.abs(h-a[1])<y&&Math.abs(3*h-a[2])<3*y&&Math.abs(h-a[3])<y&&Math.abs(h-a[4])<y}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,c,h,y){const v=this.getCrossCheckStateCount();let w=0;const S=this.image;for(;a>=w&&c>=w&&S.get(c-w,a-w);)v[2]++,w++;if(a<w||c<w)return!1;for(;a>=w&&c>=w&&!S.get(c-w,a-w)&&v[1]<=h;)v[1]++,w++;if(a<w||c<w||v[1]>h)return!1;for(;a>=w&&c>=w&&S.get(c-w,a-w)&&v[0]<=h;)v[0]++,w++;if(v[0]>h)return!1;const N=S.getHeight(),j=S.getWidth();for(w=1;a+w<N&&c+w<j&&S.get(c+w,a+w);)v[2]++,w++;if(a+w>=N||c+w>=j)return!1;for(;a+w<N&&c+w<j&&!S.get(c+w,a+w)&&v[3]<h;)v[3]++,w++;if(a+w>=N||c+w>=j||v[3]>=h)return!1;for(;a+w<N&&c+w<j&&S.get(c+w,a+w)&&v[4]<h;)v[4]++,w++;if(v[4]>=h)return!1;const $=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs($-y)<2*y&&en.foundPatternCross(v)}crossCheckVertical(a,c,h,y){const v=this.image,w=v.getHeight(),S=this.getCrossCheckStateCount();let N=a;for(;N>=0&&v.get(c,N);)S[2]++,N--;if(N<0)return NaN;for(;N>=0&&!v.get(c,N)&&S[1]<=h;)S[1]++,N--;if(N<0||S[1]>h)return NaN;for(;N>=0&&v.get(c,N)&&S[0]<=h;)S[0]++,N--;if(S[0]>h)return NaN;for(N=a+1;N<w&&v.get(c,N);)S[2]++,N++;if(N===w)return NaN;for(;N<w&&!v.get(c,N)&&S[3]<h;)S[3]++,N++;if(N===w||S[3]>=h)return NaN;for(;N<w&&v.get(c,N)&&S[4]<h;)S[4]++,N++;if(S[4]>=h)return NaN;const j=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(j-y)>=2*y?NaN:en.foundPatternCross(S)?en.centerFromEnd(S,N):NaN}crossCheckHorizontal(a,c,h,y){const v=this.image,w=v.getWidth(),S=this.getCrossCheckStateCount();let N=a;for(;N>=0&&v.get(N,c);)S[2]++,N--;if(N<0)return NaN;for(;N>=0&&!v.get(N,c)&&S[1]<=h;)S[1]++,N--;if(N<0||S[1]>h)return NaN;for(;N>=0&&v.get(N,c)&&S[0]<=h;)S[0]++,N--;if(S[0]>h)return NaN;for(N=a+1;N<w&&v.get(N,c);)S[2]++,N++;if(N===w)return NaN;for(;N<w&&!v.get(N,c)&&S[3]<h;)S[3]++,N++;if(N===w||S[3]>=h)return NaN;for(;N<w&&v.get(N,c)&&S[4]<h;)S[4]++,N++;if(S[4]>=h)return NaN;const j=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(j-y)>=y?NaN:en.foundPatternCross(S)?en.centerFromEnd(S,N):NaN}handlePossibleCenter(a,c,h,y){const v=a[0]+a[1]+a[2]+a[3]+a[4];let w=en.centerFromEnd(a,h),S=this.crossCheckVertical(c,Math.floor(w),a[2],v);if(!isNaN(S)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(S),a[2],v),!isNaN(w)&&(!y||this.crossCheckDiagonal(Math.floor(S),Math.floor(w),a[2],v)))){const N=v/7;let j=!1;const $=this.possibleCenters;for(let q=0,X=$.length;q<X;q++){const te=$[q];if(te.aboutEquals(N,S,w)){$[q]=te.combineEstimate(S,w,N),j=!0;break}}if(!j){const q=new $s(w,S,N);$.push(q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(q)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const h of this.possibleCenters)if(h.getCount()>=en.CENTER_QUORUM)if(c==null)c=h;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-h.getX())-Math.abs(c.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,c=0;const h=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=en.CENTER_QUORUM&&(a++,c+=w.getEstimatedModuleSize());if(a<3)return!1;const y=c/h;let v=0;for(const w of this.possibleCenters)v+=Math.abs(w.getEstimatedModuleSize()-y);return v<=.05*c}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new Y;const c=this.possibleCenters;let h;if(a>3){let y=0,v=0;for(const N of this.possibleCenters){const j=N.getEstimatedModuleSize();y+=j,v+=j*j}h=y/a;let w=Math.sqrt(v/a-h*h);c.sort((N,j)=>{const $=Math.abs(j.getEstimatedModuleSize()-h),q=Math.abs(N.getEstimatedModuleSize()-h);return $<q?-1:$>q?1:0});const S=Math.max(.2*h,w);for(let N=0;N<c.length&&c.length>3;N++){const j=c[N];Math.abs(j.getEstimatedModuleSize()-h)>S&&(c.splice(N,1),N--)}}if(c.length>3){let y=0;for(const v of c)y+=v.getEstimatedModuleSize();h=y/c.length,c.sort((v,w)=>{if(w.getCount()===v.getCount()){const S=Math.abs(w.getEstimatedModuleSize()-h),N=Math.abs(v.getEstimatedModuleSize()-h);return S<N?1:S>N?-1:0}else return w.getCount()-v.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}en.CENTER_QUORUM=2,en.MIN_SKIP=3,en.MAX_MODULES=57;class oa{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(F.NEED_RESULT_POINT_CALLBACK);const h=new en(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(h)}processFinderPatternInfo(a){const c=a.getTopLeft(),h=a.getTopRight(),y=a.getBottomLeft(),v=this.calculateModuleSize(c,h,y);if(v<1)throw new Y("No pattern found in proccess finder.");const w=oa.computeDimension(c,h,y,v),S=wt.getProvisionalVersionForDimension(w),N=S.getDimensionForVersion()-7;let j=null;if(S.getAlignmentPatternCenters().length>0){const te=h.getX()-c.getX()+y.getX(),de=h.getY()-c.getY()+y.getY(),he=1-3/N,ge=Math.floor(c.getX()+he*(te-c.getX())),_e=Math.floor(c.getY()+he*(de-c.getY()));for(let qe=4;qe<=16;qe<<=1)try{j=this.findAlignmentInRegion(v,ge,_e,qe);break}catch(He){if(!(He instanceof Y))throw He}}const $=oa.createTransform(c,h,y,j,w),q=oa.sampleGrid(this.image,$,w);let X;return j===null?X=[y,c,h]:X=[y,c,h,j],new le(q,X)}static createTransform(a,c,h,y,v){const w=v-3.5;let S,N,j,$;return y!==null?(S=y.getX(),N=y.getY(),j=w-3,$=j):(S=c.getX()-a.getX()+h.getX(),N=c.getY()-a.getY()+h.getY(),j=w,$=w),Ge.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,j,$,3.5,w,a.getX(),a.getY(),c.getX(),c.getY(),S,N,h.getX(),h.getY())}static sampleGrid(a,c,h){return nt.getInstance().sampleGridWithTransform(a,h,h,c)}static computeDimension(a,c,h,y){const v=dt.round(Fe.distance(a,c)/y),w=dt.round(Fe.distance(a,h)/y);let S=Math.floor((v+w)/2)+7;switch(S&3){case 0:S++;break;case 2:S--;break;case 3:throw new Y("Dimensions could be not found.")}return S}calculateModuleSize(a,c,h){return(this.calculateModuleSizeOneWay(a,c)+this.calculateModuleSizeOneWay(a,h))/2}calculateModuleSizeOneWay(a,c){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(c.getX()),Math.floor(c.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(h)?y/7:isNaN(y)?h/7:(h+y)/14}sizeOfBlackWhiteBlackRunBothWays(a,c,h,y){let v=this.sizeOfBlackWhiteBlackRun(a,c,h,y),w=1,S=a-(h-a);S<0?(w=a/(a-S),S=0):S>=this.image.getWidth()&&(w=(this.image.getWidth()-1-a)/(S-a),S=this.image.getWidth()-1);let N=Math.floor(c-(y-c)*w);return w=1,N<0?(w=c/(c-N),N=0):N>=this.image.getHeight()&&(w=(this.image.getHeight()-1-c)/(N-c),N=this.image.getHeight()-1),S=Math.floor(a+(S-a)*w),v+=this.sizeOfBlackWhiteBlackRun(a,c,S,N),v-1}sizeOfBlackWhiteBlackRun(a,c,h,y){const v=Math.abs(y-c)>Math.abs(h-a);if(v){let te=a;a=c,c=te,te=h,h=y,y=te}const w=Math.abs(h-a),S=Math.abs(y-c);let N=-w/2;const j=a<h?1:-1,$=c<y?1:-1;let q=0;const X=h+j;for(let te=a,de=c;te!==X;te+=j){const he=v?de:te,ge=v?te:de;if(q===1===this.image.get(he,ge)){if(q===2)return dt.distance(te,de,a,c);q++}if(N+=S,N>0){if(de===y)break;de+=$,N-=w}}return q===2?dt.distance(h+j,y,a,c):NaN}findAlignmentInRegion(a,c,h,y){const v=Math.floor(y*a),w=Math.max(0,c-v),S=Math.min(this.image.getWidth()-1,c+v);if(S-w<a*3)throw new Y("Alignment top exceeds estimated module size.");const N=Math.max(0,h-v),j=Math.min(this.image.getHeight()-1,h+v);if(j-N<a*3)throw new Y("Alignment bottom exceeds estimated module size.");return new gs(this.image,w,N,S-w,j-N,a,this.resultPointCallback).find()}}class yi{constructor(){this.decoder=new uh}getDecoder(){return this.decoder}decode(a,c){let h,y;if(c!=null&&c.get(F.PURE_BARCODE)!==void 0){const N=yi.extractPureBits(a.getBlackMatrix());h=this.decoder.decodeBitMatrix(N,c),y=yi.NO_POINTS}else{const N=new oa(a.getBlackMatrix()).detect(c);h=this.decoder.decodeBitMatrix(N.getBits(),c),y=N.getPoints()}h.getOther()instanceof ch&&h.getOther().applyMirroredCorrection(y);const v=new Pe(h.getText(),h.getRawBytes(),void 0,y,Ie.QR_CODE,void 0),w=h.getByteSegments();w!==null&&v.putMetadata(Be.BYTE_SEGMENTS,w);const S=h.getECLevel();return S!==null&&v.putMetadata(Be.ERROR_CORRECTION_LEVEL,S),h.hasStructuredAppend()&&(v.putMetadata(Be.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),v.putMetadata(Be.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),v}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),h=a.getBottomRightOnBit();if(c===null||h===null)throw new Y;const y=this.moduleSize(c,a);let v=c[1],w=h[1],S=c[0],N=h[0];if(S>=N||v>=w)throw new Y;if(w-v!==N-S&&(N=S+(w-v),N>=a.getWidth()))throw new Y;const j=Math.round((N-S+1)/y),$=Math.round((w-v+1)/y);if(j<=0||$<=0)throw new Y;if($!==j)throw new Y;const q=Math.floor(y/2);v+=q,S+=q;const X=S+Math.floor((j-1)*y)-N;if(X>0){if(X>q)throw new Y;S-=X}const te=v+Math.floor(($-1)*y)-w;if(te>0){if(te>q)throw new Y;v-=te}const de=new Q(j,$);for(let he=0;he<$;he++){const ge=v+Math.floor(he*y);for(let _e=0;_e<j;_e++)a.get(S+Math.floor(_e*y),ge)&&de.set(_e,he)}return de}static moduleSize(a,c){const h=c.getHeight(),y=c.getWidth();let v=a[0],w=a[1],S=!0,N=0;for(;v<y&&w<h;){if(S!==c.get(v,w)){if(++N===5)break;S=!S}v++,w++}if(v===y||w===h)throw new Y;return(v-a[0])/7}}yi.NO_POINTS=new Array;class It{PDF417Common(){}static getBitCountSum(a){return dt.sum(a)}static toIntArray(a){if(a==null||!a.length)return It.EMPTY_INT_ARRAY;const c=new Int32Array(a.length);let h=0;for(const y of a)c[h++]=y;return c}static getCodeword(a){const c=P.binarySearch(It.SYMBOL_TABLE,a&262143);return c<0?-1:(It.CODEWORD_TABLE[c]-1)%It.NUMBER_OF_CODEWORDS}}It.NUMBER_OF_CODEWORDS=929,It.MAX_CODEWORDS_IN_BARCODE=It.NUMBER_OF_CODEWORDS-1,It.MIN_ROWS_IN_BARCODE=3,It.MAX_ROWS_IN_BARCODE=90,It.MODULES_IN_CODEWORD=17,It.MODULES_IN_STOP_PATTERN=18,It.BARS_IN_MODULE=8,It.EMPTY_INT_ARRAY=new Int32Array([]),It.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),It.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class cg{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class $t{static detectMultiple(a,c,h){let y=a.getBlackMatrix(),v=$t.detect(h,y);return v.length||(y=y.clone(),y.rotate180(),v=$t.detect(h,y)),new cg(y,v)}static detect(a,c){const h=new Array;let y=0,v=0,w=!1;for(;y<c.getHeight();){const S=$t.findVertices(c,y,v);if(S[0]==null&&S[3]==null){if(!w)break;w=!1,v=0;for(const N of h)N[1]!=null&&(y=Math.trunc(Math.max(y,N[1].getY()))),N[3]!=null&&(y=Math.max(y,Math.trunc(N[3].getY())));y+=$t.ROW_STEP;continue}if(w=!0,h.push(S),!a)break;S[2]!=null?(v=Math.trunc(S[2].getX()),y=Math.trunc(S[2].getY())):(v=Math.trunc(S[4].getX()),y=Math.trunc(S[4].getY()))}return h}static findVertices(a,c,h){const y=a.getHeight(),v=a.getWidth(),w=new Array(8);return $t.copyToResult(w,$t.findRowsWithPattern(a,y,v,c,h,$t.START_PATTERN),$t.INDEXES_START_PATTERN),w[4]!=null&&(h=Math.trunc(w[4].getX()),c=Math.trunc(w[4].getY())),$t.copyToResult(w,$t.findRowsWithPattern(a,y,v,c,h,$t.STOP_PATTERN),$t.INDEXES_STOP_PATTERN),w}static copyToResult(a,c,h){for(let y=0;y<h.length;y++)a[h[y]]=c[y]}static findRowsWithPattern(a,c,h,y,v,w){const S=new Array(4);let N=!1;const j=new Int32Array(w.length);for(;y<c;y+=$t.ROW_STEP){let q=$t.findGuardPattern(a,v,y,h,!1,w,j);if(q!=null){for(;y>0;){const X=$t.findGuardPattern(a,v,--y,h,!1,w,j);if(X!=null)q=X;else{y++;break}}S[0]=new Fe(q[0],y),S[1]=new Fe(q[1],y),N=!0;break}}let $=y+1;if(N){let q=0,X=Int32Array.from([Math.trunc(S[0].getX()),Math.trunc(S[1].getX())]);for(;$<c;$++){const te=$t.findGuardPattern(a,X[0],$,h,!1,w,j);if(te!=null&&Math.abs(X[0]-te[0])<$t.MAX_PATTERN_DRIFT&&Math.abs(X[1]-te[1])<$t.MAX_PATTERN_DRIFT)X=te,q=0;else{if(q>$t.SKIPPED_ROW_COUNT_MAX)break;q++}}$-=q+1,S[2]=new Fe(X[0],$),S[3]=new Fe(X[1],$)}return $-y<$t.BARCODE_MIN_HEIGHT&&P.fill(S,null),S}static findGuardPattern(a,c,h,y,v,w,S){P.fillWithin(S,0,S.length,0);let N=c,j=0;for(;a.get(N,h)&&N>0&&j++<$t.MAX_PIXEL_DRIFT;)N--;let $=N,q=0,X=w.length;for(let te=v;$<y;$++)if(a.get($,h)!==te)S[q]++;else{if(q===X-1){if($t.patternMatchVariance(S,w,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return new Int32Array([N,$]);N+=S[0]+S[1],E.arraycopy(S,2,S,0,q-1),S[q-1]=0,S[q]=0,q--}else q++;S[q]=1,te=!te}return q===X-1&&$t.patternMatchVariance(S,w,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE?new Int32Array([N,$-1]):null}static patternMatchVariance(a,c,h){let y=a.length,v=0,w=0;for(let j=0;j<y;j++)v+=a[j],w+=c[j];if(v<w)return 1/0;let S=v/w;h*=S;let N=0;for(let j=0;j<y;j++){let $=a[j],q=c[j]*S,X=$>q?$-q:q-$;if(X>h)return 1/0;N+=X}return N/v}}$t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$t.MAX_AVG_VARIANCE=.42,$t.MAX_INDIVIDUAL_VARIANCE=.8,$t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$t.MAX_PIXEL_DRIFT=3,$t.MAX_PATTERN_DRIFT=5,$t.SKIPPED_ROW_COUNT_MAX=25,$t.ROW_STEP=5,$t.BARCODE_MIN_HEIGHT=10;class qn{constructor(a,c){if(c.length===0)throw new x;this.field=a;let h=c.length;if(h>1&&c[0]===0){let y=1;for(;y<h&&c[y]===0;)y++;y===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-y),E.arraycopy(c,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let y=0;for(let v of this.coefficients)y=this.field.add(y,v);return y}let c=this.coefficients[0],h=this.coefficients.length;for(let y=1;y<h;y++)c=this.field.add(this.field.multiply(a,c),this.coefficients[y]);return c}add(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,h=a.coefficients;if(c.length>h.length){let w=c;c=h,h=w}let y=new Int32Array(h.length),v=h.length-c.length;E.arraycopy(h,0,y,0,v);for(let w=v;w<h.length;w++)y[w]=this.field.add(c[w-v],h[w]);return new qn(this.field,y)}subtract(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof qn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new qn(this.field,new Int32Array([0]));let c=this.coefficients,h=c.length,y=a.coefficients,v=y.length,w=new Int32Array(h+v-1);for(let S=0;S<h;S++){let N=c[S];for(let j=0;j<v;j++)w[S+j]=this.field.add(w[S+j],this.field.multiply(N,y[j]))}return new qn(this.field,w)}negative(){let a=this.coefficients.length,c=new Int32Array(a);for(let h=0;h<a;h++)c[h]=this.field.subtract(0,this.coefficients[h]);return new qn(this.field,c)}multiplyScalar(a){if(a===0)return new qn(this.field,new Int32Array([0]));if(a===1)return this;let c=this.coefficients.length,h=new Int32Array(c);for(let y=0;y<c;y++)h[y]=this.field.multiply(this.coefficients[y],a);return new qn(this.field,h)}multiplyByMonomial(a,c){if(a<0)throw new x;if(c===0)return new qn(this.field,new Int32Array([0]));let h=this.coefficients.length,y=new Int32Array(h+a);for(let v=0;v<h;v++)y[v]=this.field.multiply(this.coefficients[v],c);return new qn(this.field,y)}toString(){let a=new Z;for(let c=this.getDegree();c>=0;c--){let h=this.getCoefficient(c);h!==0&&(h<0?(a.append(" - "),h=-h):a.length()>0&&a.append(" + "),(c===0||h!==1)&&a.append(h),c!==0&&(c===1?a.append("x"):(a.append("x^"),a.append(c))))}return a.toString()}}class ug{add(a,c){return(a+c)%this.modulus}subtract(a,c){return(this.modulus+a-c)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new x;return this.logTable[a]}inverse(a){if(a===0)throw new Ce;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class ul extends ug{constructor(a,c){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let h=1;for(let y=0;y<a;y++)this.expTable[y]=h,h=h*c%a;for(let y=0;y<a-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new qn(this,new Int32Array([0])),this.one=new qn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new x;if(c===0)return this.zero;let h=new Int32Array(a+1);return h[0]=c,new qn(this,h)}}ul.PDF417_GF=new ul(It.NUMBER_OF_CODEWORDS,3);class dh{constructor(){this.field=ul.PDF417_GF}decode(a,c,h){let y=new qn(this.field,a),v=new Int32Array(c),w=!1;for(let de=c;de>0;de--){let he=y.evaluateAt(this.field.exp(de));v[c-de]=he,he!==0&&(w=!0)}if(!w)return 0;let S=this.field.getOne();if(h!=null)for(const de of h){let he=this.field.exp(a.length-1-de),ge=new qn(this.field,new Int32Array([this.field.subtract(0,he),1]));S=S.multiply(ge)}let N=new qn(this.field,v),j=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),N,c),$=j[0],q=j[1],X=this.findErrorLocations($),te=this.findErrorMagnitudes(q,$,X);for(let de=0;de<X.length;de++){let he=a.length-1-this.field.log(X[de]);if(he<0)throw T.getChecksumInstance();a[he]=this.field.subtract(a[he],te[de])}return X.length}runEuclideanAlgorithm(a,c,h){if(a.getDegree()<c.getDegree()){let X=a;a=c,c=X}let y=a,v=c,w=this.field.getZero(),S=this.field.getOne();for(;v.getDegree()>=Math.round(h/2);){let X=y,te=w;if(y=v,w=S,y.isZero())throw T.getChecksumInstance();v=X;let de=this.field.getZero(),he=y.getCoefficient(y.getDegree()),ge=this.field.inverse(he);for(;v.getDegree()>=y.getDegree()&&!v.isZero();){let _e=v.getDegree()-y.getDegree(),qe=this.field.multiply(v.getCoefficient(v.getDegree()),ge);de=de.add(this.field.buildMonomial(_e,qe)),v=v.subtract(y.multiplyByMonomial(_e,qe))}S=de.multiply(w).subtract(te).negative()}let N=S.getCoefficient(0);if(N===0)throw T.getChecksumInstance();let j=this.field.inverse(N),$=S.multiply(j),q=v.multiply(j);return[$,q]}findErrorLocations(a){let c=a.getDegree(),h=new Int32Array(c),y=0;for(let v=1;v<this.field.getSize()&&y<c;v++)a.evaluateAt(v)===0&&(h[y]=this.field.inverse(v),y++);if(y!==c)throw T.getChecksumInstance();return h}findErrorMagnitudes(a,c,h){let y=c.getDegree(),v=new Int32Array(y);for(let j=1;j<=y;j++)v[y-j]=this.field.multiply(j,c.getCoefficient(j));let w=new qn(this.field,v),S=h.length,N=new Int32Array(S);for(let j=0;j<S;j++){let $=this.field.inverse(h[j]),q=this.field.subtract(0,a.evaluateAt($)),X=this.field.inverse(w.evaluateAt($));N[j]=this.field.multiply(q,X)}return N}}class mo{constructor(a,c,h,y,v){a instanceof mo?this.constructor_2(a):this.constructor_1(a,c,h,y,v)}constructor_1(a,c,h,y,v){const w=c==null||h==null,S=y==null||v==null;if(w&&S)throw new Y;w?(c=new Fe(0,y.getY()),h=new Fe(0,v.getY())):S&&(y=new Fe(a.getWidth()-1,c.getY()),v=new Fe(a.getWidth()-1,h.getY())),this.image=a,this.topLeft=c,this.bottomLeft=h,this.topRight=y,this.bottomRight=v,this.minX=Math.trunc(Math.min(c.getX(),h.getX())),this.maxX=Math.trunc(Math.max(y.getX(),v.getX())),this.minY=Math.trunc(Math.min(c.getY(),y.getY())),this.maxY=Math.trunc(Math.max(h.getY(),v.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,c){return a==null?c:c==null?a:new mo(a.image,a.topLeft,a.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(a,c,h){let y=this.topLeft,v=this.bottomLeft,w=this.topRight,S=this.bottomRight;if(a>0){let N=h?this.topLeft:this.topRight,j=Math.trunc(N.getY()-a);j<0&&(j=0);let $=new Fe(N.getX(),j);h?y=$:w=$}if(c>0){let N=h?this.bottomLeft:this.bottomRight,j=Math.trunc(N.getY()+c);j>=this.image.getHeight()&&(j=this.image.getHeight()-1);let $=new Fe(N.getX(),j);h?v=$:S=$}return new mo(this.image,y,v,w,S)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class hc{constructor(a,c,h,y){this.columnCount=a,this.errorCorrectionLevel=y,this.rowCountUpperPart=c,this.rowCountLowerPart=h,this.rowCount=c+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class la{constructor(){this.buffer=""}static form(a,c){let h=-1;function y(w,S,N,j,$,q){if(w==="%%")return"%";if(c[++h]===void 0)return;w=j?parseInt(j.substr(1)):void 0;let X=$?parseInt($.substr(1)):void 0,te;switch(q){case"s":te=c[h];break;case"c":te=c[h][0];break;case"f":te=parseFloat(c[h]).toFixed(w);break;case"p":te=parseFloat(c[h]).toPrecision(w);break;case"e":te=parseFloat(c[h]).toExponential(w);break;case"x":te=parseInt(c[h]).toString(X||16);break;case"d":te=parseFloat(parseInt(c[h],X||10).toPrecision(w)).toFixed(0);break}te=typeof te=="object"?JSON.stringify(te):(+te).toString(X);let de=parseInt(N),he=N&&N[0]+""=="0"?"0":" ";for(;te.length<de;)te=S!==void 0?te+he:he+te;return te}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(v,y)}format(a,...c){this.buffer+=la.form(a,c)}toString(){return this.buffer}}class Vs{constructor(a){this.boundingBox=new mo(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let c=this.getCodeword(a);if(c!=null)return c;for(let h=1;h<Vs.MAX_NEARBY_DISTANCE;h++){let y=this.imageRowToCodewordIndex(a)-h;if(y>=0&&(c=this.codewords[y],c!=null)||(y=this.imageRowToCodewordIndex(a)+h,y<this.codewords.length&&(c=this.codewords[y],c!=null)))return c}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,c){this.codewords[this.imageRowToCodewordIndex(a)]=c}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new la;let c=0;for(const h of this.codewords){if(h==null){a.format("%3d:    |   %n",c++);continue}a.format("%3d: %3d|%3d%n",c++,h.getRowNumber(),h.getValue())}return a.toString()}}Vs.MAX_NEARBY_DISTANCE=5;class qa{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let c=this.values.get(a);c==null&&(c=0),c++,this.values.set(a,c)}getValue(){let a=-1,c=new Array;for(const[h,y]of this.values.entries()){const v={getKey:()=>h,getValue:()=>y};v.getValue()>a?(a=v.getValue(),c=[],c.push(v.getKey())):v.getValue()===a&&c.push(v.getKey())}return It.toIntArray(c)}getConfidence(a){return this.values.get(a)}}class dg extends Vs{constructor(a,c){super(a),this._isLeft=c}setRowNumbers(){for(let a of this.getCodewords())a?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,a);let h=this.getBoundingBox(),y=this._isLeft?h.getTopLeft():h.getTopRight(),v=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(y.getY())),S=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=-1,j=1,$=0;for(let q=w;q<S;q++){if(c[q]==null)continue;let X=c[q],te=X.getRowNumber()-N;if(te===0)$++;else if(te===1)j=Math.max(j,$),$=1,N=X.getRowNumber();else if(te<0||X.getRowNumber()>=a.getRowCount()||te>q)c[q]=null;else{let de;j>2?de=(j-2)*te:de=te;let he=de>=q;for(let ge=1;ge<=de&&!he;ge++)he=c[q-ge]!=null;he?c[q]=null:(N=X.getRowNumber(),$=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let c=new Int32Array(a.getRowCount());for(let h of this.getCodewords())if(h!=null){let y=h.getRowNumber();if(y>=c.length)continue;c[y]++}return c}adjustIncompleteIndicatorColumnRowNumbers(a){let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),y=this._isLeft?c.getBottomLeft():c.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(y.getY())),S=this.getCodewords(),N=-1;for(let j=v;j<w;j++){if(S[j]==null)continue;let $=S[j];$.setRowNumberAsRowIndicatorColumn();let q=$.getRowNumber()-N;q===0||(q===1?N=$.getRowNumber():$.getRowNumber()>=a.getRowCount()?S[j]=null:N=$.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),c=new qa,h=new qa,y=new qa,v=new qa;for(let S of a){if(S==null)continue;S.setRowNumberAsRowIndicatorColumn();let N=S.getValue()%30,j=S.getRowNumber();switch(this._isLeft||(j+=2),j%3){case 0:h.setValue(N*3+1);break;case 1:v.setValue(N/3),y.setValue(N%3);break;case 2:c.setValue(N+1);break}}if(c.getValue().length===0||h.getValue().length===0||y.getValue().length===0||v.getValue().length===0||c.getValue()[0]<1||h.getValue()[0]+y.getValue()[0]<It.MIN_ROWS_IN_BARCODE||h.getValue()[0]+y.getValue()[0]>It.MAX_ROWS_IN_BARCODE)return null;let w=new hc(c.getValue()[0],h.getValue()[0],y.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(a,w),w}removeIncorrectCodewords(a,c){for(let h=0;h<a.length;h++){let y=a[h];if(a[h]==null)continue;let v=y.getValue()%30,w=y.getRowNumber();if(w>c.getRowCount()){a[h]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:v*3+1!==c.getRowCountUpperPart()&&(a[h]=null);break;case 1:(Math.trunc(v/3)!==c.getErrorCorrectionLevel()||v%3!==c.getRowCountLowerPart())&&(a[h]=null);break;case 2:v+1!==c.getColumnCount()&&(a[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class pc{constructor(a,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=It.MAX_CODEWORDS_IN_BARCODE,c;do c=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let h=this.detectionResultColumns[c].getCodewords();for(let y=0;y<h.length;y++)h[y]!=null&&(h[y].hasValidRowNumber()||this.adjustRowNumbers(c,y,h))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<a.length;h++)if(a[h]!=null&&c[h]!=null&&a[h].getRowNumber()===c[h].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let v=this.detectionResultColumns[y].getCodewords()[h];v!=null&&(v.setRowNumber(a[h].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<c.length;h++){if(c[h]==null)continue;let y=c[h].getRowNumber(),v=0;for(let w=this.barcodeColumnCount+1;w>0&&v<this.ADJUST_ROW_NUMBER_SKIP;w--){let S=this.detectionResultColumns[w].getCodewords()[h];S!=null&&(v=pc.adjustRowNumberIfValid(y,v,S),S.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,c=this.detectionResultColumns[0].getCodewords();for(let h=0;h<c.length;h++){if(c[h]==null)continue;let y=c[h].getRowNumber(),v=0;for(let w=1;w<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;w++){let S=this.detectionResultColumns[w].getCodewords()[h];S!=null&&(v=pc.adjustRowNumberIfValid(y,v,S),S.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,c,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(a)?(h.setRowNumber(a),c=0):++c),c}adjustRowNumbers(a,c,h){if(!this.detectionResultColumns[a-1])return;let y=h[c],v=this.detectionResultColumns[a-1].getCodewords(),w=v;this.detectionResultColumns[a+1]!=null&&(w=this.detectionResultColumns[a+1].getCodewords());let S=new Array(14);S[2]=v[c],S[3]=w[c],c>0&&(S[0]=h[c-1],S[4]=v[c-1],S[5]=w[c-1]),c>1&&(S[8]=h[c-2],S[10]=v[c-2],S[11]=w[c-2]),c<h.length-1&&(S[1]=h[c+1],S[6]=v[c+1],S[7]=w[c+1]),c<h.length-2&&(S[9]=h[c+2],S[12]=v[c+2],S[13]=w[c+2]);for(let N of S)if(pc.adjustRowNumber(y,N))return}static adjustRowNumber(a,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===a.getBucket()?(a.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,c){this.detectionResultColumns[a]=c}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new la;for(let h=0;h<a.getCodewords().length;h++){c.format("CW %3d:",h);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){c.format("    |   ");continue}let v=this.detectionResultColumns[y].getCodewords()[h];if(v==null){c.format("    |   ");continue}c.format(" %3d|%3d",v.getRowNumber(),v.getValue())}c.format("%n")}return c.toString()}}class go{constructor(a,c,h,y){this.rowNumber=go.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(c),this.bucket=Math.trunc(h),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==go.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}go.BARCODE_ROW_UNKNOWN=-1;class zn{static initialize(){for(let a=0;a<It.SYMBOL_TABLE.length;a++){let c=It.SYMBOL_TABLE[a],h=c&1;for(let y=0;y<It.BARS_IN_MODULE;y++){let v=0;for(;(c&1)===h;)v+=1,c>>=1;h=c&1,zn.RATIOS_TABLE[a]||(zn.RATIOS_TABLE[a]=new Array(It.BARS_IN_MODULE)),zn.RATIOS_TABLE[a][It.BARS_IN_MODULE-y-1]=Math.fround(v/It.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let c=zn.getDecodedCodewordValue(zn.sampleBitCounts(a));return c!==-1?c:zn.getClosestDecodedValue(a)}static sampleBitCounts(a){let c=dt.sum(a),h=new Int32Array(It.BARS_IN_MODULE),y=0,v=0;for(let w=0;w<It.MODULES_IN_CODEWORD;w++){let S=c/(2*It.MODULES_IN_CODEWORD)+w*c/It.MODULES_IN_CODEWORD;v+a[y]<=S&&(v+=a[y],y++),h[y]++}return h}static getDecodedCodewordValue(a){let c=zn.getBitValue(a);return It.getCodeword(c)===-1?-1:c}static getBitValue(a){let c=0;for(let h=0;h<a.length;h++)for(let y=0;y<a[h];y++)c=c<<1|(h%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(a){let c=dt.sum(a),h=new Array(It.BARS_IN_MODULE);if(c>1)for(let w=0;w<h.length;w++)h[w]=Math.fround(a[w]/c);let y=Bt.MAX_VALUE,v=-1;this.bSymbolTableReady||zn.initialize();for(let w=0;w<zn.RATIOS_TABLE.length;w++){let S=0,N=zn.RATIOS_TABLE[w];for(let j=0;j<It.BARS_IN_MODULE;j++){let $=Math.fround(N[j]-h[j]);if(S+=Math.fround($*$),S>=y)break}S<y&&(y=S,v=It.SYMBOL_TABLE[w])}return v}}zn.bSymbolTableReady=!1,zn.RATIOS_TABLE=new Array(It.SYMBOL_TABLE.length).map(V=>new Array(It.BARS_IN_MODULE));class Mu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class fh{static parseLong(a,c=void 0){return parseInt(a,c)}}class ca extends f{}ca.kind="NullPointerException";class hh{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,c,h){if(a==null)throw new ca;if(c<0||c>a.length||h<0||c+h>a.length||c+h<0)throw new A;if(h===0)return;for(let y=0;y<h;y++)this.write(a[c+y])}flush(){}close(){}}class Du extends f{}class fg extends hh{constructor(a=32){if(super(),this.count=0,a<0)throw new x("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let h=this.buf.length<<1;if(h-a<0&&(h=a),h<0){if(a<0)throw new Du;h=I.MAX_VALUE}this.buf=P.copyOfUint8Array(this.buf,h)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,c,h){if(c<0||c>a.length||h<0||c+h-a.length>0)throw new A;this.ensureCapacity(this.count+h),E.arraycopy(a,c,this.buf,this.count,h),this.count+=h}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return P.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var hr;(function(V){V[V.ALPHA=0]="ALPHA",V[V.LOWER=1]="LOWER",V[V.MIXED=2]="MIXED",V[V.PUNCT=3]="PUNCT",V[V.ALPHA_SHIFT=4]="ALPHA_SHIFT",V[V.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(hr||(hr={}));function mc(){if(typeof window<"u")return window.BigInt||null;if(typeof $l<"u")return $l.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let gc;function xn(V){if(typeof gc>"u"&&(gc=mc()),gc===null)throw new Error("BigInt is not supported!");return gc(V)}function dl(){let V=[];V[0]=xn(1);let a=xn(900);V[1]=a;for(let c=2;c<16;c++)V[c]=V[c-1]*a;return V}class Se{static decode(a,c){let h=new Z(""),y=W.ISO8859_1;h.enableDecoding(y);let v=1,w=a[v++],S=new Mu;for(;v<a[0];){switch(w){case Se.TEXT_COMPACTION_MODE_LATCH:v=Se.textCompaction(a,v,h);break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:v=Se.byteCompaction(w,a,y,v,h);break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[v++]);break;case Se.NUMERIC_COMPACTION_MODE_LATCH:v=Se.numericCompaction(a,v,h);break;case Se.ECI_CHARSET:W.getCharacterSetECIByValue(a[v++]);break;case Se.ECI_GENERAL_PURPOSE:v+=2;break;case Se.ECI_USER_DEFINED:v++;break;case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=Se.decodeMacroBlock(a,v,S);break;case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:throw new U;default:v--,v=Se.textCompaction(a,v,h);break}if(v<a.length)w=a[v++];else throw U.getFormatInstance()}if(h.length()===0)throw U.getFormatInstance();let N=new Te(null,h.toString(),null,c);return N.setOther(S),N}static decodeMacroBlock(a,c,h){if(c+Se.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw U.getFormatInstance();let y=new Int32Array(Se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let S=0;S<Se.NUMBER_OF_SEQUENCE_CODEWORDS;S++,c++)y[S]=a[c];h.setSegmentIndex(I.parseInt(Se.decodeBase900toBase10(y,Se.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new Z;c=Se.textCompaction(a,c,v),h.setFileId(v.toString());let w=-1;for(a[c]===Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=c+1);c<a[0];)switch(a[c]){case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,a[c]){case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let S=new Z;c=Se.textCompaction(a,c+1,S),h.setFileName(S.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new Z;c=Se.textCompaction(a,c+1,N),h.setSender(N.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let j=new Z;c=Se.textCompaction(a,c+1,j),h.setAddressee(j.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let $=new Z;c=Se.numericCompaction(a,c+1,$),h.setSegmentCount(I.parseInt($.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let q=new Z;c=Se.numericCompaction(a,c+1,q),h.setTimestamp(fh.parseLong(q.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let X=new Z;c=Se.numericCompaction(a,c+1,X),h.setChecksum(I.parseInt(X.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let te=new Z;c=Se.numericCompaction(a,c+1,te),h.setFileSize(fh.parseLong(te.toString()));break;default:throw U.getFormatInstance()}break;case Se.MACRO_PDF417_TERMINATOR:c++,h.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(w!==-1){let S=c-w;h.isLastSegment()&&S--,h.setOptionalData(P.copyOfRange(a,w,w+S))}return c}static textCompaction(a,c,h){let y=new Int32Array((a[0]-c)*2),v=new Int32Array((a[0]-c)*2),w=0,S=!1;for(;c<a[0]&&!S;){let N=a[c++];if(N<Se.TEXT_COMPACTION_MODE_LATCH)y[w]=N/30,y[w+1]=N%30,w+=2;else switch(N){case Se.TEXT_COMPACTION_MODE_LATCH:y[w++]=Se.TEXT_COMPACTION_MODE_LATCH;break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,S=!0;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[w]=Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=a[c++],v[w]=N,w++;break}}return Se.decodeTextCompaction(y,v,w,h),c}static decodeTextCompaction(a,c,h,y){let v=hr.ALPHA,w=hr.ALPHA,S=0;for(;S<h;){let N=a[S],j="";switch(v){case hr.ALPHA:if(N<26)j=String.fromCharCode(65+N);else switch(N){case 26:j=" ";break;case Se.LL:v=hr.LOWER;break;case Se.ML:v=hr.MIXED;break;case Se.PS:w=v,v=hr.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=hr.ALPHA;break}break;case hr.LOWER:if(N<26)j=String.fromCharCode(97+N);else switch(N){case 26:j=" ";break;case Se.AS:w=v,v=hr.ALPHA_SHIFT;break;case Se.ML:v=hr.MIXED;break;case Se.PS:w=v,v=hr.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=hr.ALPHA;break}break;case hr.MIXED:if(N<Se.PL)j=Se.MIXED_CHARS[N];else switch(N){case Se.PL:v=hr.PUNCT;break;case 26:j=" ";break;case Se.LL:v=hr.LOWER;break;case Se.AL:v=hr.ALPHA;break;case Se.PS:w=v,v=hr.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=hr.ALPHA;break}break;case hr.PUNCT:if(N<Se.PAL)j=Se.PUNCT_CHARS[N];else switch(N){case Se.PAL:v=hr.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=hr.ALPHA;break}break;case hr.ALPHA_SHIFT:if(v=w,N<26)j=String.fromCharCode(65+N);else switch(N){case 26:j=" ";break;case Se.TEXT_COMPACTION_MODE_LATCH:v=hr.ALPHA;break}break;case hr.PUNCT_SHIFT:if(v=w,N<Se.PAL)j=Se.PUNCT_CHARS[N];else switch(N){case Se.PAL:v=hr.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=hr.ALPHA;break}break}j!==""&&y.append(j),S++}}static byteCompaction(a,c,h,y,v){let w=new fg,S=0,N=0,j=!1;switch(a){case Se.BYTE_COMPACTION_MODE_LATCH:let $=new Int32Array(6),q=c[y++];for(;y<c[0]&&!j;)switch($[S++]=q,N=900*N+q,q=c[y++],q){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:y--,j=!0;break;default:if(S%5===0&&S>0){for(let X=0;X<6;++X)w.write(Number(xn(N)>>xn(8*(5-X))));N=0,S=0}break}y===c[0]&&q<Se.TEXT_COMPACTION_MODE_LATCH&&($[S++]=q);for(let X=0;X<S;X++)w.write($[X]);break;case Se.BYTE_COMPACTION_MODE_LATCH_6:for(;y<c[0]&&!j;){let X=c[y++];if(X<Se.TEXT_COMPACTION_MODE_LATCH)S++,N=900*N+X;else switch(X){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:y--,j=!0;break}if(S%5===0&&S>0){for(let te=0;te<6;++te)w.write(Number(xn(N)>>xn(8*(5-te))));N=0,S=0}}break}return v.append(K.decode(w.toByteArray(),h)),y}static numericCompaction(a,c,h){let y=0,v=!1,w=new Int32Array(Se.MAX_NUMERIC_CODEWORDS);for(;c<a[0]&&!v;){let S=a[c++];if(c===a[0]&&(v=!0),S<Se.TEXT_COMPACTION_MODE_LATCH)w[y]=S,y++;else switch(S){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,v=!0;break}(y%Se.MAX_NUMERIC_CODEWORDS===0||S===Se.NUMERIC_COMPACTION_MODE_LATCH||v)&&y>0&&(h.append(Se.decodeBase900toBase10(w,y)),y=0)}return c}static decodeBase900toBase10(a,c){let h=xn(0);for(let v=0;v<c;v++)h+=Se.EXP900[c-v-1]*xn(a[v]);let y=h.toString();if(y.charAt(0)!=="1")throw new U;return y.substring(1)}}Se.TEXT_COMPACTION_MODE_LATCH=900,Se.BYTE_COMPACTION_MODE_LATCH=901,Se.NUMERIC_COMPACTION_MODE_LATCH=902,Se.BYTE_COMPACTION_MODE_LATCH_6=924,Se.ECI_USER_DEFINED=925,Se.ECI_GENERAL_PURPOSE=926,Se.ECI_CHARSET=927,Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Se.MACRO_PDF417_TERMINATOR=922,Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Se.MAX_NUMERIC_CODEWORDS=15,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Se.PL=25,Se.LL=27,Se.AS=27,Se.ML=28,Se.AL=28,Se.PS=29,Se.PAL=29,Se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Se.EXP900=mc()?dl():[],Se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class qt{constructor(){}static decode(a,c,h,y,v,w,S){let N=new mo(a,c,h,y,v),j=null,$=null,q;for(let de=!0;;de=!1){if(c!=null&&(j=qt.getRowIndicatorColumn(a,N,c,!0,w,S)),y!=null&&($=qt.getRowIndicatorColumn(a,N,y,!1,w,S)),q=qt.merge(j,$),q==null)throw Y.getNotFoundInstance();let he=q.getBoundingBox();if(de&&he!=null&&(he.getMinY()<N.getMinY()||he.getMaxY()>N.getMaxY()))N=he;else break}q.setBoundingBox(N);let X=q.getBarcodeColumnCount()+1;q.setDetectionResultColumn(0,j),q.setDetectionResultColumn(X,$);let te=j!=null;for(let de=1;de<=X;de++){let he=te?de:X-de;if(q.getDetectionResultColumn(he)!==void 0)continue;let ge;he===0||he===X?ge=new dg(N,he===0):ge=new Vs(N),q.setDetectionResultColumn(he,ge);let _e=-1,qe=_e;for(let He=N.getMinY();He<=N.getMaxY();He++){if(_e=qt.getStartColumn(q,he,He,te),_e<0||_e>N.getMaxX()){if(qe===-1)continue;_e=qe}let De=qt.detectCodeword(a,N.getMinX(),N.getMaxX(),te,_e,He,w,S);De!=null&&(ge.setCodeword(He,De),qe=_e,w=Math.min(w,De.getWidth()),S=Math.max(S,De.getWidth()))}}return qt.createDecoderResult(q)}static merge(a,c){if(a==null&&c==null)return null;let h=qt.getBarcodeMetadata(a,c);if(h==null)return null;let y=mo.merge(qt.adjustBoundingBox(a),qt.adjustBoundingBox(c));return new pc(h,y)}static adjustBoundingBox(a){if(a==null)return null;let c=a.getRowHeights();if(c==null)return null;let h=qt.getMax(c),y=0;for(let S of c)if(y+=h-S,S>0)break;let v=a.getCodewords();for(let S=0;y>0&&v[S]==null;S++)y--;let w=0;for(let S=c.length-1;S>=0&&(w+=h-c[S],!(c[S]>0));S--);for(let S=v.length-1;w>0&&v[S]==null;S--)w--;return a.getBoundingBox().addMissingRows(y,w,a.isLeft())}static getMax(a){let c=-1;for(let h of a)c=Math.max(c,h);return c}static getBarcodeMetadata(a,c){let h;if(a==null||(h=a.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let y;return c==null||(y=c.getBarcodeMetadata())==null?h:h.getColumnCount()!==y.getColumnCount()&&h.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&h.getRowCount()!==y.getRowCount()?null:h}static getRowIndicatorColumn(a,c,h,y,v,w){let S=new dg(c,y);for(let N=0;N<2;N++){let j=N===0?1:-1,$=Math.trunc(Math.trunc(h.getX()));for(let q=Math.trunc(Math.trunc(h.getY()));q<=c.getMaxY()&&q>=c.getMinY();q+=j){let X=qt.detectCodeword(a,0,a.getWidth(),y,$,q,v,w);X!=null&&(S.setCodeword(q,X),y?$=X.getStartX():$=X.getEndX())}}return S}static adjustCodewordCount(a,c){let h=c[0][1],y=h.getValue(),v=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-qt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(y.length===0){if(v<1||v>It.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();h.setValue(v)}else y[0]!==v&&h.setValue(v)}static createDecoderResult(a){let c=qt.createBarcodeMatrix(a);qt.adjustCodewordCount(a,c);let h=new Array,y=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),v=[],w=new Array;for(let N=0;N<a.getBarcodeRowCount();N++)for(let j=0;j<a.getBarcodeColumnCount();j++){let $=c[N][j+1].getValue(),q=N*a.getBarcodeColumnCount()+j;$.length===0?h.push(q):$.length===1?y[q]=$[0]:(w.push(q),v.push($))}let S=new Array(v.length);for(let N=0;N<S.length;N++)S[N]=v[N];return qt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),y,It.toIntArray(h),It.toIntArray(w),S)}static createDecoderResultFromAmbiguousValues(a,c,h,y,v){let w=new Int32Array(y.length),S=100;for(;S-- >0;){for(let N=0;N<w.length;N++)c[y[N]]=v[N][w[N]];try{return qt.decodeCodewords(c,a,h)}catch(N){if(!(N instanceof T))throw N}if(w.length===0)throw T.getChecksumInstance();for(let N=0;N<w.length;N++)if(w[N]<v[N].length-1){w[N]++;break}else if(w[N]=0,N===w.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(a){let c=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let y=0;y<c.length;y++)for(let v=0;v<c[y].length;v++)c[y][v]=new qa;let h=0;for(let y of a.getDetectionResultColumns()){if(y!=null){for(let v of y.getCodewords())if(v!=null){let w=v.getRowNumber();if(w>=0){if(w>=c.length)continue;c[w][h].setValue(v.getValue())}}}h++}return c}static isValidBarcodeColumn(a,c){return c>=0&&c<=a.getBarcodeColumnCount()+1}static getStartColumn(a,c,h,y){let v=y?1:-1,w=null;if(qt.isValidBarcodeColumn(a,c-v)&&(w=a.getDetectionResultColumn(c-v).getCodeword(h)),w!=null)return y?w.getEndX():w.getStartX();if(w=a.getDetectionResultColumn(c).getCodewordNearby(h),w!=null)return y?w.getStartX():w.getEndX();if(qt.isValidBarcodeColumn(a,c-v)&&(w=a.getDetectionResultColumn(c-v).getCodewordNearby(h)),w!=null)return y?w.getEndX():w.getStartX();let S=0;for(;qt.isValidBarcodeColumn(a,c-v);){c-=v;for(let N of a.getDetectionResultColumn(c).getCodewords())if(N!=null)return(y?N.getEndX():N.getStartX())+v*S*(N.getEndX()-N.getStartX());S++}return y?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,c,h,y,v,w,S,N){v=qt.adjustCodewordStartColumn(a,c,h,y,v,w);let j=qt.getModuleBitCount(a,c,h,y,v,w);if(j==null)return null;let $,q=dt.sum(j);if(y)$=v+q;else{for(let de=0;de<j.length/2;de++){let he=j[de];j[de]=j[j.length-1-de],j[j.length-1-de]=he}$=v,v=$-q}if(!qt.checkCodewordSkew(q,S,N))return null;let X=zn.getDecodedValue(j),te=It.getCodeword(X);return te===-1?null:new go(v,$,qt.getCodewordBucketNumber(X),te)}static getModuleBitCount(a,c,h,y,v,w){let S=v,N=new Int32Array(8),j=0,$=y?1:-1,q=y;for(;(y?S<h:S>=c)&&j<N.length;)a.get(S,w)===q?(N[j]++,S+=$):(j++,q=!q);return j===N.length||S===(y?h:c)&&j===N.length-1?N:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,c,h,y,v,w){let S=v,N=y?-1:1;for(let j=0;j<2;j++){for(;(y?S>=c:S<h)&&y===a.get(S,w);){if(Math.abs(v-S)>qt.CODEWORD_SKEW_SIZE)return v;S+=N}N=-N,y=!y}return S}static checkCodewordSkew(a,c,h){return c-qt.CODEWORD_SKEW_SIZE<=a&&a<=h+qt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,c,h){if(a.length===0)throw U.getFormatInstance();let y=1<<c+1,v=qt.correctErrors(a,h,y);qt.verifyCodewordCount(a,y);let w=Se.decode(a,""+c);return w.setErrorsCorrected(v),w.setErasures(h.length),w}static correctErrors(a,c,h){if(c!=null&&c.length>h/2+qt.MAX_ERRORS||h<0||h>qt.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return qt.errorCorrection.decode(a,h,c)}static verifyCodewordCount(a,c){if(a.length<4)throw U.getFormatInstance();let h=a[0];if(h>a.length)throw U.getFormatInstance();if(h===0)if(c<a.length)a[0]=a.length-c;else throw U.getFormatInstance()}static getBitCountForCodeword(a){let c=new Int32Array(8),h=0,y=c.length-1;for(;!((a&1)!==h&&(h=a&1,y--,y<0));)c[y]++,a>>=1;return c}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return qt.getCodewordBucketNumber(qt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let c=new la;for(let h=0;h<a.length;h++){c.format("Row %2d: ",h);for(let y=0;y<a[h].length;y++){let v=a[h][y];v.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}c.format("%n")}return c.toString()}}qt.CODEWORD_SKEW_SIZE=2,qt.MAX_ERRORS=3,qt.MAX_EC_CODEWORDS=512,qt.errorCorrection=new dh;class Wn{decode(a,c=null){let h=Wn.decode(a,c,!1);if(h==null||h.length===0||h[0]==null)throw Y.getNotFoundInstance();return h[0]}decodeMultiple(a,c=null){try{return Wn.decode(a,c,!0)}catch(h){throw h instanceof U||h instanceof T?Y.getNotFoundInstance():h}}static decode(a,c,h){const y=new Array,v=$t.detectMultiple(a,c,h);for(const w of v.getPoints()){const S=qt.decode(v.getBits(),w[4],w[5],w[6],w[7],Wn.getMinCodewordWidth(w),Wn.getMaxCodewordWidth(w)),N=new Pe(S.getText(),S.getRawBytes(),void 0,w,Ie.PDF_417);N.putMetadata(Be.ERROR_CORRECTION_LEVEL,S.getECLevel());const j=S.getOther();j!=null&&N.putMetadata(Be.PDF417_EXTRA_METADATA,j),y.push(N)}return y.map(w=>w)}static getMaxWidth(a,c){return a==null||c==null?0:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMinWidth(a,c){return a==null||c==null?I.MAX_VALUE:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(Wn.getMaxWidth(a[0],a[4]),Wn.getMaxWidth(a[6],a[2])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN),Math.max(Wn.getMaxWidth(a[1],a[5]),Wn.getMaxWidth(a[7],a[3])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(Wn.getMinWidth(a[0],a[4]),Wn.getMinWidth(a[6],a[2])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN),Math.min(Wn.getMinWidth(a[1],a[5]),Wn.getMinWidth(a[7],a[3])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN)))}reset(){}}class fl extends f{}fl.kind="ReaderException";class Lu{constructor(a,c){this.verbose=a===!0,c&&this.setHints(c)}decode(a,c){return c&&this.setHints(c),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const c=!n(a)&&a.get(F.TRY_HARDER)===!0,h=n(a)?null:a.get(F.POSSIBLE_FORMATS),y=new Array;if(!n(h)){const v=h.some(w=>w===Ie.UPC_A||w===Ie.UPC_E||w===Ie.EAN_13||w===Ie.EAN_8||w===Ie.CODABAR||w===Ie.CODE_39||w===Ie.CODE_93||w===Ie.CODE_128||w===Ie.ITF||w===Ie.RSS_14||w===Ie.RSS_EXPANDED);v&&!c&&y.push(new ol(a,this.verbose)),h.includes(Ie.QR_CODE)&&y.push(new yi),h.includes(Ie.DATA_MATRIX)&&y.push(new ms),h.includes(Ie.AZTEC)&&y.push(new kr),h.includes(Ie.PDF_417)&&y.push(new Wn),v&&c&&y.push(new ol(a,this.verbose))}y.length===0&&(c||y.push(new ol(a,this.verbose)),y.push(new yi),y.push(new ms),y.push(new kr),y.push(new Wn),c&&y.push(new ol(a,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new fl("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(a,this.hints)}catch(h){if(h instanceof fl)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class yc extends be{constructor(a=null,c=500){const h=new Lu;h.setHints(a),super(h,c)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Bu extends be{constructor(a=500){super(new Wn,a)}}class hg extends be{constructor(a=500){super(new yi,a)}}var ph;(function(V){V[V.ERROR_CORRECTION=0]="ERROR_CORRECTION",V[V.CHARACTER_SET=1]="CHARACTER_SET",V[V.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",V[V.MIN_SIZE=3]="MIN_SIZE",V[V.MAX_SIZE=4]="MAX_SIZE",V[V.MARGIN=5]="MARGIN",V[V.PDF417_COMPACT=6]="PDF417_COMPACT",V[V.PDF417_COMPACTION=7]="PDF417_COMPACTION",V[V.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",V[V.AZTEC_LAYERS=9]="AZTEC_LAYERS",V[V.QR_VERSION=10]="QR_VERSION"})(ph||(ph={}));var Tn=ph;class mh{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new Ve(a,Int32Array.from([1])))}buildGenerator(a){const c=this.cachedGenerators;if(a>=c.length){let h=c[c.length-1];const y=this.field;for(let v=c.length;v<=a;v++){const w=h.multiply(new Ve(y,Int32Array.from([1,y.exp(v-1+y.getGeneratorBase())])));c.push(w),h=w}}return c[a]}encode(a,c){if(c===0)throw new x("No error correction bytes");const h=a.length-c;if(h<=0)throw new x("No data bytes provided");const y=this.buildGenerator(c),v=new Int32Array(h);E.arraycopy(a,0,v,0,h);let w=new Ve(this.field,v);w=w.multiplyByMonomial(c,1);const N=w.divide(y)[1].getCoefficients(),j=c-N.length;for(let $=0;$<j;$++)a[h+$]=0;E.arraycopy(N,0,a,h+j,N.length)}}class $r{constructor(){}static applyMaskPenaltyRule1(a){return $r.applyMaskPenaltyRule1Internal(a,!0)+$r.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let c=0;const h=a.getArray(),y=a.getWidth(),v=a.getHeight();for(let w=0;w<v-1;w++){const S=h[w];for(let N=0;N<y-1;N++){const j=S[N];j===S[N+1]&&j===h[w+1][N]&&j===h[w+1][N+1]&&c++}}return $r.N2*c}static applyMaskPenaltyRule3(a){let c=0;const h=a.getArray(),y=a.getWidth(),v=a.getHeight();for(let w=0;w<v;w++)for(let S=0;S<y;S++){const N=h[w];S+6<y&&N[S]===1&&N[S+1]===0&&N[S+2]===1&&N[S+3]===1&&N[S+4]===1&&N[S+5]===0&&N[S+6]===1&&($r.isWhiteHorizontal(N,S-4,S)||$r.isWhiteHorizontal(N,S+7,S+11))&&c++,w+6<v&&h[w][S]===1&&h[w+1][S]===0&&h[w+2][S]===1&&h[w+3][S]===1&&h[w+4][S]===1&&h[w+5][S]===0&&h[w+6][S]===1&&($r.isWhiteVertical(h,S,w-4,w)||$r.isWhiteVertical(h,S,w+7,w+11))&&c++}return c*$r.N3}static isWhiteHorizontal(a,c,h){c=Math.max(c,0),h=Math.min(h,a.length);for(let y=c;y<h;y++)if(a[y]===1)return!1;return!0}static isWhiteVertical(a,c,h,y){h=Math.max(h,0),y=Math.min(y,a.length);for(let v=h;v<y;v++)if(a[v][c]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let c=0;const h=a.getArray(),y=a.getWidth(),v=a.getHeight();for(let N=0;N<v;N++){const j=h[N];for(let $=0;$<y;$++)j[$]===1&&c++}const w=a.getHeight()*a.getWidth();return Math.floor(Math.abs(c*2-w)*10/w)*$r.N4}static getDataMaskBit(a,c,h){let y,v;switch(a){case 0:y=h+c&1;break;case 1:y=h&1;break;case 2:y=c%3;break;case 3:y=(h+c)%3;break;case 4:y=Math.floor(h/2)+Math.floor(c/3)&1;break;case 5:v=h*c,y=(v&1)+v%3;break;case 6:v=h*c,y=(v&1)+v%3&1;break;case 7:v=h*c,y=v%3+(h+c&1)&1;break;default:throw new x("Invalid mask pattern: "+a)}return y===0}static applyMaskPenaltyRule1Internal(a,c){let h=0;const y=c?a.getHeight():a.getWidth(),v=c?a.getWidth():a.getHeight(),w=a.getArray();for(let S=0;S<y;S++){let N=0,j=-1;for(let $=0;$<v;$++){const q=c?w[S][$]:w[$][S];q===j?N++:(N>=5&&(h+=$r.N1+(N-5)),N=1,j=q)}N>=5&&(h+=$r.N1+(N-5))}return h}}$r.N1=3,$r.N2=3,$r.N3=40,$r.N4=10;class Fu{constructor(a,c){this.width=a,this.height=c;const h=new Array(c);for(let y=0;y!==c;y++)h[y]=new Uint8Array(a);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(a,c){return this.bytes[c][a]}getArray(){return this.bytes}setNumber(a,c,h){this.bytes[c][a]=h}setBoolean(a,c,h){this.bytes[c][a]=h?1:0}clear(a){for(const c of this.bytes)P.fill(c,a)}equals(a){if(!(a instanceof Fu))return!1;const c=a;if(this.width!==c.width||this.height!==c.height)return!1;for(let h=0,y=this.height;h<y;++h){const v=this.bytes[h],w=c.bytes[h];for(let S=0,N=this.width;S<N;++S)if(v[S]!==w[S])return!1}return!0}toString(){const a=new Z;for(let c=0,h=this.height;c<h;++c){const y=this.bytes[c];for(let v=0,w=this.width;v<w;++v)switch(y[v]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class yo{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Z;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<yo.NUM_MASK_PATTERNS}}yo.NUM_MASK_PATTERNS=8;class Tr extends f{}Tr.kind="WriterException";class Ct{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,c,h,y,v){Ct.clearMatrix(v),Ct.embedBasicPatterns(h,v),Ct.embedTypeInfo(c,y,v),Ct.maybeEmbedVersionInfo(h,v),Ct.embedDataBits(a,y,v)}static embedBasicPatterns(a,c){Ct.embedPositionDetectionPatternsAndSeparators(c),Ct.embedDarkDotAtLeftBottomCorner(c),Ct.maybeEmbedPositionAdjustmentPatterns(a,c),Ct.embedTimingPatterns(c)}static embedTypeInfo(a,c,h){const y=new D;Ct.makeTypeInfoBits(a,c,y);for(let v=0,w=y.getSize();v<w;++v){const S=y.get(y.getSize()-1-v),N=Ct.TYPE_INFO_COORDINATES[v],j=N[0],$=N[1];if(h.setBoolean(j,$,S),v<8){const q=h.getWidth()-v-1;h.setBoolean(q,8,S)}else{const X=h.getHeight()-7+(v-8);h.setBoolean(8,X,S)}}}static maybeEmbedVersionInfo(a,c){if(a.getVersionNumber()<7)return;const h=new D;Ct.makeVersionInfoBits(a,h);let y=17;for(let v=0;v<6;++v)for(let w=0;w<3;++w){const S=h.get(y);y--,c.setBoolean(v,c.getHeight()-11+w,S),c.setBoolean(c.getHeight()-11+w,v,S)}}static embedDataBits(a,c,h){let y=0,v=-1,w=h.getWidth()-1,S=h.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);S>=0&&S<h.getHeight();){for(let N=0;N<2;++N){const j=w-N;if(!Ct.isEmpty(h.get(j,S)))continue;let $;y<a.getSize()?($=a.get(y),++y):$=!1,c!==255&&$r.getDataMaskBit(c,j,S)&&($=!$),h.setBoolean(j,S,$)}S+=v}v=-v,S+=v,w-=2}if(y!==a.getSize())throw new Tr("Not all bits consumed: "+y+"/"+a.getSize())}static findMSBSet(a){return 32-I.numberOfLeadingZeros(a)}static calculateBCHCode(a,c){if(c===0)throw new x("0 polynomial");const h=Ct.findMSBSet(c);for(a<<=h-1;Ct.findMSBSet(a)>=h;)a^=c<<Ct.findMSBSet(a)-h;return a}static makeTypeInfoBits(a,c,h){if(!yo.isValidMaskPattern(c))throw new Tr("Invalid mask pattern");const y=a.getBits()<<3|c;h.appendBits(y,5);const v=Ct.calculateBCHCode(y,Ct.TYPE_INFO_POLY);h.appendBits(v,10);const w=new D;if(w.appendBits(Ct.TYPE_INFO_MASK_PATTERN,15),h.xor(w),h.getSize()!==15)throw new Tr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(a,c){c.appendBits(a.getVersionNumber(),6);const h=Ct.calculateBCHCode(a.getVersionNumber(),Ct.VERSION_INFO_POLY);if(c.appendBits(h,12),c.getSize()!==18)throw new Tr("should not happen but we got: "+c.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let c=8;c<a.getWidth()-8;++c){const h=(c+1)%2;Ct.isEmpty(a.get(c,6))&&a.setNumber(c,6,h),Ct.isEmpty(a.get(6,c))&&a.setNumber(6,c,h)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new Tr;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,c,h){for(let y=0;y<8;++y){if(!Ct.isEmpty(h.get(a+y,c)))throw new Tr;h.setNumber(a+y,c,0)}}static embedVerticalSeparationPattern(a,c,h){for(let y=0;y<7;++y){if(!Ct.isEmpty(h.get(a,c+y)))throw new Tr;h.setNumber(a,c+y,0)}}static embedPositionAdjustmentPattern(a,c,h){for(let y=0;y<5;++y){const v=Ct.POSITION_ADJUSTMENT_PATTERN[y];for(let w=0;w<5;++w)h.setNumber(a+w,c+y,v[w])}}static embedPositionDetectionPattern(a,c,h){for(let y=0;y<7;++y){const v=Ct.POSITION_DETECTION_PATTERN[y];for(let w=0;w<7;++w)h.setNumber(a+w,c+y,v[w])}}static embedPositionDetectionPatternsAndSeparators(a){const c=Ct.POSITION_DETECTION_PATTERN[0].length;Ct.embedPositionDetectionPattern(0,0,a),Ct.embedPositionDetectionPattern(a.getWidth()-c,0,a),Ct.embedPositionDetectionPattern(0,a.getWidth()-c,a);const h=8;Ct.embedHorizontalSeparationPattern(0,h-1,a),Ct.embedHorizontalSeparationPattern(a.getWidth()-h,h-1,a),Ct.embedHorizontalSeparationPattern(0,a.getWidth()-h,a);const y=7;Ct.embedVerticalSeparationPattern(y,0,a),Ct.embedVerticalSeparationPattern(a.getHeight()-y-1,0,a),Ct.embedVerticalSeparationPattern(y,a.getHeight()-y,a)}static maybeEmbedPositionAdjustmentPatterns(a,c){if(a.getVersionNumber()<2)return;const h=a.getVersionNumber()-1,y=Ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let v=0,w=y.length;v!==w;v++){const S=y[v];if(S>=0)for(let N=0;N!==w;N++){const j=y[N];j>=0&&Ct.isEmpty(c.get(j,S))&&Ct.embedPositionAdjustmentPattern(j-2,S-2,c)}}}}Ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ct.VERSION_INFO_POLY=7973,Ct.TYPE_INFO_POLY=1335,Ct.TYPE_INFO_MASK_PATTERN=21522;class Wv{constructor(a,c){this.dataBytes=a,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pr{constructor(){}static calculateMaskPenalty(a){return $r.applyMaskPenaltyRule1(a)+$r.applyMaskPenaltyRule2(a)+$r.applyMaskPenaltyRule3(a)+$r.applyMaskPenaltyRule4(a)}static encode(a,c,h=null){let y=Pr.DEFAULT_BYTE_MODE_ENCODING;const v=h!==null&&h.get(Tn.CHARACTER_SET)!==void 0;v&&(y=h.get(Tn.CHARACTER_SET).toString());const w=this.chooseMode(a,y),S=new D;if(w===Et.BYTE&&(v||Pr.DEFAULT_BYTE_MODE_ENCODING!==y)){const He=W.getCharacterSetECIByName(y);He!==void 0&&this.appendECI(He,S)}this.appendModeInfo(w,S);const N=new D;this.appendBytes(a,w,N,y);let j;if(h!==null&&h.get(Tn.QR_VERSION)!==void 0){const He=Number.parseInt(h.get(Tn.QR_VERSION).toString(),10);j=wt.getVersionForNumber(He);const De=this.calculateBitsNeeded(w,S,N,j);if(!this.willFit(De,j,c))throw new Tr("Data too big for requested version")}else j=this.recommendVersion(c,w,S,N);const $=new D;$.appendBitArray(S);const q=w===Et.BYTE?N.getSizeInBytes():a.length;this.appendLengthInfo(q,j,w,$),$.appendBitArray(N);const X=j.getECBlocksForLevel(c),te=j.getTotalCodewords()-X.getTotalECCodewords();this.terminateBits(te,$);const de=this.interleaveWithECBytes($,j.getTotalCodewords(),te,X.getNumBlocks()),he=new yo;he.setECLevel(c),he.setMode(w),he.setVersion(j);const ge=j.getDimensionForVersion(),_e=new Fu(ge,ge),qe=this.chooseMaskPattern(de,c,j,_e);return he.setMaskPattern(qe),Ct.buildMatrix(de,c,j,qe,_e),he.setMatrix(_e),he}static recommendVersion(a,c,h,y){const v=this.calculateBitsNeeded(c,h,y,wt.getVersionForNumber(1)),w=this.chooseVersion(v,a),S=this.calculateBitsNeeded(c,h,y,w);return this.chooseVersion(S,a)}static calculateBitsNeeded(a,c,h,y){return c.getSize()+a.getCharacterCountBits(y)+h.getSize()}static getAlphanumericCode(a){return a<Pr.ALPHANUMERIC_TABLE.length?Pr.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,c=null){if(W.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(a))return Et.KANJI;let h=!1,y=!1;for(let v=0,w=a.length;v<w;++v){const S=a.charAt(v);if(Pr.isDigit(S))h=!0;else if(this.getAlphanumericCode(S.charCodeAt(0))!==-1)y=!0;else return Et.BYTE}return y?Et.ALPHANUMERIC:h?Et.NUMERIC:Et.BYTE}static isOnlyDoubleByteKanji(a){let c;try{c=K.encode(a,W.SJIS)}catch{return!1}const h=c.length;if(h%2!==0)return!1;for(let y=0;y<h;y+=2){const v=c[y]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(a,c,h,y){let v=Number.MAX_SAFE_INTEGER,w=-1;for(let S=0;S<yo.NUM_MASK_PATTERNS;S++){Ct.buildMatrix(a,c,h,S,y);let N=this.calculateMaskPenalty(y);N<v&&(v=N,w=S)}return w}static chooseVersion(a,c){for(let h=1;h<=40;h++){const y=wt.getVersionForNumber(h);if(Pr.willFit(a,y,c))return y}throw new Tr("Data too big")}static willFit(a,c,h){const y=c.getTotalCodewords(),w=c.getECBlocksForLevel(h).getTotalECCodewords(),S=y-w,N=(a+7)/8;return S>=N}static terminateBits(a,c){const h=a*8;if(c.getSize()>h)throw new Tr("data bits cannot fit in the QR Code"+c.getSize()+" > "+h);for(let w=0;w<4&&c.getSize()<h;++w)c.appendBit(!1);const y=c.getSize()&7;if(y>0)for(let w=y;w<8;w++)c.appendBit(!1);const v=a-c.getSizeInBytes();for(let w=0;w<v;++w)c.appendBits((w&1)===0?236:17,8);if(c.getSize()!==h)throw new Tr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,c,h,y,v,w){if(y>=h)throw new Tr("Block ID too large");const S=a%h,N=h-S,j=Math.floor(a/h),$=j+1,q=Math.floor(c/h),X=q+1,te=j-q,de=$-X;if(te!==de)throw new Tr("EC bytes mismatch");if(h!==N+S)throw new Tr("RS blocks mismatch");if(a!==(q+te)*N+(X+de)*S)throw new Tr("Total bytes mismatch");y<N?(v[0]=q,w[0]=te):(v[0]=X,w[0]=de)}static interleaveWithECBytes(a,c,h,y){if(a.getSizeInBytes()!==h)throw new Tr("Number of bits and data bytes does not match");let v=0,w=0,S=0;const N=new Array;for(let $=0;$<y;++$){const q=new Int32Array(1),X=new Int32Array(1);Pr.getNumDataBytesAndNumECBytesForBlockID(c,h,y,$,q,X);const te=q[0],de=new Uint8Array(te);a.toBytes(8*v,de,0,te);const he=Pr.generateECBytes(de,X[0]);N.push(new Wv(de,he)),w=Math.max(w,te),S=Math.max(S,he.length),v+=q[0]}if(h!==v)throw new Tr("Data bytes does not match offset");const j=new D;for(let $=0;$<w;++$)for(const q of N){const X=q.getDataBytes();$<X.length&&j.appendBits(X[$],8)}for(let $=0;$<S;++$)for(const q of N){const X=q.getErrorCorrectionBytes();$<X.length&&j.appendBits(X[$],8)}if(c!==j.getSizeInBytes())throw new Tr("Interleaving error: "+c+" and "+j.getSizeInBytes()+" differ.");return j}static generateECBytes(a,c){const h=a.length,y=new Int32Array(h+c);for(let w=0;w<h;w++)y[w]=a[w]&255;new mh(et.QR_CODE_FIELD_256).encode(y,c);const v=new Uint8Array(c);for(let w=0;w<c;w++)v[w]=y[h+w];return v}static appendModeInfo(a,c){c.appendBits(a.getBits(),4)}static appendLengthInfo(a,c,h,y){const v=h.getCharacterCountBits(c);if(a>=1<<v)throw new Tr(a+" is bigger than "+((1<<v)-1));y.appendBits(a,v)}static appendBytes(a,c,h,y){switch(c){case Et.NUMERIC:Pr.appendNumericBytes(a,h);break;case Et.ALPHANUMERIC:Pr.appendAlphanumericBytes(a,h);break;case Et.BYTE:Pr.append8BitBytes(a,h,y);break;case Et.KANJI:Pr.appendKanjiBytes(a,h);break;default:throw new Tr("Invalid mode: "+c)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const c=Pr.getDigit(a);return c>=0&&c<=9}static appendNumericBytes(a,c){const h=a.length;let y=0;for(;y<h;){const v=Pr.getDigit(a.charAt(y));if(y+2<h){const w=Pr.getDigit(a.charAt(y+1)),S=Pr.getDigit(a.charAt(y+2));c.appendBits(v*100+w*10+S,10),y+=3}else if(y+1<h){const w=Pr.getDigit(a.charAt(y+1));c.appendBits(v*10+w,7),y+=2}else c.appendBits(v,4),y++}}static appendAlphanumericBytes(a,c){const h=a.length;let y=0;for(;y<h;){const v=Pr.getAlphanumericCode(a.charCodeAt(y));if(v===-1)throw new Tr;if(y+1<h){const w=Pr.getAlphanumericCode(a.charCodeAt(y+1));if(w===-1)throw new Tr;c.appendBits(v*45+w,11),y+=2}else c.appendBits(v,6),y++}}static append8BitBytes(a,c,h){let y;try{y=K.encode(a,h)}catch(v){throw new Tr(v)}for(let v=0,w=y.length;v!==w;v++){const S=y[v];c.appendBits(S,8)}}static appendKanjiBytes(a,c){let h;try{h=K.encode(a,W.SJIS)}catch(v){throw new Tr(v)}const y=h.length;for(let v=0;v<y;v+=2){const w=h[v]&255,S=h[v+1]&255,N=w<<8&4294967295|S;let j=-1;if(N>=33088&&N<=40956?j=N-33088:N>=57408&&N<=60351&&(j=N-49472),j===-1)throw new Tr("Invalid byte sequence");const $=(j>>8)*192+(j&255);c.appendBits($,13)}}static appendECI(a,c){c.appendBits(Et.ECI.getBits(),4),c.appendBits(a.getValue(),8)}}Pr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pr.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class vo{write(a,c,h,y=null){if(a.length===0)throw new x("Found empty contents");if(c<0||h<0)throw new x("Requested dimensions are too small: "+c+"x"+h);let v=br.L,w=vo.QUIET_ZONE_SIZE;y!==null&&(y.get(Tn.ERROR_CORRECTION)!==void 0&&(v=br.fromString(y.get(Tn.ERROR_CORRECTION).toString())),y.get(Tn.MARGIN)!==void 0&&(w=Number.parseInt(y.get(Tn.MARGIN).toString(),10)));const S=Pr.encode(a,v,y);return this.renderResult(S,c,h,w)}writeToDom(a,c,h,y,v=null){typeof a=="string"&&(a=document.querySelector(a));const w=this.write(c,h,y,v);a&&a.appendChild(w)}renderResult(a,c,h,y){const v=a.getMatrix();if(v===null)throw new Ne;const w=v.getWidth(),S=v.getHeight(),N=w+y*2,j=S+y*2,$=Math.max(c,N),q=Math.max(h,j),X=Math.min(Math.floor($/N),Math.floor(q/j)),te=Math.floor(($-w*X)/2),de=Math.floor((q-S*X)/2),he=this.createSVGElement($,q);for(let ge=0,_e=de;ge<S;ge++,_e+=X)for(let qe=0,He=te;qe<w;qe++,He+=X)if(v.get(qe,ge)===1){const De=this.createSvgRectElement(He,_e,X,X);he.appendChild(De)}return he}createSVGElement(a,c){const h=document.createElementNS(vo.SVG_NS,"svg");return h.setAttributeNS(null,"height",a.toString()),h.setAttributeNS(null,"width",c.toString()),h}createSvgRectElement(a,c,h,y){const v=document.createElementNS(vo.SVG_NS,"rect");return v.setAttributeNS(null,"x",a.toString()),v.setAttributeNS(null,"y",c.toString()),v.setAttributeNS(null,"height",h.toString()),v.setAttributeNS(null,"width",y.toString()),v.setAttributeNS(null,"fill","#000000"),v}}vo.QUIET_ZONE_SIZE=4,vo.SVG_NS="http://www.w3.org/2000/svg";class hl{encode(a,c,h,y,v){if(a.length===0)throw new x("Found empty contents");if(c!==Ie.QR_CODE)throw new x("Can only encode QR_CODE, but got "+c);if(h<0||y<0)throw new x(`Requested dimensions are too small: ${h}x${y}`);let w=br.L,S=hl.QUIET_ZONE_SIZE;v!==null&&(v.get(Tn.ERROR_CORRECTION)!==void 0&&(w=br.fromString(v.get(Tn.ERROR_CORRECTION).toString())),v.get(Tn.MARGIN)!==void 0&&(S=Number.parseInt(v.get(Tn.MARGIN).toString(),10)));const N=Pr.encode(a,w,v);return hl.renderResult(N,h,y,S)}static renderResult(a,c,h,y){const v=a.getMatrix();if(v===null)throw new Ne;const w=v.getWidth(),S=v.getHeight(),N=w+y*2,j=S+y*2,$=Math.max(c,N),q=Math.max(h,j),X=Math.min(Math.floor($/N),Math.floor(q/j)),te=Math.floor(($-w*X)/2),de=Math.floor((q-S*X)/2),he=new Q($,q);for(let ge=0,_e=de;ge<S;ge++,_e+=X)for(let qe=0,He=te;qe<w;qe++,He+=X)v.get(qe,ge)===1&&he.setRegion(He,_e,X,X);return he}}hl.QUIET_ZONE_SIZE=4;class Hv{encode(a,c,h,y,v){let w;if(c===Ie.QR_CODE)w=new hl;else throw new x("No encoder available for format "+c);return w.encode(a,c,h,y,v)}}class qs extends ie{constructor(a,c,h,y,v,w,S,N){if(super(w,S),this.yuvData=a,this.dataWidth=c,this.dataHeight=h,this.left=y,this.top=v,y+w>c||v+S>h)throw new x("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(w,S)}getRow(a,c){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const h=this.getWidth();(c==null||c.length<h)&&(c=new Uint8ClampedArray(h));const y=(a+this.top)*this.dataWidth+this.left;return E.arraycopy(this.yuvData,y,c,0,h),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.yuvData;const h=a*c,y=new Uint8ClampedArray(h);let v=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return E.arraycopy(this.yuvData,v,y,0,h),y;for(let w=0;w<c;w++){const S=w*a;E.arraycopy(this.yuvData,v,y,S,a),v+=this.dataWidth}return y}isCropSupported(){return!0}crop(a,c,h,y){return new qs(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+c,h,y,!1)}renderThumbnail(){const a=this.getWidth()/qs.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/qs.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(a*c),y=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let w=0;w<c;w++){const S=w*a;for(let N=0;N<a;N++){const j=y[v+N*qs.THUMBNAIL_SCALE_FACTOR]&255;h[S+N]=4278190080|j*65793}v+=this.dataWidth*qs.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/qs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,c){const h=this.yuvData;for(let y=0,v=this.top*this.dataWidth+this.left;y<c;y++,v+=this.dataWidth){const w=v+a/2;for(let S=v,N=v+a-1;S<w;S++,N--){const j=h[S];h[S]=h[N],h[N]=j}}}invert(){return new se(this)}}qs.THUMBNAIL_SCALE_FACTOR=2;class vc extends ie{constructor(a,c,h,y,v,w,S){if(super(c,h),this.dataWidth=y,this.dataHeight=v,this.left=w,this.top=S,a.BYTES_PER_ELEMENT===4){const N=c*h,j=new Uint8ClampedArray(N);for(let $=0;$<N;$++){const q=a[$],X=q>>16&255,te=q>>7&510,de=q&255;j[$]=(X+te+de)/4&255}this.luminances=j}else this.luminances=a;if(y===void 0&&(this.dataWidth=c),v===void 0&&(this.dataHeight=h),w===void 0&&(this.left=0),S===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+h>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(a,c){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const h=this.getWidth();(c==null||c.length<h)&&(c=new Uint8ClampedArray(h));const y=(a+this.top)*this.dataWidth+this.left;return E.arraycopy(this.luminances,y,c,0,h),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.luminances;const h=a*c,y=new Uint8ClampedArray(h);let v=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return E.arraycopy(this.luminances,v,y,0,h),y;for(let w=0;w<c;w++){const S=w*a;E.arraycopy(this.luminances,v,y,S,a),v+=this.dataWidth}return y}isCropSupported(){return!0}crop(a,c,h,y){return new vc(this.luminances,h,y,this.dataWidth,this.dataHeight,this.left+a,this.top+c)}invert(){return new se(this)}}class pg extends W{static forName(a){return this.getCharacterSetECIByName(a)}}class gh{}gh.ISO_8859_1=W.ISO8859_1;class mg{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class yh{static singletonList(a){return[a]}static min(a,c){return a.sort(c)[0]}}class Gv{constructor(a){this.previous=a}getPrevious(){return this.previous}}class pl extends Gv{constructor(a,c,h){super(a),this.value=c,this.bitCount=h}appendTo(a,c){a.appendBits(this.value,this.bitCount)}add(a,c){return new pl(this,a,c)}addBinaryShift(a,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new pl(this,a,c)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+I.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class vh extends pl{constructor(a,c,h){super(a,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=h}appendTo(a,c){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):h===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(c[this.binaryShiftStart+h],8)}addBinaryShift(a,c){return new vh(this,a,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Kv(V,a,c){return new vh(V,a,c)}function xc(V,a,c){return new pl(V,a,c)}const Xv=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],za=0,ml=1,si=2,gg=3,ys=4,yg=new pl(null,0,0),Uu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function vg(V){for(let a of V)P.fill(a,-1);return V[za][ys]=0,V[ml][ys]=0,V[ml][za]=28,V[gg][ys]=0,V[si][ys]=0,V[si][za]=15,V}const xh=vg(P.createInt32Array(6,6));class vi{constructor(a,c,h,y){this.token=a,this.mode=c,this.binaryShiftByteCount=h,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,c){let h=this.bitCount,y=this.token;if(a!==this.mode){let w=Uu[this.mode][a];y=xc(y,w&65535,w>>16),h+=w>>16}let v=a===si?4:5;return y=xc(y,c,v),new vi(y,a,0,h+v)}shiftAndAppend(a,c){let h=this.token,y=this.mode===si?4:5;return h=xc(h,xh[this.mode][a],y),h=xc(h,c,5),new vi(h,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(a){let c=this.token,h=this.mode,y=this.bitCount;if(this.mode===ys||this.mode===si){let S=Uu[h][za];c=xc(c,S&65535,S>>16),y+=S>>16,h=za}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new vi(c,h,this.binaryShiftByteCount+1,y+v);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(a+1)),w}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Kv(c,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new vi(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let c=this.bitCount+(Uu[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?c+=vi.calculateBinaryShiftCost(a)-vi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(c+=10),c<=a.bitCount}toBitArray(a){let c=[];for(let y=this.endBinaryShift(a.length).token;y!==null;y=y.getPrevious())c.unshift(y);let h=new D;for(const y of c)y.appendTo(h,a);return h}toString(){return z.format("%s bits=%d bytes=%d",Xv[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}vi.INITIAL_STATE=new vi(yg,za,0,0);function Yv(V){const a=z.getCharCode(" "),c=z.getCharCode("."),h=z.getCharCode(",");V[za][a]=1;const y=z.getCharCode("Z"),v=z.getCharCode("A");for(let X=v;X<=y;X++)V[za][X]=X-v+2;V[ml][a]=1;const w=z.getCharCode("z"),S=z.getCharCode("a");for(let X=S;X<=w;X++)V[ml][X]=X-S+2;V[si][a]=1;const N=z.getCharCode("9"),j=z.getCharCode("0");for(let X=j;X<=N;X++)V[si][X]=X-j+2;V[si][h]=12,V[si][c]=13;const $=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let X=0;X<$.length;X++)V[gg][z.getCharCode($[X])]=X;const q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let X=0;X<q.length;X++)z.getCharCode(q[X])>0&&(V[ys][z.getCharCode(q[X])]=X);return V}const wh=Yv(P.createInt32Array(5,256));class wc{constructor(a){this.text=a}encode(){const a=z.getCharCode(" "),c=z.getCharCode(`
`);let h=yh.singletonList(vi.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let w,S=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case z.getCharCode("\r"):w=S===c?2:0;break;case z.getCharCode("."):w=S===a?3:0;break;case z.getCharCode(","):w=S===a?4:0;break;case z.getCharCode(":"):w=S===a?5:0;break;default:w=0}w>0?(h=wc.updateStateListForPair(h,v,w),v++):h=this.updateStateListForChar(h,v)}return yh.min(h,(v,w)=>v.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,c){const h=[];for(let y of a)this.updateStateForChar(y,c,h);return wc.simplifyStates(h)}updateStateForChar(a,c,h){let y=this.text[c]&255,v=wh[a.getMode()][y]>0,w=null;for(let S=0;S<=ys;S++){let N=wh[S][y];if(N>0){if(w==null&&(w=a.endBinaryShift(c)),!v||S===a.getMode()||S===si){const j=w.latchAndAppend(S,N);h.push(j)}if(!v&&xh[a.getMode()][S]>=0){const j=w.shiftAndAppend(S,N);h.push(j)}}}if(a.getBinaryShiftByteCount()>0||wh[a.getMode()][y]===0){let S=a.addBinaryShiftChar(c);h.push(S)}}static updateStateListForPair(a,c,h){const y=[];for(let v of a)this.updateStateForPair(v,c,h,y);return this.simplifyStates(y)}static updateStateForPair(a,c,h,y){let v=a.endBinaryShift(c);if(y.push(v.latchAndAppend(ys,h)),a.getMode()!==ys&&y.push(v.shiftAndAppend(ys,h)),h===3||h===4){let w=v.latchAndAppend(si,16-h).latchAndAppend(si,1);y.push(w)}if(a.getBinaryShiftByteCount()>0){let w=a.addBinaryShiftChar(c).addBinaryShiftChar(c+1);y.push(w)}}static simplifyStates(a){let c=[];for(const h of a){let y=!0;for(const v of c){if(v.isBetterThanOrEqualTo(h)){y=!1;break}h.isBetterThanOrEqualTo(v)&&(c=c.filter(w=>w!==v))}y&&c.push(h)}return c}}class cr{constructor(){}static encodeBytes(a){return cr.encode(a,cr.DEFAULT_EC_PERCENT,cr.DEFAULT_AZTEC_LAYERS)}static encode(a,c,h){let y=new wc(a).encode(),v=I.truncDivision(y.getSize()*c,100)+11,w=y.getSize()+v,S,N,j,$,q;if(h!==cr.DEFAULT_AZTEC_LAYERS){if(S=h<0,N=Math.abs(h),N>(S?cr.MAX_NB_BITS_COMPACT:cr.MAX_NB_BITS))throw new x(z.format("Illegal value %s for layers",h));j=cr.totalBitsInLayer(N,S),$=cr.WORD_SIZE[N];let De=j-j%$;if(q=cr.stuffBits(y,$),q.getSize()+v>De)throw new x("Data to large for user specified layer");if(S&&q.getSize()>$*64)throw new x("Data to large for user specified layer")}else{$=0,q=null;for(let De=0;;De++){if(De>cr.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(S=De<=3,N=S?De+1:De,j=cr.totalBitsInLayer(N,S),w>j)continue;(q==null||$!==cr.WORD_SIZE[N])&&($=cr.WORD_SIZE[N],q=cr.stuffBits(y,$));let tr=j-j%$;if(!(S&&q.getSize()>$*64)&&q.getSize()+v<=tr)break}}let X=cr.generateCheckWords(q,j,$),te=q.getSize()/$,de=cr.generateModeMessage(S,N,te),he=(S?11:14)+N*4,ge=new Int32Array(he),_e;if(S){_e=he;for(let De=0;De<ge.length;De++)ge[De]=De}else{_e=he+1+2*I.truncDivision(I.truncDivision(he,2)-1,15);let De=I.truncDivision(he,2),tr=I.truncDivision(_e,2);for(let Vt=0;Vt<De;Vt++){let Ri=Vt+I.truncDivision(Vt,15);ge[De-Vt-1]=tr-Ri-1,ge[De+Vt]=tr+Ri+1}}let qe=new Q(_e);for(let De=0,tr=0;De<N;De++){let Vt=(N-De)*4+(S?9:12);for(let Ri=0;Ri<Vt;Ri++){let vs=Ri*2;for(let On=0;On<2;On++)X.get(tr+vs+On)&&qe.set(ge[De*2+On],ge[De*2+Ri]),X.get(tr+Vt*2+vs+On)&&qe.set(ge[De*2+Ri],ge[he-1-De*2-On]),X.get(tr+Vt*4+vs+On)&&qe.set(ge[he-1-De*2-On],ge[he-1-De*2-Ri]),X.get(tr+Vt*6+vs+On)&&qe.set(ge[he-1-De*2-Ri],ge[De*2+On])}tr+=Vt*8}if(cr.drawModeMessage(qe,S,_e,de),S)cr.drawBullsEye(qe,I.truncDivision(_e,2),5);else{cr.drawBullsEye(qe,I.truncDivision(_e,2),7);for(let De=0,tr=0;De<I.truncDivision(he,2)-1;De+=15,tr+=16)for(let Vt=I.truncDivision(_e,2)&1;Vt<_e;Vt+=2)qe.set(I.truncDivision(_e,2)-tr,Vt),qe.set(I.truncDivision(_e,2)+tr,Vt),qe.set(Vt,I.truncDivision(_e,2)-tr),qe.set(Vt,I.truncDivision(_e,2)+tr)}let He=new mg;return He.setCompact(S),He.setSize(_e),He.setLayers(N),He.setCodeWords(te),He.setMatrix(qe),He}static drawBullsEye(a,c,h){for(let y=0;y<h;y+=2)for(let v=c-y;v<=c+y;v++)a.set(v,c-y),a.set(v,c+y),a.set(c-y,v),a.set(c+y,v);a.set(c-h,c-h),a.set(c-h+1,c-h),a.set(c-h,c-h+1),a.set(c+h,c-h),a.set(c+h,c-h+1),a.set(c+h,c+h-1)}static generateModeMessage(a,c,h){let y=new D;return a?(y.appendBits(c-1,2),y.appendBits(h-1,6),y=cr.generateCheckWords(y,28,4)):(y.appendBits(c-1,5),y.appendBits(h-1,11),y=cr.generateCheckWords(y,40,4)),y}static drawModeMessage(a,c,h,y){let v=I.truncDivision(h,2);if(c)for(let w=0;w<7;w++){let S=v-3+w;y.get(w)&&a.set(S,v-5),y.get(w+7)&&a.set(v+5,S),y.get(20-w)&&a.set(S,v+5),y.get(27-w)&&a.set(v-5,S)}else for(let w=0;w<10;w++){let S=v-5+w+I.truncDivision(w,5);y.get(w)&&a.set(S,v-7),y.get(w+10)&&a.set(v+7,S),y.get(29-w)&&a.set(S,v+7),y.get(39-w)&&a.set(v-7,S)}}static generateCheckWords(a,c,h){let y=a.getSize()/h,v=new mh(cr.getGF(h)),w=I.truncDivision(c,h),S=cr.bitsToWords(a,h,w);v.encode(S,w-y);let N=c%h,j=new D;j.appendBits(0,N);for(const $ of Array.from(S))j.appendBits($,h);return j}static bitsToWords(a,c,h){let y=new Int32Array(h),v,w;for(v=0,w=a.getSize()/c;v<w;v++){let S=0;for(let N=0;N<c;N++)S|=a.get(v*c+N)?1<<c-N-1:0;y[v]=S}return y}static getGF(a){switch(a){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new x("Unsupported word size "+a)}}static stuffBits(a,c){let h=new D,y=a.getSize(),v=(1<<c)-2;for(let w=0;w<y;w+=c){let S=0;for(let N=0;N<c;N++)(w+N>=y||a.get(w+N))&&(S|=1<<c-1-N);(S&v)===v?(h.appendBits(S&v,c),w--):(S&v)===0?(h.appendBits(S|1,c),w--):h.appendBits(S,c)}return h}static totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}cr.DEFAULT_EC_PERCENT=33,cr.DEFAULT_AZTEC_LAYERS=0,cr.MAX_NB_BITS=32,cr.MAX_NB_BITS_COMPACT=4,cr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class bc{encode(a,c,h,y){return this.encodeWithHints(a,c,h,y,null)}encodeWithHints(a,c,h,y,v){let w=gh.ISO_8859_1,S=cr.DEFAULT_EC_PERCENT,N=cr.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(Tn.CHARACTER_SET)&&(w=pg.forName(v.get(Tn.CHARACTER_SET).toString())),v.has(Tn.ERROR_CORRECTION)&&(S=I.parseInt(v.get(Tn.ERROR_CORRECTION).toString())),v.has(Tn.AZTEC_LAYERS)&&(N=I.parseInt(v.get(Tn.AZTEC_LAYERS).toString()))),bc.encodeLayers(a,c,h,y,w,S,N)}static encodeLayers(a,c,h,y,v,w,S){if(c!==Ie.AZTEC)throw new x("Can only encode AZTEC, but got "+c);let N=cr.encode(z.getBytes(a,v),w,S);return bc.renderResult(N,h,y)}static renderResult(a,c,h){let y=a.getMatrix();if(y==null)throw new Ne;let v=y.getWidth(),w=y.getHeight(),S=Math.max(c,v),N=Math.max(h,w),j=Math.min(S/v,N/w),$=(S-v*j)/2,q=(N-w*j)/2,X=new Q(S,N);for(let te=0,de=q;te<w;te++,de+=j)for(let he=0,ge=$;he<v;he++,ge+=j)y.get(he,te)&&X.setRegion(ge,de,j,j);return X}}r.AbstractExpandedDecoder=sh,r.ArgumentException=g,r.ArithmeticException=Ce,r.AztecCode=mg,r.AztecCodeReader=kr,r.AztecCodeWriter=bc,r.AztecDecoder=Ze,r.AztecDetector=Cr,r.AztecDetectorResult=xe,r.AztecEncoder=cr,r.AztecHighLevelEncoder=wc,r.AztecPoint=Nt,r.BarcodeFormat=Ie,r.Binarizer=O,r.BinaryBitmap=_,r.BitArray=D,r.BitMatrix=Q,r.BitSource=lh,r.BrowserAztecCodeReader=eh,r.BrowserBarcodeReader=og,r.BrowserCodeReader=be,r.BrowserDatamatrixCodeReader=zv,r.BrowserMultiFormatReader=yc,r.BrowserPDF417Reader=Bu,r.BrowserQRCodeReader=hg,r.BrowserQRCodeSvgWriter=vo,r.CharacterSetECI=W,r.ChecksumException=T,r.Code128Reader=Ye,r.Code39Reader=cn,r.DataMatrixDecodedBitStreamParser=ps,r.DataMatrixReader=ms,r.DecodeHintType=F,r.DecoderResult=Te,r.DefaultGridSampler=We,r.DetectorResult=le,r.EAN13Reader=es,r.EncodeHintType=Tn,r.Exception=f,r.FormatException=U,r.GenericGF=et,r.GenericGFPoly=Ve,r.GlobalHistogramBinarizer=J,r.GridSampler=tt,r.GridSamplerInstance=nt,r.HTMLCanvasElementLuminanceSource=me,r.HybridBinarizer=re,r.ITFReader=dr,r.IllegalArgumentException=x,r.IllegalStateException=Ne,r.InvertedLuminanceSource=se,r.LuminanceSource=ie,r.MathUtils=dt,r.MultiFormatOneDReader=ol,r.MultiFormatReader=Lu,r.MultiFormatWriter=Hv,r.NotFoundException=Y,r.OneDReader=Mr,r.PDF417DecodedBitStreamParser=Se,r.PDF417DecoderErrorCorrection=dh,r.PDF417Reader=Wn,r.PDF417ResultMetadata=Mu,r.PerspectiveTransform=Ge,r.PlanarYUVLuminanceSource=qs,r.QRCodeByteMatrix=Fu,r.QRCodeDataMask=Kt,r.QRCodeDecodedBitStreamParser=Ur,r.QRCodeDecoderErrorCorrectionLevel=br,r.QRCodeDecoderFormatInformation=Vn,r.QRCodeEncoder=Pr,r.QRCodeEncoderQRCode=yo,r.QRCodeMaskUtil=$r,r.QRCodeMatrixUtil=Ct,r.QRCodeMode=Et,r.QRCodeReader=yi,r.QRCodeVersion=wt,r.QRCodeWriter=hl,r.RGBLuminanceSource=vc,r.RSS14Reader=Dr,r.RSSExpandedReader=je,r.ReaderException=fl,r.ReedSolomonDecoder=Ke,r.ReedSolomonEncoder=mh,r.ReedSolomonException=_t,r.Result=Pe,r.ResultMetadataType=Be,r.ResultPoint=Fe,r.StringUtils=z,r.UnsupportedOperationException=ce,r.VideoInputDevice=ne,r.WhiteRectangleDetector=Ae,r.WriterException=Tr,r.ZXingArrays=P,r.ZXingCharset=pg,r.ZXingInteger=I,r.ZXingStandardCharsets=gh,r.ZXingStringBuilder=Z,r.ZXingStringEncoding=K,r.ZXingSystem=E,r.createAbstractExpandedDecoder=sg,Object.defineProperty(r,"__esModule",{value:!0})}))})(hp,hp.exports)),hp.exports}var Yr=I2e();const P2e=Ar(Yr),R2e=HD({__proto__:null,default:P2e},[Yr]);var FD=(function(){function t(e,r,n){if(this.formatMap=new Map([[ft.QR_CODE,Yr.BarcodeFormat.QR_CODE],[ft.AZTEC,Yr.BarcodeFormat.AZTEC],[ft.CODABAR,Yr.BarcodeFormat.CODABAR],[ft.CODE_39,Yr.BarcodeFormat.CODE_39],[ft.CODE_93,Yr.BarcodeFormat.CODE_93],[ft.CODE_128,Yr.BarcodeFormat.CODE_128],[ft.DATA_MATRIX,Yr.BarcodeFormat.DATA_MATRIX],[ft.MAXICODE,Yr.BarcodeFormat.MAXICODE],[ft.ITF,Yr.BarcodeFormat.ITF],[ft.EAN_13,Yr.BarcodeFormat.EAN_13],[ft.EAN_8,Yr.BarcodeFormat.EAN_8],[ft.PDF_417,Yr.BarcodeFormat.PDF_417],[ft.RSS_14,Yr.BarcodeFormat.RSS_14],[ft.RSS_EXPANDED,Yr.BarcodeFormat.RSS_EXPANDED],[ft.UPC_A,Yr.BarcodeFormat.UPC_A],[ft.UPC_E,Yr.BarcodeFormat.UPC_E],[ft.UPC_EAN_EXTENSION,Yr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!R2e)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(Yr.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Yr.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new Yr.MultiFormatReader(this.verbose,this.hints),n=new Yr.HTMLCanvasElementLuminanceSource(e),i=new Yr.BinaryBitmap(new Yr.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:zV.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),j2e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},k2e=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},UD=(function(){function t(e,r,n){if(this.formatMap=new Map([[ft.QR_CODE,"qr_code"],[ft.AZTEC,"aztec"],[ft.CODABAR,"codabar"],[ft.CODE_39,"code_39"],[ft.CODE_93,"code_93"],[ft.CODE_128,"code_128"],[ft.DATA_MATRIX,"data_matrix"],[ft.ITF,"itf"],[ft.EAN_13,"ean_13"],[ft.EAN_8,"ean_8"],[ft.PDF_417,"pdf417"],[ft.UPC_A,"upc_a"],[ft.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return j2e(this,void 0,void 0,function(){var r,n;return k2e(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:zV.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>n&&(n=u,r=o)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),$D=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},VD=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},M2e=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&UD.isSupported()?(this.primaryDecoder=new UD(e,n,i),this.secondaryDecoder=new FD(e,n,i)):this.primaryDecoder=new FD(e,n,i)}return t.prototype.decodeAsync=function(e){return $D(this,void 0,void 0,function(){var r;return VD(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return $D(this,void 0,void 0,function(){var r,n;return VD(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),jO=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),_1=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},S1=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},HV=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),D2e=(function(t){jO(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(HV),L2e=(function(t){jO(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(D2e),B2e=(function(t){jO(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(HV),F2e=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new L2e(this.track)},t.prototype.torchFeature=function(){return new B2e(this.track)},t})(),U2e=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return _1(this,void 0,void 0,function(){var s,o;return S1(this,function(u){switch(u.label){case 0:return s=new t(e,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return _1(this,void 0,void 0,function(){return S1(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new F2e(this.getFirstTrackOrFail())},t})(),$2e=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return _1(this,void 0,void 0,function(){return S1(this,function(i){return[2,U2e.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return _1(this,void 0,void 0,function(){var r,n;return S1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),qD=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},zD=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},V2e=(function(){function t(){}return t.failIfNotSupported=function(){return qD(this,void 0,void 0,function(){return zD(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return qD(this,void 0,void 0,function(){return zD(this,function(r){return[2,$2e.create(e)]})})},t})(),q2e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},z2e=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},W2e=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Pd.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Pd.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return q2e(this,void 0,void 0,function(){var e,r,n,i,s,o,u;return z2e(this,function(d){switch(d.label){case 0:return e=function(f){for(var g=f.getVideoTracks(),x=0,_=g;x<_.length;x++){var T=_[x];T.enabled=!1,T.stop(),f.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],s=0,o=n;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var o=[],u=0,d=s;u<d.length;u++){var f=d[u];f.kind==="video"&&o.push({id:f.id,label:f.label})}e(o)},i=MediaStreamTrack;i.getSources(n)})},t})(),_n;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(_n||(_n={}));var H2e=(function(){function t(){this.state=_n.NOT_STARTED,this.onGoingTransactionNewState=_n.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===_n.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=_n.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===_n.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=_n.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==_n.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case _n.UNKNOWN:throw"Transition from unknown is not allowed";case _n.NOT_STARTED:this.failIfNewStateIs(e,[_n.PAUSED]);break;case _n.SCANNING:break;case _n.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),G2e=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===_n.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==_n.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===_n.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===_n.PAUSED},t})(),K2e=(function(){function t(){}return t.create=function(){return new G2e(new H2e)},t})(),X2e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ss=(function(t){X2e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(C2e),Y2e=(function(){function t(e,r){this.logger=r,this.fps=Ss.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ss.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?WV.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!jo(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),Z2e=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new O2e(this.verbose),this.qrcode=new M2e(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=K2e.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=Y2e.create(r,this.logger);this.clearElement();var d=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=d,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:Ss.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var x=this,_=this.stateManagerProxy.startTransition(_n.SCANNING);return new Promise(function(T,O){var E=f?u.videoConstraints:x.createVideoConstraints(e);if(!E){_.cancel(),O("videoConstraints should be defined");return}var A={};(!f||u.aspectRatio)&&(A.aspectRatio=u.aspectRatio);var R={onRenderSurfaceReady:function(P,I){x.setupUi(P,I,u),x.isScanning=!0,x.foreverScan(u,n,o)}};V2e.failIfNotSupported().then(function(P){P.create(E).then(function(I){return I.render(s.element,A,R).then(function(D){x.renderedCamera=D,_.execute(),T(null)}).catch(function(D){_.cancel(),O(D)})}).catch(function(I){_.cancel(),O(Pd.errorGettingUserMedia(I))})}).catch(function(P){_.cancel(),O(Pd.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(_n.PAUSED),this.showPausedState(),(jo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(_n.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(_n.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(Ss.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(jo(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var u=o.width,d=o.height,f=document.getElementById(n.elementId),g=f.clientWidth?f.clientWidth:Ss.DEFAULT_WIDTH,x=Math.max(f.clientHeight?f.clientHeight:d,Ss.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(u,d,g,x);if(r){var T=n.createCanvasElement(g,x,"qr-canvas-visible");T.style.display="inline-block",f.appendChild(T);var O=T.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=g,O.canvas.height=x,O.drawImage(o,0,0,u,d,_.x,_.y,_.width,_.height)}var E=Ss.FILE_SCAN_HIDDEN_CANVAS_PADDING,A=Math.max(o.width,_.width),R=Math.max(o.height,_.height),P=A+2*E,I=R+2*E,D=n.createCanvasElement(P,I);f.appendChild(D);var L=D.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=P,L.canvas.height=I,L.drawImage(o,0,0,u,d,E,E,A,R);try{n.qrcode.decodeRobustlyAsync(D).then(function(F){i(LD.createFromQrcodeResult(F))}).catch(s)}catch(F){s("QR code parse error, error = ".concat(F))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return W2e.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!WV.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[ft.QR_CODE,ft.AZTEC,ft.CODABAR,ft.CODE_39,ft.CODE_93,ft.CODE_128,ft.DATA_MATRIX,ft.MAXICODE,ft.ITF,ft.EAN_13,ft.EAN_8,ft.PDF_417,ft.RSS_14,ft.RSS_EXPANDED,ft.UPC_A,ft.UPC_E,ft.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];A2e(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(jo(e))return!0;if(!jo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(jo(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return jo(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,r,s),u=function(f){if(f<Ss.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ss.MIN_QR_BOX_SIZE,"px.")},d=function(f){return f>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=e),f};u(o.width),u(o.height),o.width=d(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=jo(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&s.height<=r,u={x:0,y:0,width:e,height:r},d=o?this.getShadedRegionBounds(e,r,s):u,f=this.createCanvasElement(d.width,d.height),g={willReadFrequently:!0},x=f.getContext("2d",g);x.canvas.width=d.width,x.canvas.height=d.height,this.element.append(f),o&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=x,this.canvasElement=f},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Pd.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,LD.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=Pd.codeParseError(i);return r(s,T2e.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,f=this.qrRegion.height*u,g=this.qrRegion.x*o,x=this.qrRegion.y*u;this.context.drawImage(s,g,x,d,f,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(T){!T&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){_()})):_()}).catch(function(T){i.logger.logError("Error happend while scanning context",T),_()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",o=function(O){if(O in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var d=Object.keys(e)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var f=e.facingMode;if(typeof f=="string"){if(o(f))return{facingMode:f}}else if(typeof f=="object")if(s in f){if(o(f["".concat(s)]))return{facingMode:{exact:f["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var g=typeof f;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var x=e.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(s in x)return{deviceId:{exact:x["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var _=typeof x;throw"Invalid type of 'deviceId' = ".concat(_)}}}var T=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,o=(i-r)/2;return{x:s,y:o,width:e,height:r}}else{var u=e,d=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(d)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Ss.BORDER_SHADER_MATCH_COLOR:Ss.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=jo(n)?"qr-canvas":n,o},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(r-i.width)/2,u=(n-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Ss.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,f=40;this.insertShaderBorders(s,f,d,-d,null,0,!0),this.insertShaderBorders(s,f,d,-d,null,0,!1),this.insertShaderBorders(s,f,d,null,-d,0,!0),this.insertShaderBorders(s,f,d,null,-d,0,!1),this.insertShaderBorders(s,d,f+d,-d,null,-d,!0),this.insertShaderBorders(s,d,f+d,null,-d,-d,!0),this.insertShaderBorders(s,d,f+d,-d,null,-d,!1),this.insertShaderBorders(s,d,f+d,null,-d,-d,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,o,u){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=Ss.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),s!==null&&(d.style.bottom="".concat(s,"px")),u?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),e.appendChild(d)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),WD;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(WD||(WD={}));const Q2e=({status:t})=>{switch(t?.toLowerCase()||"absent"){case"present":return m.jsxs(Fn,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[m.jsx(Ts,{className:"w-3 h-3 mr-1"}),"Present"]});case"late":return m.jsxs(Fn,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[m.jsx(Wl,{className:"w-3 h-3 mr-1"}),"Late"]});case"absent":return m.jsxs(Fn,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:[m.jsx(Cp,{className:"w-3 h-3 mr-1"}),"Absent"]});case"excused":return m.jsxs(Fn,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:[m.jsx(no,{className:"w-3 h-3 mr-1"}),"Excused"]});default:return m.jsx(Fn,{variant:"secondary",children:t})}};function J2e(){const{user:t}=$i(),{data:e,isLoading:r}=dT(t?.id),{toast:n}=hi(),[i,s]=M.useState("all"),[o,u]=M.useState("all"),[d,f]=M.useState(!1),[g,x]=M.useState(!1),[_,T]=M.useState(null),[O,E]=M.useState(""),[A,R]=M.useState(!1),P=M.useRef(null),I="qr-reader",{data:D,isLoading:L,refetch:F}=cT({studentId:t?.id},{refetchInterval:5e3});M.useEffect(()=>{},[t,D]);const U=M.useMemo(()=>{const J=[],re=new Date;for(let ie=0;ie<12;ie++){const se=new Date(re.getFullYear(),re.getMonth()-ie,1);J.push({value:gn(se,"yyyy-MM"),label:gn(se,"MMMM yyyy")})}return J},[]),H=M.useMemo(()=>D?D.filter(J=>{const re=i==="all"||J.subjectId?.toString()===i,ie=o==="all"||J.date?.startsWith(o);return re&&ie}).sort((J,re)=>{const ie=J.date||"";return(re.date||"").localeCompare(ie)}):[],[D,i,o]),W=M.useMemo(()=>!D||!e?[]:e.map(J=>{const re=D.filter(Pe=>Pe.subjectId===J.id),ie=re.filter(Pe=>Pe.status?.toLowerCase()==="present").length,se=re.filter(Pe=>Pe.status?.toLowerCase()==="late").length,me=re.filter(Pe=>Pe.status?.toLowerCase()==="absent").length,ne=re.filter(Pe=>Pe.status?.toLowerCase()==="excused").length,ue=re.length,be=ue>0?((ie+se)/ue*100).toFixed(1):"0.0";return{subject:J,present:ie,late:se,absent:me,excused:ne,total:ue,attendanceRate:be}}),[D,e]),ce=M.useMemo(()=>{if(!D)return{present:0,late:0,absent:0,excused:0,total:0,rate:"0.0"};const J=D.filter(ue=>ue.status?.toLowerCase()==="present").length,re=D.filter(ue=>ue.status?.toLowerCase()==="late").length,ie=D.filter(ue=>ue.status?.toLowerCase()==="absent").length,se=D.filter(ue=>ue.status?.toLowerCase()==="excused").length,me=D.length,ne=me>0?((J+re)/me*100).toFixed(1):"0.0";return{present:J,late:re,absent:ie,excused:se,total:me,rate:ne}},[D]),K=M.useCallback(async()=>{if(P.current){try{P.current.getState()===2&&await P.current.stop(),P.current.clear()}catch(J){console.error("Error stopping scanner:",J)}P.current=null}x(!1)},[]),z=M.useCallback(async J=>{if(A)return;let re,ie;if(J.startsWith("{")&&J.endsWith("}"))try{const se=JSON.parse(J);re=se.token,ie=se.subjectId}catch(se){console.error("JSON parse error:",se);return}else if(J.includes("?")&&J.includes("token="))try{const se=new URL(J);re=se.searchParams.get("token")||"",ie=se.searchParams.get("subjectId")||""}catch(se){console.error("URL parse error:",se);return}else return;if(!(!re||!ie)){R(!0),await K();try{if(!t||!t.id)throw new Error("Please log in to scan attendance");if(t.role!=="student")throw new Error("Only students can scan attendance QR codes");const{data:se,error:me}=await St.from("qr_codes").select("id, subject_id, code, active").eq("code",re).eq("active",!0).single();if(me||!se)throw new Error("Invalid or expired QR code. Please ask your teacher to regenerate.");const ne=se.subject_id,ue=re.includes("_LATE"),{data:be,error:Pe}=await St.from("enrollments").select("id").eq("student_id",t.id).eq("subject_id",ne).single();if(Pe||!be)throw new Error("You are not enrolled in this subject");const rt=new Date().toISOString().split("T")[0],{data:Ie}=await St.from("attendance").select("id, status").eq("student_id",t.id).eq("subject_id",ne).eq("date",rt),Re=ue?"late":"present";if(Ie&&Ie.length>0){const Ve=Ie[0];if(Ve.status==="present"||Ve.status==="late"){T("already"),E(`You're already checked in as ${Ve.status}`);return}const{error:Ce}=await St.from("attendance").update({status:Re,time_in:X0(),remarks:ue?"Arrived late (updated)":"On time (updated)"}).eq("id",Ve.id);if(Ce)throw console.error("Failed to update attendance:",Ce),new Error("Failed to update attendance record");await St.from("qr_codes").update({active:!1}).eq("id",se.id),T(Re),E(`Attendance updated to ${Re}!`),F(),n({title:Re==="present"?" Present!":" Marked Late",description:`Your attendance has been updated to ${Re}.`});return}await St.from("qr_codes").update({active:!1}).eq("id",se.id);const Be=ue?"late":"present",{data:Te,error:$e}=await St.from("attendance").insert({student_id:t.id,subject_id:ne,date:rt,status:Be,time_in:X0(),remarks:ue?"Arrived late":"On time"}).select().single();if($e)throw console.error("Failed to insert attendance:",$e),new Error("Failed to record attendance. Please try again.");T(Be),E(`Attendance recorded as ${Be}`),F(),n({title:Be==="present"?" Present!":" Marked Late",description:`Attendance recorded as ${Be}`})}catch(se){console.error("QR scan error:",se),T("error"),E(se instanceof Error?se.message:"Failed to process QR code"),n({title:"Scan Failed",description:se instanceof Error?se.message:"Failed to process QR code",variant:"destructive"})}finally{R(!1)}}},[A,K,F,n,t]),Z=M.useCallback(async()=>{f(!0),T(null),E(""),x(!1),setTimeout(async()=>{try{const J=new Z2e(I);P.current=J,await J.start({facingMode:"environment"},{fps:5,qrbox:{width:250,height:250},aspectRatio:1,disableFlip:!1},re=>{z(re)},()=>{}),x(!0)}catch(J){console.error("Failed to start scanner:",J),x(!1),n({title:"Camera Error",description:"Unable to access camera. Please check permissions.",variant:"destructive"})}},200)},[z,n]),Q=M.useCallback(()=>{K(),f(!1),T(null),E("")},[K]);M.useEffect(()=>()=>{P.current&&P.current.stop().catch(()=>{})},[]),M.useEffect(()=>{const J=sessionStorage.getItem("pendingAttendanceScan");if(J&&t&&t.role==="student")try{const{token:re,subjectId:ie,timestamp:se}=JSON.parse(J),me=300*1e3;if(Date.now()-se<me){sessionStorage.removeItem("pendingAttendanceScan");const ne=`${window.location.origin}/login?token=${re}&subjectId=${ie}&scan=attendance`;n({title:"Processing Attendance",description:"Recording your attendance from QR code scan..."}),z(ne)}else sessionStorage.removeItem("pendingAttendanceScan"),n({title:"QR Code Expired",description:"The scanned QR code has expired. Please scan again.",variant:"destructive"})}catch(re){console.error("Failed to process pending scan:",re),sessionStorage.removeItem("pendingAttendanceScan")}},[t,z,n]);const Y=M.useCallback(()=>{T(null),E(""),Z()},[Z]);return r||L?m.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:m.jsx(Yi,{className:"w-8 h-8 animate-spin text-primary"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground font-display",children:"Attendance"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"View your attendance records and scan QR to check-in"})]}),m.jsxs(yt,{onClick:Z,className:"gap-2",size:"lg",children:[m.jsx(uH,{className:"w-5 h-5"}),"Scan QR Code"]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:m.jsx(Fo,{className:"w-5 h-5 text-primary"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold",children:ce.total}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Classes"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:m.jsx(Ts,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-green-600",children:ce.present}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Present"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center",children:m.jsx(Wl,{className:"w-5 h-5 text-yellow-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:ce.late}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Late"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:m.jsx(Cp,{className:"w-5 h-5 text-red-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-red-600",children:ce.absent}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Absent"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:m.jsx(no,{className:"w-5 h-5 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ce.excused}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Excused"})]})]})})}),m.jsx(zt,{children:m.jsx(Xt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:m.jsx("span",{className:"text-lg font-bold text-primary",children:"%"})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-2xl font-bold text-primary",children:[ce.rate,"%"]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Attendance Rate"})]})]})})})]}),W.length>0&&m.jsxs(zt,{children:[m.jsx(Qr,{children:m.jsx(Jr,{className:"text-lg",children:"Attendance by Subject"})}),m.jsx(Xt,{children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(J=>m.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:J.subject.name}),m.jsx("p",{className:"text-xs text-muted-foreground",children:J.subject.code})]}),m.jsxs(Fn,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:[J.attendanceRate,"%"]})]}),m.jsxs("div",{className:"flex gap-3 text-sm flex-wrap",children:[m.jsxs("span",{className:"text-green-600",children:[J.present," Present"]}),m.jsxs("span",{className:"text-yellow-600",children:[J.late," Late"]}),m.jsxs("span",{className:"text-red-600",children:[J.absent," Absent"]}),m.jsxs("span",{className:"text-blue-600",children:[J.excused," Excused"]})]})]},J.subject.id))})})]}),m.jsxs(zt,{children:[m.jsx(Qr,{children:m.jsx(Jr,{className:"text-lg",children:"Attendance History"})}),m.jsxs(Xt,{children:[m.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[m.jsx("div",{className:"flex-1 min-w-[200px]",children:m.jsxs(di,{value:i,onValueChange:s,children:[m.jsx(ei,{children:m.jsx(fi,{placeholder:"Filter by subject"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Subjects"}),e?.map(J=>m.jsxs(or,{value:J.id.toString(),children:[J.code," - ",J.name]},J.id))]})]})}),m.jsx("div",{className:"flex-1 min-w-[200px]",children:m.jsxs(di,{value:o,onValueChange:u,children:[m.jsx(ei,{children:m.jsx(fi,{placeholder:"Filter by month"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Months"}),U.map(J=>m.jsx(or,{value:J.value,children:J.label},J.value))]})]})})]}),H.length>0?m.jsx("div",{className:"rounded-lg border overflow-hidden",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(rn,{className:"bg-muted/50",children:[m.jsx(Wt,{children:"Date"}),m.jsx(Wt,{children:"Subject"}),m.jsx(Wt,{className:"whitespace-nowrap",children:"Time In"}),m.jsx(Wt,{children:"Status"}),m.jsx(Wt,{children:"Remarks"})]})}),m.jsx(uo,{children:H.map((J,re)=>m.jsxs(rn,{children:[m.jsx(Dt,{className:"font-medium",children:J.date?gn(Oa(J.date),"EEEE, MMM d, yyyy"):"-"}),m.jsx(Dt,{children:m.jsx("p",{className:"font-medium",children:J.subjectName||"Unknown"})}),m.jsx(Dt,{className:"whitespace-nowrap",children:J.timeIn&&J.timeIn instanceof Date&&!isNaN(J.timeIn.getTime())?J.timeIn.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"-"}),m.jsx(Dt,{children:m.jsx(Q2e,{status:J.status})}),m.jsx(Dt,{className:"text-muted-foreground",children:J.remarks||"-"})]},J.id||re))})]})}):m.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[m.jsx(Fo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),m.jsx("p",{children:"No attendance records found"}),m.jsx("p",{className:"text-sm",children:"Your attendance will appear here once recorded"})]})]})]}),m.jsx(Tu,{open:d,onOpenChange:J=>!J&&Q(),children:m.jsxs(nc,{className:"sm:max-w-md",children:[m.jsx(ic,{children:m.jsxs(sc,{className:"flex items-center gap-2",children:[m.jsx(NC,{className:"w-5 h-5"}),"Scan Attendance QR Code"]})}),m.jsx("div",{className:"space-y-4",children:_?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:`w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4 ${_==="present"?"bg-green-100":_==="late"?"bg-yellow-100":_==="already"?"bg-blue-100":"bg-red-100"}`,children:_==="present"?m.jsx(Ts,{className:"w-10 h-10 text-green-600"}):_==="late"?m.jsx(Wl,{className:"w-10 h-10 text-yellow-600"}):_==="already"?m.jsx(no,{className:"w-10 h-10 text-blue-600"}):m.jsx(Cp,{className:"w-10 h-10 text-red-600"})}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:_==="present"?"Present!":_==="late"?"Marked Late":_==="already"?"Already Checked In":"Scan Failed"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:O}),m.jsxs("div",{className:"flex gap-2 justify-center",children:[_==="error"&&m.jsx(yt,{onClick:Y,variant:"outline",children:"Try Again"}),m.jsx(yt,{onClick:Q,children:"Done"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative aspect-square bg-black rounded-lg overflow-hidden",children:[m.jsx("div",{id:I,className:"w-full h-full"}),A&&m.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(Yi,{className:"w-12 h-12 animate-spin mx-auto mb-2"}),m.jsx("p",{children:"Processing..."})]})}),!g&&!A&&m.jsx("div",{className:"absolute inset-0 bg-gray-900 flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(Yi,{className:"w-12 h-12 animate-spin mx-auto mb-2"}),m.jsx("p",{children:"Starting camera..."})]})})]}),m.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Point your camera at the QR code displayed by your teacher"}),m.jsxs(yt,{variant:"outline",className:"w-full",onClick:Q,children:[m.jsx(Op,{className:"w-4 h-4 mr-2"}),"Cancel"]}),m.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Note: The QR code changes after each scan to prevent sharing"})]})})]})})]})}function e_e(){const{user:t}=$i(),{data:e}=qf(),r=M.useRef(null),[n,i]=M.useState("subject-monthly"),[s,o]=M.useState(""),[u,d]=M.useState(gn(new Date,"yyyy-MM")),[f,g]=M.useState(""),[x,_]=M.useState(!1),[T,O]=M.useState(!1),{data:E}=z1(s?parseInt(s):0),{data:A}=La({queryKey:["teacher-attendance",t?.id],queryFn:async()=>{if(!t?.id)return[];const{data:K}=await St.from("subjects").select("id").eq("teacher_id",t.id);if(!K||K.length===0)return[];const z=K.map(Y=>Y.id),{data:Z,error:Q}=await St.from("attendance").select(`
          id, student_id, subject_id, date, status, time_in, remarks,
          student:users!student_id(full_name),
          subject:subjects!subject_id(name)
        `).in("subject_id",z);if(Q)throw new Error("Failed to fetch attendance records");return(Z||[]).map(Y=>({id:Y.id,studentId:Y.student_id,subjectId:Y.subject_id,date:Y.date,status:Y.status,timeIn:Y.time_in,remarks:Y.remarks,studentName:Y.student?.full_name||"Unknown",subjectName:Y.subject?.name||"Unknown"}))},enabled:!!t?.id}),R=M.useMemo(()=>{const K=[],z=new Date;for(let Z=0;Z<12;Z++){const Q=new Date(z.getFullYear(),z.getMonth()-Z,1);K.push({value:gn(Q,"yyyy-MM"),label:gn(Q,"MMMM yyyy")})}return K},[]),P=M.useMemo(()=>{if(!A||!s)return[];let K=A.filter(z=>z.subjectId.toString()===s);if(n==="subject-monthly"&&u){const z=_9(Oa(u+"-01")),Z=b9(Oa(u+"-01"));K=K.filter(Q=>{const Y=Oa(Q.date);return A9(Y,{start:z,end:Z})})}return n==="student-subject"&&f&&(K=K.filter(z=>z.studentId.toString()===f)),K.sort((z,Z)=>new Date(Z.date).getTime()-new Date(z.date).getTime()),K},[A,s,u,f,n]),I=M.useMemo(()=>{const K=P.length,z=P.filter(re=>re.status==="present").length,Z=P.filter(re=>re.status==="late").length,Q=P.filter(re=>re.status==="absent").length,Y=P.filter(re=>re.status==="excused").length,J=K>0?((z+Z)/K*100).toFixed(1):"0";return{total:K,present:z,late:Z,absent:Q,excused:Y,attendanceRate:J}},[P]),D=M.useMemo(()=>{const K={};return P.forEach(z=>{const Z=z.studentId.toString();K[Z]||(K[Z]={name:z.studentName,records:[],stats:{present:0,late:0,absent:0,excused:0,total:0}}),K[Z].records.push(z),K[Z].stats[z.status]++,K[Z].stats.total++}),K},[P]),L=e?.find(K=>K.id.toString()===s),F=E?.find(K=>K.id.toString()===f),U=()=>{_(!0),O(!0),setTimeout(()=>_(!1),500)},H=()=>{const K=r.current;if(!K)return;const z=window.open("","_blank");if(!z)return;z.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Attendance Report - ${L?.name||"Report"}</title>
          
      <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { color: #166534; margin-bottom: 5px; }
        h2 { color: #333; margin-top: 20px; }
        .header { border-bottom: 2px solid #166534; padding-bottom: 10px; margin-bottom: 20px; }
        .meta { color: #666; font-size: 14px; }
        .stats-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin: 20px 0; }
        .stat-box { border: 1px solid #ddd; padding: 10px; border-radius: 5px; text-align: center; }
        .stat-value { font-size: 24px; font-weight: bold; }
        .stat-label { font-size: 12px; color: #666; }
        .present { color: #16a34a; }
        .late { color: #ca8a04; }
        .absent { color: #dc2626; }
        .excused { color: #2563eb; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f3f4f6; }
        .badge { padding: 2px 8px; border-radius: 4px; font-size: 12px; }
        .badge-present { background: #dcfce7; color: #166534; }
        .badge-late { background: #fef3c7; color: #92400e; }
        .badge-absent { background: #fee2e2; color: #991b1b; }
        .badge-excused { background: #dbeafe; color: #1e40af; }
        @media print { body { print-color-adjust: exact; -webkit-print-color-adjust: exact; } }
      </style>
    
        </head>
        <body>
          ${K.innerHTML}
        </body>
      </html>
    `),z.document.close(),z.onload=()=>{z.print()}},W=K=>{switch(K){case"present":return m.jsx(Fn,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Present"});case"late":return m.jsx(Fn,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Late"});case"absent":return m.jsx(Fn,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Absent"});case"excused":return m.jsx(Fn,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Excused"});default:return m.jsx(Fn,{variant:"secondary",children:K})}},ce=()=>!(!s||n==="subject-monthly"&&!u||n==="student-subject"&&!f);return m.jsxs("div",{className:"space-y-4 sm:space-y-6 overflow-x-hidden",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold font-display text-gray-900",children:"Reports"}),m.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mt-1",children:"Generate attendance reports and statistics"})]}),m.jsxs("div",{className:"grid lg:grid-cols-[350px_1fr] gap-4 sm:gap-6",children:[m.jsxs(zt,{className:"shadow-sm h-fit",children:[m.jsxs(Qr,{className:"p-4 sm:p-6",children:[m.jsxs(Jr,{className:"flex items-center gap-2 text-base sm:text-lg",children:[m.jsx(B0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Report Configuration"]}),m.jsx(Rn,{className:"text-xs sm:text-sm",children:"Select the type of report and configure parameters"})]}),m.jsxs(Xt,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 pt-0",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pa,{className:"text-sm",children:"Report Type"}),m.jsx(sT,{value:n,onValueChange:K=>{i(K),O(!1)},children:m.jsxs(aT,{className:"grid w-full grid-cols-1 h-auto",children:[m.jsxs(Ld,{value:"subject-monthly",className:"flex items-center gap-2 py-2 sm:py-3 text-xs sm:text-sm",children:[m.jsx(Hd,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Subject Monthly Report"]}),m.jsxs(Ld,{value:"subject-semester",className:"flex items-center gap-2 py-2 sm:py-3 text-xs sm:text-sm",children:[m.jsx(iP,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Subject Semester Report"]}),m.jsxs(Ld,{value:"student-subject",className:"flex items-center gap-2 py-2 sm:py-3 text-xs sm:text-sm",children:[m.jsx(Qo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Student Report"]})]})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pa,{className:"text-sm",children:"Subject"}),m.jsxs(di,{value:s,onValueChange:K=>{o(K),g(""),O(!1)},children:[m.jsx(ei,{className:"text-sm",children:m.jsx(fi,{placeholder:"Select a subject"})}),m.jsx(ti,{children:e?.map(K=>m.jsxs(or,{value:K.id.toString(),children:[K.code," - ",K.name]},K.id))})]})]}),n==="subject-monthly"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pa,{className:"text-sm",children:"Month"}),m.jsxs(di,{value:u,onValueChange:K=>{d(K),O(!1)},children:[m.jsx(ei,{className:"text-sm",children:m.jsx(fi,{placeholder:"Select month"})}),m.jsx(ti,{children:R.map(K=>m.jsx(or,{value:K.value,children:K.label},K.value))})]})]}),n==="student-subject"&&s&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Pa,{className:"text-sm",children:"Student"}),m.jsxs(di,{value:f,onValueChange:K=>{g(K),O(!1)},children:[m.jsx(ei,{className:"text-sm",children:m.jsx(fi,{placeholder:"Select a student"})}),m.jsx(ti,{children:E?.map(K=>m.jsx(or,{value:K.id.toString(),children:K.fullName},K.id))})]})]}),m.jsx(yt,{className:"w-full text-sm",size:"lg",onClick:U,disabled:!ce()||x,children:x?m.jsx(m.Fragment,{children:"Generating..."}):m.jsxs(m.Fragment,{children:[m.jsx(B0,{className:"w-4 h-4 mr-2"}),"Generate Report"]})})]})]}),m.jsxs(zt,{className:"shadow-sm overflow-hidden",children:[m.jsxs(Qr,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 sm:p-6",children:[m.jsxs("div",{children:[m.jsxs(Jr,{className:"flex items-center gap-2 text-base sm:text-lg",children:[m.jsx(iP,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Report Preview"]}),m.jsx(Rn,{className:"text-xs sm:text-sm",children:"Preview and download your generated report"})]}),T&&m.jsxs(yt,{onClick:H,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[m.jsx(oH,{className:"w-4 h-4 mr-2"}),"Print / Save PDF"]})]}),m.jsx(Xt,{className:"p-4 sm:p-6 pt-0",children:T?m.jsxs("div",{ref:r,className:"space-y-4 sm:space-y-6",children:[m.jsxs("div",{className:"header border-b-2 border-primary pb-3 sm:pb-4",children:[m.jsxs("h1",{className:"text-lg sm:text-2xl font-bold text-primary",children:[n==="subject-monthly"&&"Monthly Attendance Report",n==="subject-semester"&&"Semester Attendance Report",n==="student-subject"&&"Student Attendance Report"]}),m.jsxs("div",{className:"meta text-xs sm:text-sm text-muted-foreground mt-2 space-y-0.5 sm:space-y-1",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Subject:"})," ",L?.code," - ",L?.name]}),n==="subject-monthly"&&m.jsxs("p",{children:[m.jsx("strong",{children:"Period:"})," ",R.find(K=>K.value===u)?.label]}),n==="subject-semester"&&m.jsxs("p",{children:[m.jsx("strong",{children:"Period:"})," Full Semester"]}),n==="student-subject"&&F&&m.jsxs("p",{children:[m.jsx("strong",{children:"Student:"})," ",F.fullName]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Generated:"})," ",gn(new Date,"MMMM d, yyyy h:mm a")]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Generated By:"})," ",t?.fullName]})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Summary Statistics"}),m.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2 sm:gap-4",children:[m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold",children:I.total}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Total"})]}),m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold text-green-600",children:I.present}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Present"})]}),m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold text-yellow-600",children:I.late}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Late"})]}),m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold text-red-600",children:I.absent}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Absent"})]}),m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center col-span-3 sm:col-span-1",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold text-blue-600",children:I.excused}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Excused"})]})]}),m.jsx("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-primary/5 rounded-lg",children:m.jsxs("p",{className:"text-center",children:[m.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:[I.attendanceRate,"%"]}),m.jsx("span",{className:"text-muted-foreground ml-2 text-xs sm:text-base",children:"Attendance Rate"})]})})]}),(n==="subject-monthly"||n==="subject-semester")&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Student-wise Breakdown"}),m.jsx("div",{className:"rounded-md border overflow-x-auto",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(rn,{children:[m.jsx(Wt,{className:"text-xs sm:text-sm whitespace-nowrap",children:"Student Name"}),m.jsx(Wt,{className:"text-center text-xs sm:text-sm px-1 sm:px-4",children:"Present"}),m.jsx(Wt,{className:"text-center text-xs sm:text-sm px-1 sm:px-4",children:"Late"}),m.jsx(Wt,{className:"text-center text-xs sm:text-sm px-1 sm:px-4",children:"Absent"}),m.jsx(Wt,{className:"text-center text-xs sm:text-sm px-1 sm:px-4 hidden sm:table-cell",children:"Excused"}),m.jsx(Wt,{className:"text-center text-xs sm:text-sm px-1 sm:px-4",children:"Rate"})]})}),m.jsxs(uo,{children:[Object.entries(D).map(([K,z])=>{const Z=z.stats.total>0?((z.stats.present+z.stats.late)/z.stats.total*100).toFixed(0):"0";return m.jsxs(rn,{children:[m.jsx(Dt,{className:"font-medium text-xs sm:text-sm whitespace-nowrap",children:z.name}),m.jsx(Dt,{className:"text-center text-green-600 text-xs sm:text-sm",children:z.stats.present}),m.jsx(Dt,{className:"text-center text-yellow-600 text-xs sm:text-sm",children:z.stats.late}),m.jsx(Dt,{className:"text-center text-red-600 text-xs sm:text-sm",children:z.stats.absent}),m.jsx(Dt,{className:"text-center text-blue-600 text-xs sm:text-sm hidden sm:table-cell",children:z.stats.excused}),m.jsxs(Dt,{className:"text-center font-medium text-xs sm:text-sm",children:[Z,"%"]})]},K)}),Object.keys(D).length===0&&m.jsx(rn,{children:m.jsx(Dt,{colSpan:6,className:"text-center py-6 sm:py-8 text-muted-foreground text-xs sm:text-sm",children:"No attendance records found for this period"})})]})]})})]}),n==="student-subject"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Detailed Attendance Records"}),m.jsx("div",{className:"rounded-md border overflow-x-auto",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(rn,{children:[m.jsx(Wt,{className:"text-xs sm:text-sm whitespace-nowrap",children:"Date"}),m.jsx(Wt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Day"}),m.jsx(Wt,{className:"text-xs sm:text-sm whitespace-nowrap",children:"Time In"}),m.jsx(Wt,{className:"text-xs sm:text-sm",children:"Status"}),m.jsx(Wt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Remarks"})]})}),m.jsxs(uo,{children:[P.map(K=>m.jsxs(rn,{children:[m.jsx(Dt,{className:"text-xs sm:text-sm whitespace-nowrap",children:gn(Oa(K.date),"MMM d, yyyy")}),m.jsx(Dt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:gn(Oa(K.date),"EEEE")}),m.jsx(Dt,{className:"text-xs sm:text-sm whitespace-nowrap",children:K.timeIn?typeof K.timeIn=="string"?gn(new Date(K.timeIn.replace("Z","")),"h:mm a"):gn(K.timeIn,"h:mm a"):"-"}),m.jsx(Dt,{className:"text-xs sm:text-sm",children:W(K.status)}),m.jsx(Dt,{className:"text-muted-foreground text-xs sm:text-sm hidden sm:table-cell",children:K.remarks||"-"})]},K.id)),P.length===0&&m.jsx(rn,{children:m.jsx(Dt,{colSpan:5,className:"text-center py-6 sm:py-8 text-muted-foreground text-xs sm:text-sm",children:"No attendance records found for this student"})})]})]})})]})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 text-muted-foreground",children:[m.jsx(B0,{className:"w-12 h-12 sm:w-16 sm:h-16 mb-4 opacity-50"}),m.jsx("p",{className:"text-center text-sm sm:text-base",children:'Configure your report and click "Generate Report" to preview'})]})})]})]})]})}function t_e(){const{user:t,refreshUser:e}=$i(),{toast:r}=hi(),n=Qi(),i=M.useRef(null),[s,o]=M.useState(!1),{mutate:u,isPending:d}=Ds({mutationFn:async O=>{const E={};O.profilePicture!==void 0&&(E.profile_picture=O.profilePicture);const{error:A}=await St.from("users").update(E).eq("id",t?.id);if(A)throw new Error(A.message||"Failed to update profile");return{success:!0}},onSuccess:()=>{n.invalidateQueries({queryKey:["auth-user"]}),e?.(),r({title:"Profile Updated",description:"Your profile picture has been updated successfully."})},onError:O=>{r({title:"Error",description:O.message,variant:"destructive"})}}),f=async O=>{const E=O.target.files?.[0];if(!E)return;if(!E.type.startsWith("image/")){r({title:"Invalid File",description:"Please select an image file.",variant:"destructive"});return}if(E.size>2*1024*1024){r({title:"File Too Large",description:"Please select an image smaller than 2MB.",variant:"destructive"});return}o(!0);const A=new FileReader;A.onloadend=()=>{const R=A.result;u({profilePicture:R}),o(!1)},A.onerror=()=>{r({title:"Error",description:"Failed to read the file.",variant:"destructive"}),o(!1)},A.readAsDataURL(E)},g=()=>{u({profilePicture:""})};if(!t)return null;const x=O=>{switch(O){case"superadmin":return"bg-red-100 text-red-700 border-red-200";case"teacher":return"bg-blue-100 text-blue-700 border-blue-200";case"student":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=O=>{switch(O){case"superadmin":return"System Administrator";case"teacher":return"Teacher";case"student":return"Student";default:return O}},T=O=>O.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2);return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:"My Profile"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage your account information."})]}),m.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[m.jsxs(zt,{className:"md:col-span-1",children:[m.jsxs(Qr,{className:"text-center",children:[m.jsx(Jr,{children:"Profile Picture"}),m.jsx(Rn,{children:"Click to change your photo"})]}),m.jsxs(Xt,{className:"flex flex-col items-center gap-4",children:[m.jsxs("div",{className:"relative group",children:[m.jsxs(Vv,{className:"h-32 w-32 border-4 border-primary/10 shadow-lg",children:[m.jsx(CV,{src:t.profilePicture||void 0,alt:t.fullName,className:"object-cover"}),m.jsx(qv,{className:"bg-primary text-primary-foreground text-3xl font-bold",children:T(t.fullName)})]}),m.jsx("button",{onClick:()=>i.current?.click(),disabled:d||s,className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 cursor-pointer",children:d||s?m.jsx(Yi,{className:"h-8 w-8 text-white animate-spin"}):m.jsx(nP,{className:"h-8 w-8 text-white"})})]}),m.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:f,className:"hidden"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(yt,{variant:"outline",size:"sm",onClick:()=>i.current?.click(),disabled:d||s,children:[m.jsx(nP,{className:"h-4 w-4 mr-2"}),"Change Photo"]}),t.profilePicture&&m.jsx(yt,{variant:"ghost",size:"sm",onClick:g,disabled:d||s,className:"text-destructive hover:text-destructive",children:"Remove"})]}),m.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Supported formats: JPG, PNG, GIF",m.jsx("br",{}),"Maximum size: 2MB"]})]})]}),m.jsxs(zt,{className:"md:col-span-2",children:[m.jsxs(Qr,{children:[m.jsx(Jr,{children:"Account Information"}),m.jsx(Rn,{children:"Your personal details and role"})]}),m.jsxs(Xt,{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:m.jsx(H6,{className:"h-5 w-5 text-primary"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),m.jsx("p",{className:"text-lg font-semibold",children:t.fullName})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:m.jsx(eH,{className:"h-5 w-5 text-secondary-foreground"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Number"}),m.jsx("p",{className:"text-lg font-semibold",children:t.idNumber})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:m.jsx(dH,{className:"h-5 w-5 text-secondary-foreground"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Role"}),m.jsx("div",{className:"flex items-center gap-2 mt-1",children:m.jsx(Fn,{variant:"outline",className:`${x(t.role)} font-medium`,children:_(t.role)})})]})]}),t.createdAt&&m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:m.jsx(Hd,{className:"h-5 w-5 text-secondary-foreground"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Created"}),m.jsx("p",{className:"text-lg font-semibold",children:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:m.jsx(OC,{className:"h-5 w-5 text-secondary-foreground"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Password"}),m.jsx(Na,{href:"/forgot-password?from=profile",className:"text-primary hover:underline font-medium",children:"Reset Password"})]})]})]})]})]})]})}function r_e(){return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:m.jsx(zt,{className:"w-full max-w-md mx-4",children:m.jsxs(Xt,{className:"pt-6",children:[m.jsxs("div",{className:"flex mb-4 gap-2",children:[m.jsx(no,{className:"h-8 w-8 text-red-500"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function n_e({children:t}){const{user:e,logout:r}=$i(),{settings:n}=Vf(),[i,s]=vu(),[o,u]=M.useState(!1),[d,f]=M.useState([]);M.useEffect(()=>{i.startsWith("/attendance")&&f(E=>E.includes("attendance")?E:[...E,"attendance"])},[i]);const g=E=>{f(A=>A.includes(E)?A.filter(R=>R!==E):[...A,E])};if(!e)return null;const x=({href:E,icon:A,label:R})=>{const P=i===E;return m.jsx(Na,{href:E,children:m.jsxs("div",{className:Je("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer",P?"bg-primary text-primary-foreground shadow-lg shadow-primary/20":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[m.jsx(A,{className:"w-5 h-5"}),m.jsx("span",{children:R})]})})},_=({menuId:E,icon:A,label:R,defaultHref:P,subItems:I})=>{const D=d.includes(E),L=I.some(H=>i===H.href),F=()=>{d.includes(E)||f(H=>[...H,E]),s(P)},U=H=>{H.stopPropagation(),g(E)};return m.jsxs("div",{children:[m.jsxs("div",{className:Je("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer",L?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),onClick:F,children:[m.jsx(A,{className:"w-5 h-5"}),m.jsx("span",{className:"flex-1",children:R}),m.jsx(TC,{className:Je("w-4 h-4 transition-transform duration-200 hover:scale-110",D&&"rotate-180"),onClick:U})]}),m.jsx("div",{className:Je("overflow-hidden transition-all duration-200",D?"max-h-40 opacity-100":"max-h-0 opacity-0"),children:m.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-border pl-4",children:I.map(H=>{const W=i===H.href;return m.jsx(Na,{href:H.href,children:m.jsxs("div",{className:Je("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer",W?"bg-primary text-primary-foreground shadow-md shadow-primary/20":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[m.jsx(H.icon,{className:"w-4 h-4"}),m.jsx("span",{children:H.label})]})},H.href)})})})]})},O={student:[{href:"/dashboard",icon:bw,label:"Dashboard"},{href:"/subjects",icon:Ra,label:"My Subjects"},{href:"/attendance",icon:Fo,label:"Attendance"}],teacher:[{href:"/dashboard",icon:bw,label:"Dashboard"},{href:"/subjects",icon:Ra,label:"My Classes"},{type:"expandable",menuId:"attendance",icon:Fo,label:"Attendance",defaultHref:"/attendance",subItems:[{href:"/attendance",icon:Fo,label:"Take Attendance"},{href:"/attendance/history",icon:JW,label:"Attendance History"}]},{href:"/reports",icon:B0,label:"Reports"}],superadmin:[{href:"/dashboard",icon:bw,label:"Dashboard"},{href:"/users",icon:Qo,label:"User Management"},{href:"/enrollments",icon:K0,label:"Enrollments"},{href:"/settings",icon:z6,label:"System Settings"}]}[e.role]||[];return m.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>u(!1)}),m.jsxs("aside",{className:Je("fixed md:sticky top-0 left-0 z-50 h-screen w-72 bg-white border-r border-border flex flex-col transition-transform duration-300 ease-out",o?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[m.jsx("div",{className:"px-8 py-4 border-b border-border/50",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex-1",children:n.logoUrl?m.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-full h-auto object-contain max-h-20"}):m.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center text-white shadow-lg shadow-primary/20",children:m.jsx(Tp,{className:"w-6 h-6"})})}),m.jsx(yt,{variant:"ghost",size:"icon",className:"md:hidden -mr-2 ml-2",onClick:()=>u(!1),children:m.jsx(Op,{className:"w-5 h-5"})})]})}),m.jsx("div",{className:"flex-1 px-4 py-6 space-y-1",children:O.map(E=>E.type==="expandable"?m.jsx(_,{menuId:E.menuId,icon:E.icon,label:E.label,defaultHref:E.defaultHref,subItems:E.subItems},E.menuId):m.jsx(x,{...E},E.href))}),m.jsxs("div",{className:"p-4 border-t border-border/50",children:[m.jsx(Na,{href:"/profile",children:m.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 mb-2 rounded-lg cursor-pointer hover:bg-secondary transition-colors duration-200",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center text-secondary-foreground font-bold overflow-hidden",children:e.profilePicture?m.jsx("img",{src:e.profilePicture,alt:e.fullName,className:"w-full h-full object-cover"}):e.fullName.charAt(0)}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-semibold truncate",children:e.fullName}),m.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:e.role})]})]})}),m.jsxs(yt,{variant:"outline",className:"w-full justify-start gap-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 hover:border-destructive/20",onClick:()=>r(),children:[m.jsx(tH,{className:"w-4 h-4"}),"Sign Out"]})]})]}),m.jsxs("main",{className:"flex-1 min-w-0 flex flex-col",children:[m.jsxs("div",{className:"md:hidden bg-white border-b border-border p-4 flex items-center gap-3 sticky top-0 z-30",children:[m.jsx(yt,{variant:"ghost",size:"icon",onClick:()=>u(!o),children:o?m.jsx(Op,{className:"w-6 h-6"}):m.jsx(nH,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex items-center gap-2",children:[n.logoUrl?m.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-6 h-6 object-contain"}):m.jsx(Tp,{className:"w-6 h-6 text-primary"}),m.jsx("span",{className:"font-bold text-primary",children:n.systemTitle})]})]}),m.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:m.jsx("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})})]})]})}function Po({component:t,allowedRoles:e}){const{user:r,isLoading:n}=$i();return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsx(Yi,{className:"w-8 h-8 animate-spin text-primary"})}):r?e&&!e.includes(r.role)?m.jsx(z0,{to:"/dashboard"}):m.jsx(n_e,{children:m.jsx(t,{})}):m.jsx(z0,{to:"/login"})}function i_e(){const{user:t,isLoading:e}=$i();return e?null:t?m.jsx(z0,{to:"/dashboard"}):m.jsx(z0,{to:"/login"})}function s_e(){const{user:t}=$i();return t?.role==="student"?m.jsx(J2e,{}):m.jsx(S2e,{})}function a_e(){return m.jsxs(gz,{children:[m.jsx(cs,{path:"/login",component:iJ}),m.jsx(cs,{path:"/forgot-password",component:aJ}),m.jsx(cs,{path:"/reset-password",component:gJ}),m.jsx(cs,{path:"/dashboard",children:m.jsx(Po,{component:Z0e})}),m.jsx(cs,{path:"/subjects",children:m.jsx(Po,{component:qbe})}),m.jsx(cs,{path:"/attendance",children:m.jsx(Po,{component:s_e})}),m.jsx(cs,{path:"/attendance/history",children:m.jsx(Po,{component:E2e,allowedRoles:["teacher","superadmin"]})}),m.jsx(cs,{path:"/reports",children:m.jsx(Po,{component:e_e,allowedRoles:["teacher","superadmin"]})}),m.jsx(cs,{path:"/users",children:m.jsx(Po,{component:Qbe,allowedRoles:["superadmin"]})}),m.jsx(cs,{path:"/enrollments",children:m.jsx(Po,{component:r2e,allowedRoles:["superadmin"]})}),m.jsx(cs,{path:"/settings",children:m.jsx(Po,{component:o2e,allowedRoles:["superadmin"]})}),m.jsx(cs,{path:"/profile",children:m.jsx(Po,{component:t_e})}),m.jsx(cs,{path:"/",component:i_e}),m.jsx(cs,{component:r_e})]})}function o_e(){return m.jsx(Dz,{client:Yz,children:m.jsx(oZ,{children:m.jsxs(bK,{children:[m.jsx(XH,{}),m.jsx(a_e,{})]})})})}Wq.createRoot(document.getElementById("root")).render(m.jsx(o_e,{}));
